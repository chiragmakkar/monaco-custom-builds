"use strict";(self.webpackChunkmonaco_custom_bundle=self.webpackChunkmonaco_custom_bundle||[]).push([[615],{91615:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Ho}),i(29769);var n=i(97108),s=i(46973),o=i(80855),r=i(17301),a=i(4669),c=i(61683),d=i(5976),l=i(66663),g=i(70666),h=i(69317),u=i(65520),p=i(73733),m=i(72042),b=i(88216),f=i(63580),y=i(33108),v=i(23193),S=i(72065),w=i(91847),C=i(44349),k=i(59422),x=i(89872),E=i(40382),I=i(41122),_=i(52062),T=i(61804),L=i(78244),D=i(86456),N=i(24448),M=i(1432),R=i(27169),A=i(9488),O=i(97295),W=i(75392),P=i(8030),F=i(84144),K=i(2382),B=i(14923),V=i(66135),U=i(98401),H=i(12021),j=i(90553);const G="keybinding.entry.template",$=(0,f.NC)("default","System"),q=(0,f.NC)("extension","Extension"),z=(0,f.NC)("user","User"),J=(0,W.or)(W.Ji,W.KZ,W.ir),Q=/@source:\s*(user|default|system|extension)/i,X=/@ext:\s*((".+")|([^\s]+))/i;let Z=class e extends K.N{constructor(e,t,i){super(),this.keybindingsService=t,this.extensionService=i,this._keybindingItems=[],this._keybindingItemsSortedByPrecedence=[],this.modifierLabels={ui:P.xo.modifierLabels[e],aria:P.X4.modifierLabels[e],user:P.r6.modifierLabels[e]}}fetch(t,i=!1){let n=i?this._keybindingItemsSortedByPrecedence:this._keybindingItems;const s=/@command:\s*(.+)/i.exec(t);if(s&&s[1])return n.filter((e=>e.command===s[1])).map((t=>({id:e.getId(t),keybindingItem:t,templateId:G})));if(Q.test(t))n=this.filterBySource(n,t),t=t.replace(Q,"");else{const e=X.exec(t);if(e&&(e[2]||e[3])){const i=e[2]?e[2].substring(1,e[2].length-1):e[3];n=this.filterByExtension(n,i),t=t.replace(X,"")}else{const e=/@keybinding:\s*((\".+\")|(\S+))/i.exec(t);e&&(e[2]||e[3])&&(t=e[2]||`"${e[3]}"`)}}return(t=t.trim())?this.filterByText(n,t):n.map((t=>({id:e.getId(t),keybindingItem:t,templateId:G})))}filterBySource(e,t){return/@source:\s*default/i.test(t)||/@source:\s*system/i.test(t)?e.filter((e=>e.source===$)):/@source:\s*user/i.test(t)?e.filter((e=>e.source===z)):/@source:\s*extension/i.test(t)?e.filter((e=>!(0,U.HD)(e.source)||e.source===q)):e}filterByExtension(e,t){return t=t.toLowerCase().trim(),e.filter((e=>!(0,U.HD)(e.source)&&(j.kP.equals(e.source.identifier,t)||e.source.displayName?.toLowerCase()===t.toLowerCase())))}filterByText(t,i){const n='"'===i.charAt(0),s='"'===i.charAt(i.length-1),o=n&&s;n&&(i=i.substring(1)),s&&(i=i.substring(0,i.length-1));const r=[],a=(i=i.trim()).split(" "),c=this.splitKeybindingWords(a);for(const n of t){const t=new Y(this.modifierLabels,n,i,a,c,o);(t.commandIdMatches||t.commandLabelMatches||t.commandDefaultLabelMatches||t.sourceMatches||t.whenMatches||t.keybindingMatches||t.extensionIdMatches||t.extensionLabelMatches)&&r.push({id:e.getId(n),templateId:G,commandLabelMatches:t.commandLabelMatches||void 0,commandDefaultLabelMatches:t.commandDefaultLabelMatches||void 0,keybindingItem:n,keybindingMatches:t.keybindingMatches||void 0,commandIdMatches:t.commandIdMatches||void 0,sourceMatches:t.sourceMatches||void 0,whenMatches:t.whenMatches||void 0,extensionIdMatches:t.extensionIdMatches||void 0,extensionLabelMatches:t.extensionLabelMatches||void 0})}return r}splitKeybindingWords(e){const t=[];for(const i of e)t.push(...(0,A.kX)(i.split("+")));return t}async resolve(t=new Map){const i=new j.C1;for(const e of this.extensionService.extensions)i.set(e.identifier,e);this._keybindingItemsSortedByPrecedence=[];const n=new Map;for(const s of this.keybindingsService.getKeybindings())s.command&&(this._keybindingItemsSortedByPrecedence.push(e.toKeybindingEntry(s.command,s,t,i)),n.set(s.command,!0));const s=this.keybindingsService.getDefaultKeybindings().map((e=>e.command));for(const o of(0,V.g)(n)){const n=new B.M(void 0,o,null,void 0,-1===s.indexOf(o),null,!1);this._keybindingItemsSortedByPrecedence.push(e.toKeybindingEntry(o,n,t,i))}return this._keybindingItemsSortedByPrecedence=(0,A.EB)(this._keybindingItemsSortedByPrecedence,(t=>e.getId(t))),this._keybindingItems=this._keybindingItemsSortedByPrecedence.slice(0).sort(((t,i)=>e.compareKeybindingData(t,i))),super.resolve()}static getId(e){return e.command+(e?.keybinding?.getAriaLabel()??"")+e.when+((0,U.HD)(e.source)?e.source:e.source.identifier.value)}static compareKeybindingData(e,t){return e.keybinding&&!t.keybinding?-1:t.keybinding&&!e.keybinding?1:e.commandLabel&&!t.commandLabel?-1:t.commandLabel&&!e.commandLabel?1:e.commandLabel&&t.commandLabel&&e.commandLabel!==t.commandLabel?e.commandLabel.localeCompare(t.commandLabel):e.command===t.command?e.keybindingItem.isDefault?1:-1:e.command.localeCompare(t.command)}static toKeybindingEntry(t,i,n,s){const o=F.BH.getCommand(t),r=n.get(t);let a=z;if(i.isDefault){const e=i.extensionId??(i.resolvedKeybinding?void 0:o?.source?.id);a=e?s.get(e)??q:$}return{keybinding:i.resolvedKeybinding,keybindingItem:i,command:t,commandLabel:e.getCommandLabel(o,r),commandDefaultLabel:e.getCommandDefaultLabel(o),when:i.when?i.when.serialize():"",source:a}}static getCommandDefaultLabel(e){if(!M.SQ.isDefaultVariant()&&e&&e.title&&e.title.original){const t=e.category?e.category.original:void 0,i=e.title.original;return t?(0,f.NC)("cat.title","{0}: {1}",t,i):i}return null}static getCommandLabel(e,t){if(e){const t=e.category?"string"==typeof e.category?e.category:e.category.value:void 0,i="string"==typeof e.title?e.title:e.title.value;return t?(0,f.NC)("cat.title","{0}: {1}",t,i):i}return t||""}};Z=(0,o.g)([(0,o.f)(1,w.d),(0,o.f)(2,H.QS)],Z);class Y{constructor(e,t,i,n,s,o){this.modifierLabels=e,this.commandIdMatches=null,this.commandLabelMatches=null,this.commandDefaultLabelMatches=null,this.sourceMatches=null,this.whenMatches=null,this.keybindingMatches=null,this.extensionIdMatches=null,this.extensionLabelMatches=null,o||(this.commandIdMatches=this.matches(i,t.command,(0,W.or)(W.KZ,W.lx),n),this.commandLabelMatches=t.commandLabel?this.matches(i,t.commandLabel,((e,i)=>(0,W.KZ)(e,t.commandLabel,!0)),n):null,this.commandDefaultLabelMatches=t.commandDefaultLabel?this.matches(i,t.commandDefaultLabel,((e,i)=>(0,W.KZ)(e,t.commandDefaultLabel,!0)),n):null,this.whenMatches=t.when?this.matches(null,t.when,(0,W.or)(W.KZ,W.lx),n):null,(0,U.HD)(t.source)?this.sourceMatches=this.matches(i,t.source,((e,i)=>(0,W.KZ)(e,t.source,!0)),n):this.extensionLabelMatches=t.source.displayName?this.matches(i,t.source.displayName,((e,i)=>(0,W.KZ)(e,t.commandLabel,!0)),n):null),this.keybindingMatches=t.keybinding?this.matchesKeybinding(t.keybinding,i,s,o):null}matches(e,t,i,n){let s=e?J(e,t):null;return s||(s=this.matchesWords(n,t,i)),s&&(s=this.filterAndSort(s)),s}matchesWords(e,t,i){let n=[];for(const s of e){const e=i(s,t);if(!e){n=null;break}n=[...n||[],...e]}return n}filterAndSort(e){return(0,A.EB)(e,(e=>e.start+"."+e.end)).filter((t=>!e.some((e=>!(e.start===t.start&&e.end===t.end)&&e.start<=t.start&&e.end>=t.end)))).sort(((e,t)=>e.start-t.start))}matchesKeybinding(e,t,i,n){const[s,o]=e.getChords(),r=e.getUserSettingsLabel(),a=e.getAriaLabel(),c=e.getLabel();if(r&&0===O.zY(t,r)||a&&0===O.zY(t,a)||c&&0===O.zY(t,c))return{firstPart:this.createCompleteMatch(s),chordPart:this.createCompleteMatch(o)};const d={};let l={};const g=[],h=[];let u=[],p=!0;for(let e=0;e<i.length;e++){const t=i[e];let r=!1,a=!1;p=p&&!d.keyCode;let c=!l.keyCode;if(p&&(r=this.matchPart(s,d,t,n),d.keyCode)){for(const e of u)-1===h.indexOf(e)&&g.splice(g.indexOf(e),1);l={},u=[],c=!1}c&&(a=this.matchPart(o,l,t,n)),r&&h.push(e),a&&u.push(e),(r||a)&&g.push(e),p=p&&this.isModifier(t)}if(g.length!==i.length)return null;if(n){if(!this.isCompleteMatch(s,d))return null;if(!(0,U.Qr)(l)&&!this.isCompleteMatch(o,l))return null}return this.hasAnyMatch(d)||this.hasAnyMatch(l)?{firstPart:d,chordPart:l}:null}matchPart(e,t,i,n){let s=!1;return this.matchesMetaModifier(e,i)&&(s=!0,t.metaKey=!0),this.matchesCtrlModifier(e,i)&&(s=!0,t.ctrlKey=!0),this.matchesShiftModifier(e,i)&&(s=!0,t.shiftKey=!0),this.matchesAltModifier(e,i)&&(s=!0,t.altKey=!0),this.matchesKeyCode(e,i,n)&&(t.keyCode=!0,s=!0),s}matchesKeyCode(e,t,i){if(!e)return!1;const n=e.keyAriaLabel||"";if(i||1===n.length||1===t.length){if(0===O.zY(n,t))return!0}else if((0,W.ir)(t,n))return!0;return!1}matchesMetaModifier(e,t){return!!e&&!!e.metaKey&&this.wordMatchesMetaModifier(t)}matchesCtrlModifier(e,t){return!!e&&!!e.ctrlKey&&this.wordMatchesCtrlModifier(t)}matchesShiftModifier(e,t){return!!e&&!!e.shiftKey&&this.wordMatchesShiftModifier(t)}matchesAltModifier(e,t){return!!e&&!!e.altKey&&this.wordMatchesAltModifier(t)}hasAnyMatch(e){return!!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.keyCode)}isCompleteMatch(e,t){return!(e&&(!t.keyCode||e.metaKey&&!t.metaKey||e.altKey&&!t.altKey||e.ctrlKey&&!t.ctrlKey||e.shiftKey&&!t.shiftKey))}createCompleteMatch(e){const t={};return e&&(t.keyCode=!0,e.metaKey&&(t.metaKey=!0),e.altKey&&(t.altKey=!0),e.ctrlKey&&(t.ctrlKey=!0),e.shiftKey&&(t.shiftKey=!0)),t}isModifier(e){return!!(this.wordMatchesAltModifier(e)||this.wordMatchesCtrlModifier(e)||this.wordMatchesMetaModifier(e)||this.wordMatchesShiftModifier(e))}wordMatchesAltModifier(e){return!!(O.qq(this.modifierLabels.ui.altKey,e)||O.qq(this.modifierLabels.aria.altKey,e)||O.qq(this.modifierLabels.user.altKey,e)||O.qq((0,f.NC)("option","option"),e))}wordMatchesCtrlModifier(e){return!!O.qq(this.modifierLabels.ui.ctrlKey,e)||!!O.qq(this.modifierLabels.aria.ctrlKey,e)||!!O.qq(this.modifierLabels.user.ctrlKey,e)}wordMatchesMetaModifier(e){return!!(O.qq(this.modifierLabels.ui.metaKey,e)||O.qq(this.modifierLabels.aria.metaKey,e)||O.qq(this.modifierLabels.user.metaKey,e)||O.qq((0,f.NC)("meta","meta"),e))}wordMatchesShiftModifier(e){return!!O.qq(this.modifierLabels.ui.shiftKey,e)||!!O.qq(this.modifierLabels.aria.shiftKey,e)||!!O.qq(this.modifierLabels.user.shiftKey,e)}}let ee=class e extends R.Q{static{this.ID="workbench.input.keybindings"}constructor(e){super(),this.searchOptions=null,this.resource=void 0,this.keybindingsModel=e.createInstance(Z,M.OS)}get typeId(){return e.ID}getName(){return f.NC("keybindingsInputName","Keyboard Shortcuts")}async resolve(){return this.keybindingsModel}matches(t){return t instanceof e}dispose(){this.keybindingsModel.dispose(),super.dispose()}};ee=(0,o.g)([(0,o.f)(0,S.TG)],ee);let te=class e extends R.Q{static{this.ID="workbench.input.settings2"}constructor(e){super(),this.resource=g.ov.from({scheme:l.lg.vscodeSettings,path:"settingseditor"}),this._settingsModel=e.createSettings2EditorModel()}matches(t){return super.matches(t)||t instanceof e}get typeId(){return e.ID}getName(){return f.NC("settingsEditor2InputName","Settings")}async resolve(){return this._settingsModel}dispose(){this._settingsModel.dispose(),super.dispose()}};te=(0,o.g)([(0,o.f)(0,s.UP)],te);var ie=i(24314),ne=i(3860),se=i(10469),oe=i(41264);function re(e,...t){return t.some((t=>e.includes(t)))}function ae(e){return""===e||(0,U.Jp)(e)}function ce(e){const t=Array.isArray(e.type)?e.type:[e.type],i=re(t,"null"),n=(re(t,"number")||re(t,"integer"))&&(1===t.length||2===t.length&&i),s=function(e){const t=Array.isArray(e.type)?e.type:[e.type],i=re(t,"null"),n=re(t,"integer")&&(1===t.length||2===t.length&&i);if(!(re(t,"number","integer")&&(1===t.length||2===t.length&&i)))return[];let s,o;return s="boolean"==typeof e.exclusiveMaximum?e.exclusiveMaximum?e.maximum:void 0:e.exclusiveMaximum,o="boolean"==typeof e.exclusiveMinimum?e.exclusiveMinimum?e.minimum:void 0:e.exclusiveMinimum,[{enabled:void 0!==s&&(void 0===e.maximum||s<=e.maximum),isValid:e=>e<s,message:f.NC("validations.exclusiveMax","Value must be strictly less than {0}.",s)},{enabled:void 0!==o&&(void 0===e.minimum||o>=e.minimum),isValid:e=>e>o,message:f.NC("validations.exclusiveMin","Value must be strictly greater than {0}.",o)},{enabled:void 0!==e.maximum&&(void 0===s||s>e.maximum),isValid:t=>t<=e.maximum,message:f.NC("validations.max","Value must be less than or equal to {0}.",e.maximum)},{enabled:void 0!==e.minimum&&(void 0===o||o<e.minimum),isValid:t=>t>=e.minimum,message:f.NC("validations.min","Value must be greater than or equal to {0}.",e.minimum)},{enabled:void 0!==e.multipleOf,isValid:t=>t%e.multipleOf==0,message:f.NC("validations.multipleOf","Value must be a multiple of {0}.",e.multipleOf)},{enabled:n,isValid:e=>e%1==0,message:f.NC("validations.expectedInteger","Value must be an integer.")}].filter((e=>e.enabled))}(e),o=function(e){const t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;let i;return"string"==typeof e.pattern&&(i=new RegExp(e.pattern)),[{enabled:void 0!==e.maxLength,isValid:t=>t.length<=e.maxLength,message:f.NC("validations.maxLength","Value must be {0} or fewer characters long.",e.maxLength)},{enabled:void 0!==e.minLength,isValid:t=>t.length>=e.minLength,message:f.NC("validations.minLength","Value must be {0} or more characters long.",e.minLength)},{enabled:void 0!==i,isValid:e=>i.test(e),message:e.patternErrorMessage||f.NC("validations.regex","Value must match regex `{0}`.",e.pattern)},{enabled:"color-hex"===e.format,isValid:e=>oe.Il.Format.CSS.parseHex(e),message:f.NC("validations.colorFormat","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.")},{enabled:"uri"===e.format||"uri-reference"===e.format,isValid:e=>!!e.length,message:f.NC("validations.uriEmpty","URI expected.")},{enabled:"uri"===e.format||"uri-reference"===e.format,isValid:e=>t.test(e),message:f.NC("validations.uriMissing","URI is expected.")},{enabled:"uri"===e.format,isValid:e=>{const i=e.match(t);return!(!i||!i[2])},message:f.NC("validations.uriSchemeMissing","URI with a scheme is expected.")},{enabled:void 0!==e.enum,isValid:t=>e.enum.includes(t),message:f.NC("validations.invalidStringEnumValue","Value is not accepted. Valid values: {0}.",e.enum?e.enum.map((e=>`"${e}"`)).join(", "):"[]")}].filter((e=>e.enabled))}(e),r=function(e){if("array"===e.type&&e.items&&!Array.isArray(e.items)){const t=e.items;if(t&&!Array.isArray(t.type)){const i=e=>"'"+e+"'";return n=>{if(!n)return null;let s="";if(!Array.isArray(n))return s+=f.NC("validations.arrayIncorrectType","Incorrect type. Expected an array."),s+="\n",s;const o=n;if(e.uniqueItems&&new Set(o).size<o.length&&(s+=f.NC("validations.stringArrayUniqueItems","Array has duplicate items"),s+="\n"),e.minItems&&o.length<e.minItems&&(s+=f.NC("validations.stringArrayMinItem","Array must have at least {0} items",e.minItems),s+="\n"),e.maxItems&&o.length>e.maxItems&&(s+=f.NC("validations.stringArrayMaxItem","Array must have at most {0} items",e.maxItems),s+="\n"),"string"===t.type){if(!(0,U.GI)(o))return s+=f.NC("validations.stringArrayIncorrectType","Incorrect type. Expected a string array."),s+="\n",s;if("string"==typeof t.pattern){const e=new RegExp(t.pattern);o.forEach((n=>{e.test(n)||(s+=t.patternErrorMessage||f.NC("validations.stringArrayItemPattern","Value {0} must match regex {1}.",i(n),i(t.pattern)))}))}const e=t.enum;e&&o.forEach((t=>{-1===e.indexOf(t)&&(s+=f.NC("validations.stringArrayItemEnum","Value {0} is not one of {1}",i(t),"["+e.map(i).join(", ")+"]"),s+="\n")}))}else"integer"!==t.type&&"number"!==t.type||o.forEach((e=>{const i=le(t,e);i&&(s+=`${e}: ${i}\n`)}));return s}}}return null}(e),a=function(e){if("object"===e.type){const{properties:t,patternProperties:i,additionalProperties:n}=e;return s=>{if(!s)return null;const o=[];return(0,U.Kn)(s)?Object.keys(s).forEach((e=>{const r=s[e];if(t&&e in t){const i=le(t[e],r);i&&o.push(`${e}: ${i}\n`)}else{if(i)for(const t in i)if(RegExp(t).test(e)){const n=le(i[t],r);return void(n&&o.push(`${e}: ${n}\n`))}if(!1===n)o.push(f.NC("validations.objectPattern","Property {0} is not allowed.\n",e));else if("object"==typeof n){const t=le(n,r);t&&o.push(`${e}: ${t}\n`)}}})):o.push(f.NC("validations.objectIncorrectType","Incorrect type. Expected an object.")),o.length?e.errorMessage?[e.errorMessage,...o].join(" "):o.join(" "):""}}return null}(e);return t=>{if(i&&ae(t))return"";const c=[];if(r){const e=r(t);e&&c.push(e)}if(a){const e=a(t);e&&c.push(e)}return"boolean"===e.type&&!0!==t&&!1!==t&&c.push(f.NC("validations.booleanIncorrectType",'Incorrect type. Expected "boolean".')),n&&(ae(t)||"boolean"==typeof t||Array.isArray(t)||isNaN(+t)?c.push(f.NC("validations.expectedNumeric","Value must be a number.")):c.push(...s.filter((e=>!e.isValid(+t))).map((e=>e.message)))),"string"===e.type&&(e.enum&&!(0,U.GI)(e.enum)?c.push(f.NC("validations.stringIncorrectEnumOptions","The enum options should be strings, but there is a non-string option. Please file an issue with the extension author.")):(0,U.HD)(t)?c.push(...o.filter((e=>!e.isValid(t))).map((e=>e.message))):c.push(f.NC("validations.stringIncorrectType",'Incorrect type. Expected "string".'))),c.length?e.errorMessage?[e.errorMessage,...c].join(" "):c.join(" "):""}}function de(e,t){if(void 0!==t)return(Array.isArray(t)?t:[t]).some((t=>function(e,t){const i=typeof e;return"boolean"===t?"boolean"===i:"object"===t?e&&!Array.isArray(e)&&"object"===i:"null"===t?null===e:"array"===t?Array.isArray(e):"string"===t?"string"===i:"number"!==t&&"integer"!==t||"number"===i}(e,t)))?void 0:f.NC("invalidTypeError","Setting has an invalid type, expected {0}. Fix in JSON.",JSON.stringify(t))}function le(e,t){return ce(e)(t)}const ge={startLineNumber:-1,startColumn:-1,endLineNumber:-1,endColumn:-1};function he(e){return-1===e.startLineNumber&&-1===e.startColumn&&-1===e.endLineNumber&&-1===e.endColumn}class ue extends K.N{constructor(){super(...arguments),this._currentResultGroups=new Map}updateResultGroup(e,t){return t?this._currentResultGroups.set(e,t):this._currentResultGroups.delete(e),this.removeDuplicateResults(),this.update()}removeDuplicateResults(){const e=new Set;[...this._currentResultGroups.keys()].sort(((e,t)=>this._currentResultGroups.get(e).order-this._currentResultGroups.get(t).order)).forEach((t=>{const i=this._currentResultGroups.get(t);i.result.filterMatches=i.result.filterMatches.filter((t=>!e.has(t.setting.key))),i.result.filterMatches.forEach((t=>e.add(t.setting.key)))}))}compareTwoNullableNumbers(e,t){const i=e??Number.MAX_SAFE_INTEGER,n=t??Number.MAX_SAFE_INTEGER;return i<n?-1:i>n?1:0}filterSettings(e,t,i){const n=this.filterGroups,o=[];for(const e of n){const n=t(e);for(const t of e.sections)for(const r of t.settings){const t=i(r,e);(n||t)&&o.push({setting:r,matches:t&&t.matches,matchType:t?.matchType??s.af.None,score:t?.score??0})}}return o.sort(((e,t)=>{if(e.matchType!==t.matchType)return t.matchType-e.matchType;if(e.setting.extensionInfo&&t.setting.extensionInfo&&e.setting.extensionInfo.id===t.setting.extensionInfo.id){if(e.setting.categoryLabel!==t.setting.categoryLabel&&(void 0!==e.setting.categoryOrder||void 0!==t.setting.categoryOrder)&&e.setting.categoryOrder!==t.setting.categoryOrder)return this.compareTwoNullableNumbers(e.setting.categoryOrder,t.setting.categoryOrder);if(e.setting.categoryLabel===t.setting.categoryLabel&&(void 0!==e.setting.order||void 0!==t.setting.order)&&e.setting.order!==t.setting.order)return this.compareTwoNullableNumbers(e.setting.order,t.setting.order)}return t.score-e.score})),o}getPreference(e){for(const t of this.settingsGroups)for(const i of t.sections)for(const t of i.settings)if(e===t.key)return t}collectMetadata(e){const t=Object.create(null);let i=!1;return e.forEach((e=>{e.result.metadata&&(t[e.id]=e.result.metadata,i=!0)})),i?t:null}get filterGroups(){return this.settingsGroups}}class pe extends ue{constructor(e,t){super(),this._configurationTarget=t,this._onDidChangeGroups=this._register(new a.Q5),this.onDidChangeGroups=this._onDidChangeGroups.event,this.settingsModel=e.object.textEditorModel,this._register(this.onWillDispose((()=>e.dispose()))),this._register(this.settingsModel.onDidChangeContent((()=>{this._settingsGroups=void 0,this._onDidChangeGroups.fire()})))}get uri(){return this.settingsModel.uri}get configurationTarget(){return this._configurationTarget}get settingsGroups(){return this._settingsGroups||this.parse(),this._settingsGroups}get content(){return this.settingsModel.getValue()}findValueMatches(e,t){return this.settingsModel.findMatches(e,t.valueRange,!1,!1,null,!1).map((e=>e.range))}isSettingsProperty(e,t){return 0===t.length}parse(){this._settingsGroups=be(this.settingsModel,((e,t)=>this.isSettingsProperty(e,t)))}update(){const e=[...this._currentResultGroups.values()];if(!e.length)return;const t=[],i=[];let n;e.forEach((e=>{e.result.filterMatches.forEach((e=>{t.push(e.setting),e.matches&&i.push(...e.matches)}))}));const s=this.settingsGroups[0];s&&(n={id:s.id,range:s.range,sections:[{settings:t}],title:s.title,titleRange:s.titleRange,order:s.order,extensionInfo:s.extensionInfo});const o=this.collectMetadata(e);return{allGroups:this.settingsGroups,filteredGroups:n?[n]:[],matches:i,metadata:o}}}let me=class extends ue{constructor(e,t){super(),this._defaultSettings=e,this._onDidChangeGroups=this._register(new a.Q5),this.onDidChangeGroups=this._onDidChangeGroups.event,this.dirty=!1,this._register(t.onDidChangeConfiguration((e=>{7===e.source&&(this.dirty=!0,this._onDidChangeGroups.fire())}))),this._register(x.B.as(v.IP.Configuration).onDidSchemaChange((e=>{this.dirty=!0,this._onDidChangeGroups.fire()})))}get filterGroups(){return this.settingsGroups.slice(1)}get settingsGroups(){const e=this._defaultSettings.getSettingsGroups(this.dirty);return this.additionalGroups?.length&&e.push(...this.additionalGroups),this.dirty=!1,e}setAdditionalGroups(e){this.additionalGroups=e}findValueMatches(e,t){return[]}update(){throw new Error("Not supported")}};function be(e,t){const i=[];let n=null,s=null,o=[];const r=[];let a=-1;const d={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0};function l(t,c,d){if(Array.isArray(o)?o.push(t):s&&(o[s]=t),r.length===a+1||r.length===a+2&&null!==n){const s=r.length===a+1?i[i.length-1]:n.overrides[n.overrides.length-1];if(s){const i=e.getPositionAt(c),n=e.getPositionAt(c+d);s.value=t,s.valueRange={startLineNumber:i.lineNumber,startColumn:i.column,endLineNumber:n.lineNumber,endColumn:n.column},s.range=Object.assign(s.range,{endLineNumber:n.lineNumber,endColumn:n.column})}}}const g={onObjectBegin:(i,n)=>{if(t(s,r)){a=r.length;const t=e.getPositionAt(i);d.startLineNumber=t.lineNumber,d.startColumn=t.column}const c={};l(c,i,n),o=c,s=null,r.push(o)},onObjectProperty:(t,o,c)=>{if(s=t,r.length===a+1||r.length===a+2&&null!==n){const s=e.getPositionAt(o),d={description:[],descriptionIsMarkdown:!1,key:t,keyRange:{startLineNumber:s.lineNumber,startColumn:s.column+1,endLineNumber:s.lineNumber,endColumn:s.column+c},range:{startLineNumber:s.lineNumber,startColumn:s.column,endLineNumber:0,endColumn:0},value:null,valueRange:ge,descriptionRanges:[],overrides:[],overrideOf:(0,U.f6)(n)};r.length===a+1?(i.push(d),v.eU.test(t)&&(n=d)):n.overrides.push(d)}},onObjectEnd:(t,s)=>{if(o=r.pop(),-1!==a&&(r.length===a+1||r.length===a+2&&null!==n)){const o=r.length===a+1?i[i.length-1]:n.overrides[n.overrides.length-1];if(o){const i=e.getPositionAt(t+s);o.valueRange=Object.assign(o.valueRange,{endLineNumber:i.lineNumber,endColumn:i.column}),o.range=Object.assign(o.range,{endLineNumber:i.lineNumber,endColumn:i.column})}r.length===a+1&&(n=null)}if(r.length===a){const i=e.getPositionAt(t);d.endLineNumber=i.lineNumber,d.endColumn=i.column,a=-1}},onArrayBegin:(e,t)=>{const i=[];l(i,e,t),r.push(o),o=i,s=null},onArrayEnd:(t,s)=>{if(o=r.pop(),r.length===a+1||r.length===a+2&&null!==n){const o=r.length===a+1?i[i.length-1]:n.overrides[n.overrides.length-1];if(o){const i=e.getPositionAt(t+s);o.valueRange=Object.assign(o.valueRange,{endLineNumber:i.lineNumber,endColumn:i.column}),o.range=Object.assign(o.range,{endLineNumber:i.lineNumber,endColumn:i.column})}}},onLiteralValue:l,onError:e=>{const t=i[i.length-1];t&&(he(t.range)||he(t.keyRange)||he(t.valueRange))&&i.pop()}};return e.isDisposed()||(0,c.Vn)(e.getValue(),g),i.length>0?[{sections:[{settings:i}],title:"",titleRange:ge,range:d}]:[]}me=(0,o.g)([(0,o.f)(1,y.Ui)],me);class fe extends pe{constructor(){super(...arguments),this._configurationGroups=[]}get configurationGroups(){return this._configurationGroups}parse(){super.parse(),this._configurationGroups=be(this.settingsModel,((e,t)=>0===t.length))}isSettingsProperty(e,t){return"settings"===e&&1===t.length}}class ye extends d.JT{constructor(e,t){super(),this._mostCommonlyUsedSettingsKeys=e,this.target=t,this._settingsByName=new Map,this._onDidChange=this._register(new a.Q5),this.onDidChange=this._onDidChange.event}getContent(e=!1){return this._content&&!e||this.initialize(),this._content}getContentWithoutMostCommonlyUsed(e=!1){return this._contentWithoutMostCommonlyUsed&&!e||this.initialize(),this._contentWithoutMostCommonlyUsed}getSettingsGroups(e=!1){return this._allSettingsGroups&&!e||this.initialize(),this._allSettingsGroups}initialize(){this._allSettingsGroups=this.parse(),this._content=this.toContent(this._allSettingsGroups,0),this._contentWithoutMostCommonlyUsed=this.toContent(this._allSettingsGroups,1)}parse(){const e=this.getRegisteredGroups();return this.initAllSettingsMap(e),[this.getMostCommonlyUsedSettings(e),...e]}getRegisteredGroups(){const e=x.B.as(v.IP.Configuration).getConfigurations().slice(),t=this.removeEmptySettingsGroups(e.sort(this.compareConfigurationNodes).reduce(((e,t,i,n)=>this.parseConfig(t,e,n)),[]));return this.sortGroups(t)}sortGroups(e){return e.forEach((e=>{e.sections.forEach((e=>{e.settings.sort(((e,t)=>e.key.localeCompare(t.key)))}))})),e}initAllSettingsMap(e){this._settingsByName=new Map;for(const t of e)for(const e of t.sections)for(const t of e.settings)this._settingsByName.set(t.key,t)}getMostCommonlyUsedSettings(e){const t=(0,A.kX)(this._mostCommonlyUsedSettingsKeys.map((e=>{const t=this._settingsByName.get(e);return t?{description:t.description,key:t.key,value:t.value,keyRange:ge,range:ge,valueRange:ge,overrides:[],scope:4,type:t.type,enum:t.enum,enumDescriptions:t.enumDescriptions,descriptionRanges:[]}:null})));return{id:"mostCommonlyUsed",range:ge,title:f.NC("commonlyUsed","Commonly Used"),titleRange:ge,sections:[{settings:t}]}}parseConfig(e,t,i,n,s){s=s||{};let o=e.title;if(!o){const t=i.find((t=>t.id===e.id&&t.title));t&&(o=t.title)}if(o&&(n?n.sections[n.sections.length-1].title=o:(n=t.find((t=>t.title===o&&t.extensionInfo?.id===e.extensionInfo?.id)))||(n={sections:[{settings:[]}],id:e.id||"",title:o||"",titleRange:ge,order:e.order,range:ge,extensionInfo:e.extensionInfo},t.push(n))),e.properties){n||(n={sections:[{settings:[]}],id:e.id||"",title:e.id||"",titleRange:ge,order:e.order,range:ge,extensionInfo:e.extensionInfo},t.push(n));const i=[];for(const t of[...n.sections[n.sections.length-1].settings,...this.parseSettings(e)])s[t.key]||(i.push(t),s[t.key]=!0);i.length&&(n.sections[n.sections.length-1].settings=i)}return e.allOf?.forEach((e=>this.parseConfig(e,t,i,n,s))),t}removeEmptySettingsGroups(e){const t=[];for(const i of e)i.sections=i.sections.filter((e=>e.settings.length>0)),i.sections.length&&t.push(i);return t}parseSettings(e){const t=[],i=e.properties,n=e.extensionInfo,s=e.extensionInfo?.id===e.id?e.title:e.id,o=e.order;for(const e in i){const r=i[e];if(this.matchesScope(r)){const i=r.default;let a=r.markdownDescription||r.description||"";"string"!=typeof a&&(a="");const c=a.split("\n"),d=v.eU.test(e)?this.parseOverrideSettings(r.default):[];let l;"array"===r.type&&r.items&&!Array.isArray(r.items)&&r.items.type&&(r.items.enum?l="enum":Array.isArray(r.items.type)||(l=r.items.type));const g="object"===r.type?r.properties:void 0,h="object"===r.type?r.patternProperties:void 0,u="object"===r.type?r.additionalProperties:void 0;let p=r.enum,m=r.markdownEnumDescriptions??r.enumDescriptions,b=!!r.markdownEnumDescriptions;"enum"!==l||Array.isArray(r.items)||(p=r.items.enum,m=r.items.markdownEnumDescriptions??r.items.enumDescriptions,b=!!r.items.markdownEnumDescriptions);let f=!1;"object"===r.type&&!r.additionalProperties&&r.properties&&Object.keys(r.properties).length&&(f=Object.keys(r.properties).every((e=>"boolean"===r.properties[e].type)));let y,S=!1;if(v.eU.test(e)&&(S=!0),!S){const e=r;e&&e.defaultValueSource&&(y=e.defaultValueSource)}t.push({key:e,value:i,description:c,descriptionIsMarkdown:!!r.markdownDescription,range:ge,keyRange:ge,valueRange:ge,descriptionRanges:[],overrides:d,scope:r.scope,type:r.type,arrayItemType:l,objectProperties:g,objectPatternProperties:h,objectAdditionalProperties:u,enum:p,enumDescriptions:m,enumDescriptionsAreMarkdown:b,uniqueItems:r.uniqueItems,tags:r.tags,disallowSyncIgnore:r.disallowSyncIgnore,restricted:r.restricted,extensionInfo:n,deprecationMessage:r.markdownDeprecationMessage||r.deprecationMessage,deprecationMessageIsMarkdown:!!r.markdownDeprecationMessage,validator:ce(r),enumItemLabels:r.enumItemLabels,allKeysAreBoolean:f,editPresentation:r.editPresentation,order:r.order,nonLanguageSpecificDefaultValueSource:y,isLanguageTagSetting:S,categoryLabel:s,categoryOrder:o})}}return t}parseOverrideSettings(e){return Object.keys(e).map((t=>({key:t,value:e[t],description:[],descriptionIsMarkdown:!1,range:ge,keyRange:ge,valueRange:ge,descriptionRanges:[],overrides:[]})))}matchesScope(e){return!e.scope||(6===this.target?-1!==se.ao.indexOf(e.scope):5!==this.target||-1!==se.G.indexOf(e.scope))}compareConfigurationNodes(e,t){if("number"!=typeof e.order)return 1;if("number"!=typeof t.order)return-1;if(e.order===t.order){const i=e.title||"",n=t.title||"";return i.localeCompare(n)}return e.order-t.order}toContent(e,t){const i=new Se;for(let n=t;n<e.length;n++)i.pushGroup(e[n],n===t,n===e.length-1);return i.getContent()}}class ve extends ue{constructor(e,t,i){super(),this._uri=e,this.defaultSettings=i,this._onDidChangeGroups=this._register(new a.Q5),this.onDidChangeGroups=this._onDidChangeGroups.event,this._register(i.onDidChange((()=>this._onDidChangeGroups.fire()))),this._model=t.object.textEditorModel,this._register(this.onWillDispose((()=>t.dispose())))}get uri(){return this._uri}get target(){return this.defaultSettings.target}get settingsGroups(){return this.defaultSettings.getSettingsGroups()}get filterGroups(){return this.settingsGroups.slice(1)}update(){if(this._model.isDisposed())return;const e=[...this._currentResultGroups.values()].sort(((e,t)=>e.order-t.order)),t=e.filter((e=>e.result.filterMatches.length)),i=(0,A.eJ)(this.settingsGroups).range.endLineNumber+2,{settingsGroups:n,matches:s}=this.writeResultGroups(t,i),o=this.collectMetadata(e);return e.length?{allGroups:this.settingsGroups,filteredGroups:n,matches:s,metadata:o}:void 0}writeResultGroups(e,t){const i=new Se(t-1),n=[],s=[];e.length&&(i.pushLine(","),e.forEach((e=>{const t=this.getGroup(e);n.push(t),s.push(...this.writeSettingsGroupToBuilder(i,t,e.result.filterMatches))})));const o=i.getContent()+"\n",r=this._model.getLineCount(),a=new ne.Y(t,1,t,1),c={text:o,forceMoveMarkers:!0,range:new ie.e(t,1,r,1)};this._model.pushEditOperations([a],[c],(()=>[a]));const d=Math.min(t+60,this._model.getLineCount());return this._model.tokenization.forceTokenization(d),{matches:s,settingsGroups:n}}writeSettingsGroupToBuilder(e,t,i){i=i.map((e=>({setting:e.setting,score:e.score,matches:e.matches&&e.matches.map((t=>new ie.e(t.startLineNumber-e.setting.range.startLineNumber,t.startColumn,t.endLineNumber-e.setting.range.startLineNumber,t.endColumn)))}))),e.pushGroup(t);return(0,A.xH)(i.map((e=>e.matches||[])).map(((e,i)=>{const n=t.sections[0].settings[i];return e.map((e=>new ie.e(e.startLineNumber+n.range.startLineNumber,e.startColumn,e.endLineNumber+n.range.startLineNumber,e.endColumn)))})))}copySetting(e){return{description:e.description,scope:e.scope,type:e.type,enum:e.enum,enumDescriptions:e.enumDescriptions,key:e.key,value:e.value,range:e.range,overrides:[],overrideOf:e.overrideOf,tags:e.tags,deprecationMessage:e.deprecationMessage,keyRange:ge,valueRange:ge,descriptionIsMarkdown:void 0,descriptionRanges:[]}}findValueMatches(e,t){return[]}getPreference(e){for(const t of this.settingsGroups)for(const i of t.sections)for(const t of i.settings)if(t.key===e)return t}getGroup(e){return{id:e.id,range:ge,title:e.label,titleRange:ge,sections:[{settings:e.result.filterMatches.map((e=>this.copySetting(e.setting)))}]}}}class Se{get lineCountWithOffset(){return this._contentByLines.length+this._rangeOffset}get lastLine(){return this._contentByLines[this._contentByLines.length-1]||""}constructor(e=0){this._rangeOffset=e,this._contentByLines=[]}pushLine(...e){this._contentByLines.push(...e)}pushGroup(e,t,i){this._contentByLines.push(t?"[{":"{");const n=this._pushGroup(e,"  ");if(n){const e=n.range.endLineNumber-this._rangeOffset,t=this._contentByLines[e-2];this._contentByLines[e-2]=t.substring(0,t.length-1)}this._contentByLines.push(i?"}]":"},")}_pushGroup(e,t){let i=null;const n=this.lineCountWithOffset+1;for(const n of e.sections){if(n.title){const e=this.lineCountWithOffset+1;this.addDescription([n.title],t,this._contentByLines),n.titleRange={startLineNumber:e,startColumn:1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length}}if(n.settings.length)for(const e of n.settings)this.pushSetting(e,t),i=e}return e.range={startLineNumber:n,startColumn:1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length},i}getContent(){return this._contentByLines.join("\n")}pushSetting(e,t){const i=this.lineCountWithOffset+1;this.pushSettingDescription(e,t);let n=t;n+=JSON.stringify(e.key),e.keyRange={startLineNumber:this.lineCountWithOffset+1,startColumn:n.indexOf(e.key)+1,endLineNumber:this.lineCountWithOffset+1,endColumn:e.key.length},n+=": ";const s=this.lineCountWithOffset+1;this.pushValue(e,n,t),e.valueRange={startLineNumber:s,startColumn:n.length+1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length+1},this._contentByLines[this._contentByLines.length-1]+=",",this._contentByLines.push(""),e.range={startLineNumber:i,startColumn:1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length}}pushSettingDescription(e,t){const i=e=>e.replace(/`#(.*)#`/g,((e,t)=>`\`${t}\``));e.descriptionRanges=[];const n=t+"// ",s=e.deprecationMessage?.split(/\n/g)??[];for(let t of[...s,...e.description])t=i(t),this._contentByLines.push(n+t),e.descriptionRanges.push({startLineNumber:this.lineCountWithOffset,startColumn:this.lastLine.indexOf(t)+1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length});e.enumDescriptions&&e.enumDescriptions.some((e=>!!e))&&e.enumDescriptions.forEach(((n,s)=>{const o=(r=String(e.enum[s]))&&r.replace(/\n/g,"\\n").replace(/\r/g,"\\r");var r;const a=n?`${o}: ${i(n)}`:o,c=a.split(/\n/g);c[0]=" - "+c[0],this._contentByLines.push(...c.map((e=>`${t}// ${e}`))),e.descriptionRanges.push({startLineNumber:this.lineCountWithOffset,startColumn:this.lastLine.indexOf(a)+1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length})}))}pushValue(e,t,i){const n=JSON.stringify(e.value,null,i);if(n&&"object"==typeof e.value)if(e.overrides&&e.overrides.length){this._contentByLines.push(t+" {");for(const t of e.overrides)this.pushSetting(t,i+i),this._contentByLines.pop();const n=e.overrides[e.overrides.length-1],s=this._contentByLines[n.range.endLineNumber-2];this._contentByLines[n.range.endLineNumber-2]=s.substring(0,s.length-1),this._contentByLines.push(i+"}")}else{const e=n.split("\n");this._contentByLines.push(t+e[0]);for(let t=1;t<e.length;t++)this._contentByLines.push(i+e[t])}else this._contentByLines.push(t+n)}addDescription(e,t,i){for(const n of e)i.push(t+"// "+n)}}class we extends Se{constructor(e="\t"){super(0),this.indent=e}pushGroup(e){this._pushGroup(e,this.indent)}}class Ce extends d.JT{constructor(e){super(),this.defaultSettings=e,this._content=null,this._register(e.onDidChange((()=>this._content=null)))}get content(){if(null===this._content){const e=new we;e.pushLine("{");for(const t of this.defaultSettings.getRegisteredGroups())e.pushGroup(t);e.pushLine("}"),this._content=e.getContent()}return this._content}}function ke(e){return"// "+f.NC("defaultKeybindingsHeader","Override key bindings by placing them into your key bindings file.")+"\n"+e.getDefaultKeybindingsContent()}let xe=class{constructor(e,t){this._uri=e,this.keybindingService=t}get uri(){return this._uri}get content(){return this._content||(this._content=ke(this.keybindingService)),this._content}getPreference(){return null}dispose(){}};xe=(0,o.g)([(0,o.f)(1,w.d)],xe);var Ee=i(43459),Ie=i(51219),_e=i(5826),Te=i(27733),Le=i(49452),De=i(35838);let Ne=class extends d.JT{constructor(e,t,i,n,s,o,r,c,d,h,u,p,m,b,f,y,v){super(),this.editorService=e,this.editorGroupService=t,this.textFileService=i,this.configurationService=n,this.notificationService=s,this.contextService=o,this.instantiationService=r,this.userDataProfileService=c,this.userDataProfilesService=d,this.textModelResolverService=h,this.modelService=p,this.jsonEditingService=m,this.languageService=b,this.labelService=f,this.remoteAgentService=y,this.textEditorService=v,this._onDispose=this._register(new a.Q5),this.defaultKeybindingsResource=g.ov.from({scheme:l.lg.vscode,authority:"defaultsettings",path:"/keybindings.json"}),this.defaultSettingsRawResource=g.ov.from({scheme:l.lg.vscode,authority:"defaultsettings",path:"/defaultSettings.json"}),this._register(u.onDidUpdateKeybindings((()=>{const e=p.getModel(this.defaultKeybindingsResource);e&&p.updateModel(e,ke(u))})))}get userSettingsResource(){return this.userDataProfileService.currentProfile.settingsResource}get workspaceSettingsResource(){if(1===this.contextService.getWorkbenchState())return null;const e=this.contextService.getWorkspace();return e.configuration||e.folders[0].toResource(s.kd)}get settingsEditor2Input(){return this.instantiationService.createInstance(te)}getFolderSettingsResource(e){const t=this.contextService.getWorkspaceFolder(e);return t?t.toResource(s.kd):null}resolveModel(e){if(this.isDefaultSettingsResource(e)){const t=this.getConfigurationTargetFromDefaultSettingsResource(e),i=this.languageService.createById("jsonc"),n=this._register(this.modelService.createModel("",i,e));let s;return this.configurationService.onDidChangeConfiguration((i=>{if(7===i.source){const i=this.modelService.getModel(e);if(!i)return;s=this.getDefaultSettings(t),this.modelService.updateModel(i,s.getContentWithoutMostCommonlyUsed(!0)),s._onDidChange.fire()}})),s||(s=this.getDefaultSettings(t),this.modelService.updateModel(n,s.getContentWithoutMostCommonlyUsed(!0))),n}if(this.defaultSettingsRawResource.toString()===e.toString()){const t=this.instantiationService.createInstance(Ce,this.getDefaultSettings(3)),i=this.languageService.createById("jsonc");return this._register(this.modelService.createModel(t.content,i,e))}if(this.defaultKeybindingsResource.toString()===e.toString()){const t=this.instantiationService.createInstance(xe,e),i=this.languageService.createById("jsonc");return this._register(this.modelService.createModel(t.content,i,e))}return null}async createPreferencesEditorModel(e){if(this.isDefaultSettingsResource(e))return this.createDefaultSettingsEditorModel(e);if(this.userSettingsResource.toString()===e.toString()||this.userDataProfilesService.defaultProfile.settingsResource.toString()===e.toString())return this.createEditableSettingsEditorModel(3,e);const t=await this.getEditableSettingsURI(5);if(t&&t.toString()===e.toString())return this.createEditableSettingsEditorModel(5,t);if(3===this.contextService.getWorkbenchState()){const t=await this.getEditableSettingsURI(6,e);if(t&&t.toString()===e.toString())return this.createEditableSettingsEditorModel(6,e)}const i=await this.remoteAgentService.getEnvironment(),n=i?i.settingsPath:null;return n&&n.toString()===e.toString()?this.createEditableSettingsEditorModel(4,e):null}openRawDefaultSettings(){return this.editorService.openEditor({resource:this.defaultSettingsRawResource})}openRawUserSettings(){return this.editorService.openEditor({resource:this.userSettingsResource})}shouldOpenJsonByDefault(){return"json"===this.configurationService.getValue("workbench.settings.editor")}openSettings(e={}){return(e={...e,target:3}).query&&(e.jsonEditor=!1),this.open(this.userSettingsResource,e)}openLanguageSpecificSettings(e,t={}){return this.shouldOpenJsonByDefault()?(t.query=void 0,t.revealSetting={key:`[${e}]`,edit:!0}):t.query=`@lang:${e}${t.query?` ${t.query}`:""}`,t.target=t.target??3,this.open(this.userSettingsResource,t)}open(e,t){return(t={...t,jsonEditor:t.jsonEditor??this.shouldOpenJsonByDefault()}).jsonEditor?this.openSettingsJson(e,t):this.openSettings2(t)}async openSettings2(e){const t=this.settingsEditor2Input;return e={...e,focusSearch:!0},await this.editorService.openEditor(t,(0,s.eM)(e),e.openToSide?N.O3:void 0),this.editorGroupService.activeGroup.activeEditorPane}openApplicationSettings(e={}){return e={...e,target:3},this.open(this.userDataProfilesService.defaultProfile.settingsResource,e)}openUserSettings(e={}){return e={...e,target:3},this.open(this.userSettingsResource,e)}async openRemoteSettings(e={}){const t=await this.remoteAgentService.getEnvironment();t&&(e={...e,target:4},this.open(t.settingsPath,e))}openWorkspaceSettings(e={}){return this.workspaceSettingsResource?(e={...e,target:5},this.open(this.workspaceSettingsResource,e)):(this.notificationService.info(f.NC("openFolderFirst","Open a folder or workspace first to create workspace or folder settings.")),Promise.reject(null))}async openFolderSettings(e={}){if(!(e={...e,target:6}).folderUri)throw new Error("Missing folder URI");const t=await this.getEditableSettingsURI(6,e.folderUri);if(!t)throw new Error(`Invalid folder URI - ${e.folderUri.toString()}`);return this.open(t,e)}async openGlobalKeybindingSettings(e,t){if(t={pinned:!0,revealIfOpened:!0,...t},e){const e="// "+f.NC("emptyKeybindingsHeader","Place your key bindings in this file to override the defaults")+"\n[\n]",i=this.userDataProfileService.currentProfile.keybindingsResource,n=!!this.configurationService.getValue("workbench.settings.openDefaultKeybindings");if(await this.createIfNotExists(i,e),n){const e=this.editorGroupService.activeGroup,n=this.editorGroupService.addGroup(e.id,3);await Promise.all([this.editorService.openEditor({resource:this.defaultKeybindingsResource,options:{pinned:!0,preserveFocus:!0,revealIfOpened:!0,override:I.Cr.id},label:f.NC("defaultKeybindings","Default Keybindings"),description:""}),this.editorService.openEditor({resource:i,options:t},n.id)])}else await this.editorService.openEditor({resource:i,options:t})}else{const e=await this.editorService.openEditor(this.instantiationService.createInstance(ee),{...t});t.query&&e.search(t.query)}}openDefaultKeybindingsFile(){return this.editorService.openEditor({resource:this.defaultKeybindingsResource,label:f.NC("defaultKeybindings","Default Keybindings")})}async openSettingsJson(e,t){const i=t?.openToSide?N.O3:void 0,n=await this.doOpenSettingsJson(e,t,i);return n&&t?.revealSetting&&await this.revealSetting(t.revealSetting.key,!!t.revealSetting.edit,n,e),n}async doOpenSettingsJson(e,t,i){const n=!!this.configurationService.getValue(s.tq),o=!!this.configurationService.getValue(s.pf);if(n||o)return this.doOpenSplitJSON(e,t,i);const r=t?.target??2,a=await this.getOrCreateEditableSettingsEditorInput(r,e);return t={...t,pinned:!0},await this.editorService.openEditor(a,(0,s.eM)(t),i)}async doOpenSplitJSON(e,t={},i){const n=t.target??2;await this.createSettingsIfNotExists(n,e);const o=this.createSplitJsonEditorInput(n,e);return t={...t,pinned:!0},this.editorService.openEditor(o,(0,s.eM)(t),i)}createSplitJsonEditorInput(e,t){const i=this.textEditorService.createTextEditor({resource:t}),n=this.instantiationService.createInstance(T.n,this.getDefaultSettingsResource(e),void 0,void 0,void 0,void 0);return this.instantiationService.createInstance(_.h,i.getName(),void 0,n,i)}createSettings2EditorModel(){return this.instantiationService.createInstance(me,this.getDefaultSettings(3))}getConfigurationTargetFromDefaultSettingsResource(e){return this.isDefaultWorkspaceSettingsResource(e)?5:this.isDefaultFolderSettingsResource(e)?6:3}isDefaultSettingsResource(e){return this.isDefaultUserSettingsResource(e)||this.isDefaultWorkspaceSettingsResource(e)||this.isDefaultFolderSettingsResource(e)}isDefaultUserSettingsResource(e){return"defaultsettings"===e.authority&&e.scheme===l.lg.vscode&&!!e.path.match(/\/(\d+\/)?settings\.json$/)}isDefaultWorkspaceSettingsResource(e){return"defaultsettings"===e.authority&&e.scheme===l.lg.vscode&&!!e.path.match(/\/(\d+\/)?workspaceSettings\.json$/)}isDefaultFolderSettingsResource(e){return"defaultsettings"===e.authority&&e.scheme===l.lg.vscode&&!!e.path.match(/\/(\d+\/)?resourceSettings\.json$/)}getDefaultSettingsResource(e){switch(e){case 5:return g.ov.from({scheme:l.lg.vscode,authority:"defaultsettings",path:"/workspaceSettings.json"});case 6:return g.ov.from({scheme:l.lg.vscode,authority:"defaultsettings",path:"/resourceSettings.json"})}return g.ov.from({scheme:l.lg.vscode,authority:"defaultsettings",path:"/settings.json"})}async getOrCreateEditableSettingsEditorInput(e,t){return await this.createSettingsIfNotExists(e,t),this.textEditorService.createTextEditor({resource:t})}async createEditableSettingsEditorModel(e,t){const i=this.contextService.getWorkspace();if(i.configuration&&i.configuration.toString()===t.toString()){const i=await this.textModelResolverService.createModelReference(t);return this.instantiationService.createInstance(fe,i,e)}const n=await this.textModelResolverService.createModelReference(t);return this.instantiationService.createInstance(pe,n,e)}async createDefaultSettingsEditorModel(e){const t=await this.textModelResolverService.createModelReference(e),i=this.getConfigurationTargetFromDefaultSettingsResource(e);return this.instantiationService.createInstance(ve,e,t,this.getDefaultSettings(i))}getDefaultSettings(e){return 5===e?(this._defaultWorkspaceSettingsContentModel||(this._defaultWorkspaceSettingsContentModel=new ye(this.getMostCommonlyUsedSettings(),e)),this._defaultWorkspaceSettingsContentModel):6===e?(this._defaultFolderSettingsContentModel||(this._defaultFolderSettingsContentModel=new ye(this.getMostCommonlyUsedSettings(),e)),this._defaultFolderSettingsContentModel):(this._defaultUserSettingsContentModel||(this._defaultUserSettingsContentModel=new ye(this.getMostCommonlyUsedSettings(),e)),this._defaultUserSettingsContentModel)}async getEditableSettingsURI(e,t){switch(e){case 1:return this.userDataProfilesService.defaultProfile.settingsResource;case 2:case 3:return this.userSettingsResource;case 4:{const e=await this.remoteAgentService.getEnvironment();return e?e.settingsPath:null}case 5:return this.workspaceSettingsResource;case 6:if(t)return this.getFolderSettingsResource(t)}return null}async createSettingsIfNotExists(e,t){if(3!==this.contextService.getWorkbenchState()||5!==e)await this.createIfNotExists(t,"{\n}");else{const e=this.contextService.getWorkspace().configuration;if(!e)return;const i=await this.textFileService.read(e);-1===Object.keys((0,c.Qc)(i.value)).indexOf("settings")&&await this.jsonEditingService.write(t,[{path:["settings"],value:{}}],!0)}}async createIfNotExists(e,t){try{await this.textFileService.read(e,{acceptTextOnly:!0})}catch(i){if(1!==i.fileOperationResult)throw i;try{return void await this.textFileService.write(e,t)}catch(t){throw new Error(f.NC("fail.createSettings","Unable to create '{0}' ({1}).",this.labelService.getUriLabel(e,{relative:!0}),(0,r.e$)(t)))}}}getMostCommonlyUsedSettings(){return["files.autoSave","editor.fontSize","editor.fontFamily","editor.tabSize","editor.renderWhitespace","editor.cursorStyle","editor.multiCursorModifier","editor.insertSpaces","editor.wordWrap","files.exclude","files.associations","workbench.editor.enablePreview"]}async revealSetting(e,t,i,n){const s=i?(0,u.Pi)(i.getControl()):null;if(!s)return;const o=await this.createPreferencesEditorModel(n);if(!o)return;const r=await this.getPositionToReveal(e,t,o,s);r&&(s.setPosition(r),s.revealPositionNearTop(r),s.focus(),t&&Te.n.get(s)?.triggerSuggest())}async getPositionToReveal(e,t,i,n){const s=n.getModel();if(!s)return null;const o=x.B.as(v.IP.Configuration).getConfigurationProperties()[e],r=v.eU.test(e);if(!o&&!r)return null;let a=null;const c=o?.type??"object";let d=i.getPreference(e);if(!d&&t){let t="object"===c||"array"===c?this.configurationService.inspect(e).defaultValue:(0,v.oG)(c);if(t=void 0===t&&r?{}:t,void 0!==t){const n=i instanceof fe?["settings",e]:[e];await this.jsonEditingService.write(i.uri,[{path:n,value:t}],!1),d=i.getPreference(e)}}if(d)if(t)if((0,U.Kn)(d.value)||Array.isArray(d.value)){a={lineNumber:d.valueRange.startLineNumber,column:d.valueRange.startColumn+1},n.setPosition(a),await h.wk.LineBreakInsert.runEditorCommand(null,n,null),a={lineNumber:a.lineNumber+1,column:s.getLineMaxColumn(a.lineNumber+1)};const e=s.getLineFirstNonWhitespaceColumn(a.lineNumber);e&&(n.setPosition({lineNumber:a.lineNumber,column:e}),await h.wk.LineBreakInsert.runEditorCommand(null,n,null),a={lineNumber:a.lineNumber,column:s.getLineMaxColumn(a.lineNumber)})}else a={lineNumber:d.valueRange.startLineNumber,column:d.valueRange.endColumn};else a={lineNumber:d.keyRange.startLineNumber,column:d.keyRange.startColumn};return a}dispose(){this._onDispose.fire(),super.dispose()}};Ne=(0,o.g)([(0,o.f)(0,N.AR),(0,o.f)(1,D.Qw),(0,o.f)(2,_e.MM),(0,o.f)(3,y.Ui),(0,o.f)(4,k.lT),(0,o.f)(5,E.ec),(0,o.f)(6,S.TG),(0,o.f)(7,Le.AP),(0,o.f)(8,De.lv),(0,o.f)(9,b.S),(0,o.f)(10,w.d),(0,o.f)(11,p.q),(0,o.f)(12,L.R),(0,o.f)(13,m.O),(0,o.f)(14,C.e),(0,o.f)(15,Ee.R),(0,o.f)(16,Ie.X)],Ne);var Me=i(36400),Re=i(15965),Ae=i(53084),Oe=i(51902);let We=class extends d.JT{constructor(e,t,i,n,s){super(),this.instantiationService=e,this.configurationService=t,this.productService=i,this.extensionManagementService=n,this.extensionEnablementService=s,this._installedExtensions=this.extensionManagementService.getInstalled(1).then((e=>e.filter((e=>this.extensionEnablementService.isEnabled(e))).filter((e=>e.manifest&&e.manifest.contributes&&e.manifest.contributes.configuration)).filter((e=>!!e.identifier.uuid))))}get remoteSearchAllowed(){return!!this.configurationService.getValue().workbench.settings.enableNaturalLanguageSearch&&!!this._endpoint.urlBase}get _endpoint(){const e=this.configurationService.getValue().workbench.settings;return e.naturalLanguageSearchEndpoint?{urlBase:e.naturalLanguageSearchEndpoint,key:e.naturalLanguageSearchKey}:{urlBase:this.productService.settingsSearchUrl}}getRemoteSearchProvider(e,t=!1){}getLocalSearchProvider(e){return this.instantiationService.createInstance(Pe,e)}};We=(0,o.g)([(0,o.f)(0,S.TG),(0,o.f)(1,y.Ui),(0,o.f)(2,Oe.a),(0,o.f)(3,Re.J6),(0,o.f)(4,Ae.uI)],We);let Pe=class e{static{this.EXACT_MATCH_SCORE=1e4}static{this.START_SCORE=1e3}constructor(e,t){this._filter=e,this.configurationService=t,this._filter=this._filter.replace(/[":]/g," ").replace(/  /g," ").trim()}searchModel(t,i){if(!this._filter)return Promise.resolve(null);let n=e.START_SCORE;const s=t.filterSettings(this._filter,this.getGroupFilter(this._filter),(i=>{const{matches:s,matchType:o}=new Fe(this._filter,i,!0,!0,((e,i)=>t.findValueMatches(e,i)),this.configurationService),r=this._filter===i.key?e.EXACT_MATCH_SCORE:n--;return s&&s.length?{matches:s,matchType:o,score:r}:null}));return s[0]&&s[0].score===e.EXACT_MATCH_SCORE?Promise.resolve({filterMatches:s.slice(0,1),exactMatch:!0}):Promise.resolve({filterMatches:s})}getGroupFilter(e){const t=O.GF(e,!1,{global:!0});return e=>t.test(e.title)}};Pe=(0,o.g)([(0,o.f)(1,y.Ui)],Pe);let Fe=class e{constructor(e,t,i,n,o,r){this.requireFullQueryMatch=i,this.searchDescription=n,this.valuesMatcher=o,this.configurationService=r,this.descriptionMatchingWords=new Map,this.keyMatchingWords=new Map,this.valueMatchingWords=new Map,this.matchType=s.af.None,this.matches=(0,A.EB)(this._findMatchesInSetting(e,t),(e=>`${e.startLineNumber}_${e.startColumn}_${e.endLineNumber}_${e.endColumn}_`))}_findMatchesInSetting(t,i){const n=this._doFindMatchesInSetting(t,i);if(i.overrides&&i.overrides.length)for(const s of i.overrides){const i=new e(t,s,this.requireFullQueryMatch,this.searchDescription,this.valuesMatcher,this.configurationService),o=t.split(" "),r=this.getRangesForWords(o,this.descriptionMatchingWords,[i.descriptionMatchingWords,i.keyMatchingWords,i.valueMatchingWords]),a=this.getRangesForWords(o,this.keyMatchingWords,[i.descriptionMatchingWords,i.keyMatchingWords,i.valueMatchingWords]),c=this.getRangesForWords(o,i.keyMatchingWords,[this.descriptionMatchingWords,this.keyMatchingWords,i.valueMatchingWords]),d=this.getRangesForWords(o,i.valueMatchingWords,[this.descriptionMatchingWords,this.keyMatchingWords,i.keyMatchingWords]);n.push(...r,...a,...c,...d),n.push(...i.matches),this.refreshMatchType(a.length+c.length),this.matchType|=i.matchType}return n}_doFindMatchesInSetting(e,t){const i=x.B.as(v.IP.Configuration).getConfigurationProperties()[t.key],n=e.split(" "),s=t.key.split(".").join(" "),o=this.configurationService.getValue(t.key);for(const e of n){if(this.searchDescription)for(let i=0;i<t.description.length;i++){const n=(0,W.KZ)(e,t.description[i],!0);n&&this.descriptionMatchingWords.set(e,n.map((e=>this.toDescriptionRange(t,e,i)))),this.checkForWholeWordMatchType(e,t.description[i])}const n=(0,W.or)(W.KZ,W.lx)(e,s);n&&this.keyMatchingWords.set(e,n.map((e=>this.toKeyRange(t,e)))),this.checkForWholeWordMatchType(e,s);const r="string"==typeof o?(0,W.ir)(e,o):null;r?this.valueMatchingWords.set(e,r.map((e=>this.toValueRange(t,e)))):i&&i.enum&&i.enum.some((t=>"string"==typeof t&&!!(0,W.ir)(e,t)))&&this.valueMatchingWords.set(e,[]),"string"==typeof o&&this.checkForWholeWordMatchType(e,o)}const r=[];if(this.searchDescription){for(let i=0;i<t.description.length;i++){const n=(0,W.or)(W.ir)(e,t.description[i]||"")||[];r.push(...n.map((e=>this.toDescriptionRange(t,e,i))))}0===r.length&&r.push(...this.getRangesForWords(n,this.descriptionMatchingWords,[this.keyMatchingWords,this.valueMatchingWords]))}const a=(0,W.or)(W.Ji,W.ir)(e,t.key),c=a?a.map((e=>this.toKeyRange(t,e))):this.getRangesForWords(n,this.keyMatchingWords,[this.descriptionMatchingWords,this.valueMatchingWords]);let d=[];if("string"==typeof o&&o){const i=(0,W.or)(W.Ji,W.ir)(e,o);d=i?i.map((e=>this.toValueRange(t,e))):this.getRangesForWords(n,this.valueMatchingWords,[this.keyMatchingWords,this.descriptionMatchingWords])}else d=this.valuesMatcher(e,t);return this.refreshMatchType(c.length),[...r,...c,...d]}checkForWholeWordMatchType(e,t){e=e.toLowerCase().replace(/[\s-\._]+$/,""),t=t.toLowerCase(),new RegExp(`\\b${O.ec(e)}\\b`).test(t)&&(this.matchType|=s.af.WholeWordMatch)}refreshMatchType(e){e&&(this.matchType|=s.af.KeyMatch)}getRangesForWords(e,t,i){const n=[];for(const s of e){const e=t.get(s);if(e)n.push(...e);else if(this.requireFullQueryMatch&&i.every((e=>!e.has(s))))return[]}return n}toKeyRange(e,t){return{startLineNumber:e.keyRange.startLineNumber,startColumn:e.keyRange.startColumn+t.start,endLineNumber:e.keyRange.startLineNumber,endColumn:e.keyRange.startColumn+t.end}}toDescriptionRange(e,t,i){return{startLineNumber:e.descriptionRanges[i].startLineNumber,startColumn:e.descriptionRanges[i].startColumn+t.start,endLineNumber:e.descriptionRanges[i].endLineNumber,endColumn:e.descriptionRanges[i].startColumn+t.end}}toValueRange(e,t){return{startLineNumber:e.valueRange.startLineNumber,startColumn:e.valueRange.startColumn+t.start+1,endLineNumber:e.valueRange.startLineNumber,endColumn:e.valueRange.startColumn+t.end+1}}};Fe=(0,o.g)([(0,o.f)(5,y.Ui)],Fe);var Ke=i(57482),Be=i(22258),Ve=i(3277);(0,Ve.Z)(".preferences-editor{display:flex;flex-direction:column}.preferences-editor>.preferences-header{padding:11px 32px 11px 27px}.preferences-editor .deprecation-warning{display:flex;margin-top:4px}.preferences-editor .deprecation-warning .icon{margin-right:3px}.preferences-editor .deprecation-warning .learnMore-button{margin-left:3px;text-decoration:underline}.preferences-editor>.preferences-editors-container.side-by-side-preferences-editor{flex:1}.preferences-editor>.preferences-editors-container.side-by-side-preferences-editor .preferences-header-container{line-height:28px}.settings-tabs-widget>.monaco-action-bar .action-item.disabled{display:none}.settings-tabs-widget>.monaco-action-bar .action-item{max-width:300px;overflow:hidden;text-overflow:ellipsis}.default-preferences-editor-container>.preferences-header-container>.default-preferences-header,.settings-tabs-widget>.monaco-action-bar .action-item .action-label{cursor:pointer;display:flex;font-size:11px;margin-right:5px;overflow:hidden;text-overflow:ellipsis;text-transform:uppercase}.default-preferences-editor-container>.preferences-header-container>.default-preferences-header,.preferences-editor .settings-tabs-widget>.monaco-action-bar .action-item .action-label{margin-left:33px}.settings-tabs-widget>.monaco-action-bar .action-item .action-label{background:none!important;border-radius:initial;display:block;padding:0}.settings-tabs-widget>.monaco-action-bar .action-item .action-label.folder-settings{display:flex}.default-preferences-editor-container>.preferences-header-container>.default-preferences-header,.settings-tabs-widget>.monaco-action-bar .action-item{padding:3px 0}.settings-tabs-widget>.monaco-action-bar .action-item .action-title{overflow:hidden;text-overflow:ellipsis}.settings-tabs-widget>.monaco-action-bar .action-item .action-details{font-size:10px;margin-left:.5em;opacity:.7;text-transform:none}.settings-tabs-widget .monaco-action-bar .action-item .dropdown-icon{font-size:12px;padding-left:.3em;padding-top:8px}.settings-tabs-widget .monaco-action-bar .action-item .dropdown-icon.hide{display:none}.settings-tabs-widget>.monaco-action-bar .action-item .action-label{color:var(--vscode-panelTitle-inactiveForeground)}.settings-tabs-widget>.monaco-action-bar .action-item .action-label.checked,.settings-tabs-widget>.monaco-action-bar .action-item .action-label:hover{border-bottom:1px solid var(--vscode-panelTitle-activeBorder);color:var(--vscode-panelTitle-activeForeground);outline:1px solid var(--vscode-contrastActiveBorder,transparent);outline-offset:-1px}.settings-tabs-widget>.monaco-action-bar .action-item .action-label:focus{border-bottom:1px solid var(--vscode-focusBorder);outline:1px solid transparent;outline-offset:-1px}.settings-tabs-widget>.monaco-action-bar .action-item .action-label:not(.checked):hover{outline-style:dashed}.preferences-header>.settings-header-widget{align-self:stretch;display:flex;flex:1;position:relative}.settings-header-widget>.settings-search-controls>.settings-count-widget{border-radius:2px;float:left;margin:6px 0;padding:0 8px}.settings-header-widget>.settings-search-controls{position:absolute;right:10px}.settings-header-widget>.settings-search-controls>.settings-count-widget.hide{display:none}.settings-header-widget>.settings-search-container{flex:1}.settings-header-widget>.settings-search-container>.settings-search-input{vertical-align:middle}.settings-header-widget>.settings-search-container>.settings-search-input>.monaco-inputbox{height:30px}.monaco-workbench.vs .settings-header-widget>.settings-search-container>.settings-search-input>.monaco-inputbox{border:1px solid #ddd}.settings-header-widget>.settings-search-container>.settings-search-input>.monaco-inputbox .input{font-size:14px;padding-left:10px}.monaco-editor .view-zones>.settings-header-widget{z-index:1}.monaco-editor .settings-header-widget .title-container{display:flex;user-select:none;-webkit-user-select:none}.monaco-editor .settings-header-widget .title-container .title{font-weight:700;text-transform:uppercase;white-space:nowrap}.monaco-editor .settings-header-widget .title-container .message{white-space:nowrap}.monaco-editor .settings-group-title-widget{z-index:1}.monaco-editor .settings-group-title-widget .title-container{cursor:pointer;display:flex;font-weight:700;user-select:none;-webkit-user-select:none;width:100%}.monaco-editor .settings-group-title-widget .title-container .title{overflow:hidden;white-space:nowrap}.monaco-editor.vs .settings-group-title-widget .title-container.focused,.monaco-editor.vs-dark .settings-group-title-widget .title-container.focused{outline:none!important}.monaco-editor .settings-group-title-widget .title-container.focused,.monaco-editor .settings-group-title-widget .title-container:hover{background-color:hsla(0,0%,60%,.2)}.monaco-editor.hc-black .settings-group-title-widget .title-container.focused{outline:1px dotted #f38518}.monaco-editor.hc-light .settings-group-title-widget .title-container.focused{outline:1px dotted #0f4a85}.monaco-editor .settings-group-title-widget .title-container .codicon{align-items:center;display:flex;height:100%;justify-content:center;margin:0 2px;width:16px}.monaco-editor .dim-configuration{color:#b1b1b1}.codicon-settings-edit:hover{cursor:pointer}",{});var Ue=i(16830),He=i(55621),je=i(94565),Ge=i(93983),$e=i(39282),qe=i(49989),ze=i(3701),Je=i(83240),Qe=i(63809),Xe=i(88813),Ze=i(26513);(0,Ve.Z)('.keybindings-editor{padding:11px 0 0 27px}.keybindings-overflow-widgets-container{height:0;left:0;overflow:visible;position:absolute;top:0;width:0;z-index:5000}.keybindings-editor>.keybindings-header{padding:0 10px 11px 0}.keybindings-editor>.keybindings-header>.search-container{position:relative}.keybindings-editor>.keybindings-header>.search-container>.keybindings-search-actions-container{display:flex;margin-top:4px;position:absolute;right:10px;top:0}.keybindings-editor>.keybindings-header>.search-container>.keybindings-search-actions-container>.recording-badge{margin-right:8px;padding:4px}.keybindings-editor>.keybindings-header.small>.search-container>.keybindings-search-actions-container>.recording-badge,.keybindings-editor>.keybindings-header>.search-container>.keybindings-search-actions-container>.recording-badge.disabled{display:none}.keybindings-editor>.keybindings-header>.search-container>.keybindings-search-actions-container .monaco-action-bar .action-item>.icon{height:18px;width:16px}.keybindings-editor>.keybindings-header>.search-container>.keybindings-search-actions-container .monaco-action-bar .action-item{margin-right:4px}.keybindings-editor .monaco-action-bar .action-item .monaco-custom-toggle{margin:0;padding:2px}.keybindings-editor .monaco-action-bar .action-item>.codicon{align-items:center;box-sizing:content-box;color:inherit;display:flex;justify-content:center}.keybindings-editor>.keybindings-header .open-keybindings-container{display:flex;margin-top:10px}.keybindings-editor>.keybindings-header .open-keybindings-container>div{opacity:.7}.keybindings-editor>.keybindings-header .open-keybindings-container>.file-name{cursor:pointer;margin-left:4px;text-decoration:underline}.keybindings-editor>.keybindings-header .open-keybindings-container>.file-name:focus{opacity:1}.keybindings-editor>.keybindings-body .keybindings-table-container{border-collapse:separate;border-spacing:0;width:100%}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr{cursor:default}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td{align-items:center;display:flex;overflow:hidden}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .actions .monaco-action-bar{display:none;flex:1}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-list-row.selected .monaco-table-tr .monaco-table-td .actions .monaco-action-bar,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-list-row:hover .monaco-table-tr .monaco-table-td .actions .monaco-action-bar,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table.focused .monaco-list-row.focused .monaco-table-tr .monaco-table-td .actions .monaco-action-bar{display:flex}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .monaco-action-bar .action-item>.icon{cursor:pointer;height:16px;margin-top:3px;width:16px}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .command.vertical-align-column{align-items:flex-start;flex-direction:column;justify-content:center}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .command .command-default-label{margin-top:2px;opacity:.8}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .keybinding .monaco-highlighted-label{padding-left:10px}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .when{width:100%}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .when .empty{padding-left:4px}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .when.input-mode .when-label{display:none}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .when .suggest-input-container{padding-left:10px}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .source a{cursor:pointer}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-list-row:not(.focused):not(.selected) .monaco-table-tr .monaco-table-td .source a{color:var(--vscode-textLink-foreground)}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .source a:hover{text-decoration:underline}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-list-row:not(.focused):not(.selected) .monaco-table-tr .monaco-table-td .source a:active,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-list-row:not(.focused):not(.selected) .monaco-table-tr .monaco-table-td .source a:hover{color:var(--vscode-textLink-activeForeground)}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .command,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .command .monaco-highlighted-label,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .command>.command-default-label,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .command>.command-id-label,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .command>.command-label,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .source .monaco-highlighted-label,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .when .monaco-highlighted-label{overflow:hidden;text-overflow:ellipsis}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .hide{display:none}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .code{display:flex;font-family:var(--monaco-monospace-font);font-size:90%;overflow:hidden}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .code.strong{background-color:hsla(0,0%,50%,.17);border-radius:4px;padding:1px 4px}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-tr .monaco-table-td .highlight{color:var(--vscode-list-highlightForeground);font-weight:700}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table.focused .monaco-list-row.selected .monaco-table-td .highlight,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table.focused .monaco-list-row.selected.focused .monaco-table-td .highlight{color:inherit}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table .monaco-list-row.selected .monaco-table-tr .monaco-table-td .monaco-keybinding-key,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table .monaco-list-row.selected.focused .monaco-table-tr .monaco-table-td .monaco-keybinding-key{color:var(--vscode-list-inactiveSelectionForeground)}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table .monaco-list-row.focused .monaco-table-tr .monaco-table-td .monaco-keybinding-key{color:var(--vscode-list-focusForeground)}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table.focused .monaco-list-row.selected .monaco-table-tr .monaco-table-td .monaco-keybinding-key{color:var(--vscode-list-activeSelectionForeground)}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table .monaco-list-row:hover:not(.selected):not(.focused) .monaco-table-tr .monaco-table-td .monaco-keybinding-key{color:var(--vscode-list-hoverForeground)}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr{background-color:var(--vscode-keybindingTable-rowsBackground)}.keybindings-editor>.keybindings-body>.keybindings-table-container .monaco-table-th{background-color:var(--vscode-keybindingTable-headerBackground)}.keybindings-editor .monaco-table-td,.keybindings-editor .monaco-table-th{padding-left:10px}.keybindings-editor .monaco-table-td[data-col-index="0"],.keybindings-editor .monaco-table-th[data-col-index="0"]{padding-left:20px}',{});var Ye=i(15393),et=i(65321),tt=i(98892),it=i(34650),nt=i(12983),st=i(74741),ot=i(90317),rt=i(23627),at=i(10829),ct=i(84972);(0,Ve.Z)(".defineKeybindingWidget{padding:10px;position:absolute}.defineKeybindingWidget .message{text-align:center;width:400px}.defineKeybindingWidget .existing,.defineKeybindingWidget .monaco-inputbox,.defineKeybindingWidget .output{display:block;margin-top:10px;text-align:center;width:400px}.defineKeybindingWidget .input{text-align:center}.defineKeybindingWidget .output{display:flex;justify-content:center}.defineKeybindingWidget .existing .existingText{cursor:pointer;text-decoration:underline}.defineKeybindingWidget .output .monaco-keybinding{margin:0 4px}.monaco-editor .keybindingInfo{background-color:rgba(100,100,250,.2);box-shadow:inset 0 0 0 1px #b9b9b9}.monaco-editor .keybindingError{background-color:hsla(0,94%,69%,.2);box-shadow:inset 0 0 0 1px #b9b9b9}",{});var dt=i(93794),lt=i(56346),gt=i(59069),ht=i(38626),ut=i(5606),pt=i(73910),mt=i(76033),bt=i(59365),ft=i(95935),yt=i(22980),vt=i(97532),St=i(25670),wt=i(73046),Ct=i(59554);const kt=(0,Ct.q5)("settings-folder-dropdown",wt.lA.triangleDown,(0,f.NC)("settingsScopeDropDownIcon","Icon for the folder dropdown button in the split JSON Settings editor.")),xt=(0,Ct.q5)("settings-more-action",wt.lA.gear,(0,f.NC)("settingsMoreActionIcon","Icon for the 'more actions' action in the Settings UI.")),Et=(0,Ct.q5)("keybindings-record-keys",wt.lA.recordKeys,(0,f.NC)("keybindingsRecordKeysIcon","Icon for the 'record keys' action in the keybinding UI.")),It=(0,Ct.q5)("keybindings-sort",wt.lA.sortPrecedence,(0,f.NC)("keybindingsSortIcon","Icon for the 'sort by precedence' toggle in the keybinding UI.")),_t=(0,Ct.q5)("keybindings-edit",wt.lA.edit,(0,f.NC)("keybindingsEditIcon","Icon for the edit action in the keybinding UI.")),Tt=(0,Ct.q5)("keybindings-add",wt.lA.add,(0,f.NC)("keybindingsAddIcon","Icon for the add action in the keybinding UI.")),Lt=(0,Ct.q5)("settings-edit",wt.lA.edit,(0,f.NC)("settingsEditIcon","Icon for the edit action in the Settings UI.")),Dt=(0,Ct.q5)("settings-remove",wt.lA.close,(0,f.NC)("settingsRemoveIcon","Icon for the remove action in the Settings UI.")),Nt=(0,Ct.q5)("settings-discard",wt.lA.discard,(0,f.NC)("preferencesDiscardIcon","Icon for the discard action in the Settings UI.")),Mt=(0,Ct.q5)("preferences-clear-input",wt.lA.clearAll,(0,f.NC)("preferencesClearInput","Icon for clear input in the Settings and keybinding UI.")),Rt=(0,Ct.q5)("preferences-filter",wt.lA.filter,(0,f.NC)("settingsFilter","Icon for the button that suggests filters for the Settings UI.")),At=(0,Ct.q5)("preferences-open-settings",wt.lA.goToFile,(0,f.NC)("preferencesOpenSettings","Icon for open settings commands."));var Ot=i(78787);let Wt=class extends mt.YH{constructor(e,t,i){super(null,e),this.contextService=t,this.contextMenuService=i,this._folderSettingCounts=new Map;const n=this.contextService.getWorkspace();this._folder=1===n.folders.length?n.folders[0]:null,this._register(this.contextService.onDidChangeWorkspaceFolders((()=>this.onWorkspaceFoldersChanged())))}get folder(){return this._folder}set folder(e){this._folder=e,this.update()}setCount(e,t){const i=this.contextService.getWorkspaceFolder(e);if(!i)throw new Error("unknown folder");const n=i.uri;this._folderSettingCounts.set(n.toString(),t),this.update()}render(e){this.element=e,this.container=e,this.labelElement=et.$(".action-title"),this.detailsElement=et.$(".action-details"),this.dropDownElement=et.$(".dropdown-icon.hide"+St.kS.asCSSSelector(kt)),this.anchorElement=et.$("a.action-label.folder-settings",{role:"button","aria-haspopup":"true",tabindex:"0"},this.labelElement,this.detailsElement,this.dropDownElement),this._register(et.nm(this.anchorElement,et.tw.MOUSE_DOWN,(e=>et.zB.stop(e)))),this._register(et.nm(this.anchorElement,et.tw.CLICK,(e=>this.onClick(e)))),this._register(et.nm(this.container,et.tw.KEY_UP,(e=>this.onKeyUp(e)))),et.R3(this.container,this.anchorElement),this.update()}onKeyUp(e){switch(new gt.y1(e).keyCode){case 3:case 10:return void this.onClick(e)}}onClick(e){et.zB.stop(e,!0),!this.folder||this._action.checked?this.showMenu():this._action.run(this._folder)}updateEnabled(){this.update()}updateChecked(){this.update()}onWorkspaceFoldersChanged(){const e=this._folder,t=this.contextService.getWorkspace();e&&(this._folder=t.folders.filter((t=>(0,ft.Xy)(t.uri,e.uri)))[0]||t.folders[0]),this._folder=this._folder?this._folder:1===t.folders.length?t.folders[0]:null,this.update(),this._action.checked&&this._action.run(this._folder)}update(){let e=0;this._folderSettingCounts.forEach((t=>e+=t));const t=this.contextService.getWorkspace();if(this._folder){this.labelElement.textContent=this._folder.name,this.anchorElement.title=this._folder.name;const i=this.labelWithCount(this._action.label,e);this.detailsElement.textContent=i,this.dropDownElement.classList.toggle("hide",1===t.folders.length||!this._action.checked)}else{const t=this.labelWithCount(this._action.label,e);this.labelElement.textContent=t,this.detailsElement.textContent="",this.anchorElement.title=this._action.label,this.dropDownElement.classList.remove("hide")}this.anchorElement.classList.toggle("checked",this._action.checked),this.container.classList.toggle("disabled",!this._action.enabled)}showMenu(){this.contextMenuService.showContextMenu({getAnchor:()=>this.container,getActions:()=>this.getDropdownMenuActions(),getActionViewItem:()=>{},onHide:()=>{this.anchorElement.blur()}})}getDropdownMenuActions(){const e=[],t=this.contextService.getWorkspace().folders;return 3===this.contextService.getWorkbenchState()&&t.length>0&&e.push(...t.map(((e,t)=>{const i=this._folderSettingCounts.get(e.uri.toString());return{id:"folderSettingsTarget"+t,label:this.labelWithCount(e.name,i),checked:this.folder&&(0,ft.Xy)(this.folder.uri,e.uri),enabled:!0,run:()=>this._action.run(e)}}))),e}labelWithCount(e,t){return t&&(e+=` (${t})`),e}};Wt=(0,o.g)([(0,o.f)(1,E.ec),(0,o.f)(2,ut.i)],Wt);let Pt=class extends dt.${constructor(e,t,i,n,s,o,r){super(),this.contextService=i,this.instantiationService=n,this.environmentService=s,this.labelService=o,this.languageService=r,this._settingsTarget=null,this._onDidTargetChange=this._register(new a.Q5),this.onDidTargetChange=this._onDidTargetChange.event,this.options=t??{},this.create(e),this._register(this.contextService.onDidChangeWorkbenchState((()=>this.onWorkbenchStateChanged()))),this._register(this.contextService.onDidChangeWorkspaceFolders((()=>this.update())))}resetLabels(){const e=this.environmentService.remoteAuthority,t=e&&this.labelService.getHostLabel(l.lg.vscodeRemote,e);this.userLocalSettings.label=(0,f.NC)("userSettings","User"),this.userRemoteSettings.label=(0,f.NC)("userSettingsRemote","Remote")+(t?` [${t}]`:""),this.workspaceSettings.label=(0,f.NC)("workspaceSettings","Workspace"),this.folderSettingsAction.label=(0,f.NC)("folderSettings","Folder")}create(e){const t=et.R3(e,et.$(".settings-tabs-widget"));this.settingsSwitcherBar=this._register(new ot.o(t,{orientation:0,focusOnlyEnabledItems:!0,ariaLabel:(0,f.NC)("settingsSwitcherBarAriaLabel","Settings Switcher"),animated:!1,actionViewItemProvider:e=>"folderSettings"===e.id?this.folderSettings:void 0})),this.userLocalSettings=new st.aU("userSettings","",".settings-tab",!0,(()=>this.updateTarget(3))),this.userLocalSettings.tooltip=(0,f.NC)("userSettings","User"),this.userRemoteSettings=new st.aU("userSettingsRemote","",".settings-tab",!0,(()=>this.updateTarget(4)));const i=this.environmentService.remoteAuthority,n=i&&this.labelService.getHostLabel(l.lg.vscodeRemote,i);this.userRemoteSettings.tooltip=(0,f.NC)("userSettingsRemote","Remote")+(n?` [${n}]`:""),this.workspaceSettings=new st.aU("workspaceSettings","",".settings-tab",!1,(()=>this.updateTarget(5))),this.folderSettingsAction=new st.aU("folderSettings","",".settings-tab",!1,(async e=>{this.updateTarget((0,E.dV)(e)?e.uri:3)})),this.folderSettings=this.instantiationService.createInstance(Wt,this.folderSettingsAction),this.resetLabels(),this.update(),this.settingsSwitcherBar.push([this.userLocalSettings,this.userRemoteSettings,this.workspaceSettings,this.folderSettingsAction])}get settingsTarget(){return this._settingsTarget}set settingsTarget(e){this._settingsTarget=e,this.userLocalSettings.checked=3===this.settingsTarget,this.userRemoteSettings.checked=4===this.settingsTarget,this.workspaceSettings.checked=5===this.settingsTarget,this.settingsTarget instanceof g.ov?(this.folderSettings.action.checked=!0,this.folderSettings.folder=this.contextService.getWorkspaceFolder(this.settingsTarget)):this.folderSettings.action.checked=!1}setResultCount(e,t){if(5===e){let e=(0,f.NC)("workspaceSettings","Workspace");t&&(e+=` (${t})`),this.workspaceSettings.label=e}else if(3===e){let e=(0,f.NC)("userSettings","User");t&&(e+=` (${t})`),this.userLocalSettings.label=e}else e instanceof g.ov&&this.folderSettings.setCount(e,t)}updateLanguageFilterIndicators(e){if(this.resetLabels(),e){const t=this.languageService.getLanguageName(e);if(t){const e=` [${t}]`;this.userLocalSettings.label+=e,this.userRemoteSettings.label+=e,this.workspaceSettings.label+=e,this.folderSettingsAction.label+=e}}}onWorkbenchStateChanged(){this.folderSettings.folder=null,this.update(),5===this.settingsTarget&&3===this.contextService.getWorkbenchState()&&this.updateTarget(3)}updateTarget(e){return this.settingsTarget===e||e instanceof g.ov&&this.settingsTarget instanceof g.ov&&(0,ft.Xy)(this.settingsTarget,e)||(this.settingsTarget=e,this._onDidTargetChange.fire(this.settingsTarget)),Promise.resolve(void 0)}async update(){this.settingsSwitcherBar.domNode.classList.toggle("empty-workbench",1===this.contextService.getWorkbenchState()),this.userRemoteSettings.enabled=!(!this.options.enableRemoteSettings||!this.environmentService.remoteAuthority),this.workspaceSettings.enabled=1!==this.contextService.getWorkbenchState(),this.folderSettings.action.enabled=3===this.contextService.getWorkbenchState()&&this.contextService.getWorkspace().folders.length>0,this.workspaceSettings.tooltip=(0,f.NC)("workspaceSettings","Workspace")}};Pt=(0,o.g)([(0,o.f)(2,E.ec),(0,o.f)(3,S.TG),(0,o.f)(4,Ot.n),(0,o.f)(5,C.e),(0,o.f)(6,m.O)],Pt);let Ft=class extends dt.${constructor(e,t,i,n,s,o){super(),this.options=t,this.contextViewService=i,this.instantiationService=n,this.contextKeyService=s,this.keybindingService=o,this._onDidChange=this._register(new a.Q5),this.onDidChange=this._onDidChange.event,this._onFocus=this._register(new a.Q5),this.onFocus=this._onFocus.event,this.create(e)}create(e){this.domNode=et.R3(e,et.$("div.settings-header-widget")),this.createSearchContainer(et.R3(this.domNode,et.$("div.settings-search-container"))),this.controlsDiv=et.R3(this.domNode,et.$("div.settings-search-controls")),this.options.showResultCount&&(this.countElement=et.R3(this.controlsDiv,et.$(".settings-count-widget")),this.countElement.style.backgroundColor=(0,pt.n_1)(pt.g8u),this.countElement.style.color=(0,pt.n_1)(pt.qeD),this.countElement.style.border=`1px solid ${(0,pt.n_1)(pt.lRK)}`),this.inputBox.inputElement.setAttribute("aria-live",this.options.ariaLive||"off"),this.options.ariaLabelledBy&&this.inputBox.inputElement.setAttribute("aria-labelledBy",this.options.ariaLabelledBy);const t=this._register(et.go(this.inputBox.inputElement));this._register(t.onDidFocus((()=>this._onFocus.fire())));const i=this.options.focusKey;i&&(this._register(t.onDidFocus((()=>i.set(!0)))),this._register(t.onDidBlur((()=>i.set(!1)))))}createSearchContainer(e){this.searchContainer=e;const t=et.R3(this.searchContainer,et.$("div.settings-search-input"));this.inputBox=this._register(this.createInputBox(t)),this._register(this.inputBox.onDidChange((e=>this._onDidChange.fire(e))))}createInputBox(e){return this._register(new yt.vF(e,this.contextViewService,{...this.options,showHistoryHint:()=>(0,vt.u)(this.keybindingService)},this.contextKeyService))}showMessage(e){this.countElement&&e!==this.countElement.textContent&&(this.countElement.textContent=e,this.inputBox.inputElement.setAttribute("aria-label",e),this.inputBox.inputElement.style.paddingRight=this.getControlsWidth()+"px")}layout(e){e.width<400?(this.countElement?.classList.add("hide"),this.inputBox.inputElement.style.paddingRight="0px"):(this.countElement?.classList.remove("hide"),this.inputBox.inputElement.style.paddingRight=this.getControlsWidth()+"px")}getControlsWidth(){return(this.countElement?et.w(this.countElement):0)+20}focus(){this.inputBox.focus(),this.getValue()&&this.inputBox.select()}hasFocus(){return this.inputBox.hasFocus()}clear(){this.inputBox.value=""}getValue(){return this.inputBox.value}setValue(e){return this.inputBox.value=e}dispose(){this.options.focusKey?.set(!1),super.dispose()}};Ft=(0,o.g)([(0,o.f)(2,ut.u),(0,o.f)(3,S.TG),(0,o.f)(4,Ge.i6),(0,o.f)(5,w.d)],Ft);class Kt extends d.JT{constructor(e){super(),this.editor=e,this._line=-1,this._preferences=[],this._editPreferenceDecoration=this.editor.createDecorationsCollection(),this._onClick=this._register(new a.Q5),this.onClick=this._onClick.event,this._register(this.editor.onMouseDown((e=>{2===e.target.type&&!e.target.detail.isAfterLines&&this.isVisible()&&this._onClick.fire(e)})))}get preferences(){return this._preferences}getLine(){return this._line}show(e,t,i){this._preferences=i;const n=[];this._line=e,n.push({options:{description:"edit-preference-widget-decoration",glyphMarginClassName:St.kS.asClassName(Lt),glyphMarginHoverMessage:(new bt.W5).appendText(t),stickiness:1},range:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1}}),this._editPreferenceDecoration.set(n)}hide(){this._editPreferenceDecoration.clear()}isVisible(){return this._editPreferenceDecoration.length>0}dispose(){this.hide(),super.dispose()}}var Bt=i(86253);let Vt=class extends Ft{constructor(e,t,i,n,s,o){super(e,t,i,n,s,o),this.recordDisposables=this._register(new d.SL),this._onKeybinding=this._register(new a.Q5),this.onKeybinding=this._onKeybinding.event,this._onEnter=this._register(new a.Q5),this.onEnter=this._onEnter.event,this._onEscape=this._register(new a.Q5),this.onEscape=this._onEscape.event,this._onBlur=this._register(new a.Q5),this.onBlur=this._onBlur.event,this._register((0,d.OF)((()=>this.stopRecordingKeys()))),this._chords=null,this._inputValue=""}clear(){this._chords=null,super.clear()}startRecordingKeys(){this.recordDisposables.add(et.nm(this.inputBox.inputElement,et.tw.KEY_DOWN,(e=>this._onKeyDown(new gt.y1(e))))),this.recordDisposables.add(et.nm(this.inputBox.inputElement,et.tw.BLUR,(()=>this._onBlur.fire()))),this.recordDisposables.add(et.nm(this.inputBox.inputElement,et.tw.INPUT,(()=>{this.setInputValue(this._inputValue)})))}stopRecordingKeys(){this._chords=null,this.recordDisposables.clear()}setInputValue(e){this._inputValue=e,this.inputBox.value=this._inputValue}_onKeyDown(e){e.preventDefault(),e.stopPropagation(),this.options.recordEnter||!e.equals(3)?e.equals(9)?this._onEscape.fire():this.printKeybinding(e):this._onEnter.fire()}printKeybinding(e){const t=this.keybindingService.resolveKeyboardEvent(e),i=`code: ${e.browserEvent.code}, keyCode: ${e.browserEvent.keyCode}, key: ${e.browserEvent.key} => UI: ${t.getAriaLabel()}, user settings: ${t.getUserSettingsLabel()}, dispatch: ${t.getDispatchChords()[0]}`,n=this.options;this._chords||(this._chords=[]),this._chords.length>0&&null===this._chords[this._chords.length-1].getDispatchChords()[0]?this._chords[this._chords.length-1]=t:(2===this._chords.length&&(this._chords=[]),this._chords.push(t));const s=this._chords.map((e=>e.getUserSettingsLabel()||"")).join(" ");this.setInputValue(n.quoteRecordedKeys?`"${s}"`:s),this.inputBox.inputElement.title=i,this._onKeybinding.fire(this._chords)}};Vt=(0,o.g)([(0,o.f)(2,ut.u),(0,o.f)(3,S.TG),(0,o.f)(4,Ge.i6),(0,o.f)(5,w.d)],Vt);let Ut=class e extends dt.${static{this.WIDTH=400}static{this.HEIGHT=110}constructor(t,i){super(),this.instantiationService=i,this._chords=null,this._isVisible=!1,this._onHide=this._register(new a.Q5),this._onDidChange=this._register(new a.Q5),this.onDidChange=this._onDidChange.event,this._onShowExistingKeybindings=this._register(new a.Q5),this.onShowExistingKeybidings=this._onShowExistingKeybindings.event,this._domNode=(0,ht.X)(document.createElement("div")),this._domNode.setDisplay("none"),this._domNode.setClassName("defineKeybindingWidget"),this._domNode.setWidth(e.WIDTH),this._domNode.setHeight(e.HEIGHT);const n=f.NC("defineKeybinding.initial","Press desired key combination and then press ENTER.");et.R3(this._domNode.domNode,et.$(".message",void 0,n)),this._domNode.domNode.style.backgroundColor=(0,pt.n_1)(pt.D0T),this._domNode.domNode.style.color=(0,pt.n_1)(pt.Hfx),this._domNode.domNode.style.boxShadow=`0 2px 8px ${(0,pt.n_1)(pt.rh)}`,this._keybindingInputWidget=this._register(this.instantiationService.createInstance(Vt,this._domNode.domNode,{ariaLabel:n,history:[],inputBoxStyles:Bt.Hc})),this._keybindingInputWidget.startRecordingKeys(),this._register(this._keybindingInputWidget.onKeybinding((e=>this.onKeybinding(e)))),this._register(this._keybindingInputWidget.onEnter((()=>this.hide()))),this._register(this._keybindingInputWidget.onEscape((()=>this.clearOrHide()))),this._register(this._keybindingInputWidget.onBlur((()=>this.onCancel()))),this._outputNode=et.R3(this._domNode.domNode,et.$(".output")),this._showExistingKeybindingsNode=et.R3(this._domNode.domNode,et.$(".existing")),t&&et.R3(t,this._domNode.domNode)}get domNode(){return this._domNode.domNode}define(){return this._keybindingInputWidget.clear(),Ye.jT.withAsyncBody((async e=>{this._isVisible||(this._isVisible=!0,this._domNode.setDisplay("block"),this._chords=null,this._keybindingInputWidget.setInputValue(""),et.PO(this._outputNode),et.PO(this._showExistingKeybindingsNode),await(0,Ye.Vs)(0),this._keybindingInputWidget.focus());const t=this._onHide.event((()=>{e(this.getUserSettingsLabel()),t.dispose()}))}))}layout(t){const i=Math.round((t.height-e.HEIGHT)/2);this._domNode.setTop(i);const n=Math.round((t.width-e.WIDTH)/2);this._domNode.setLeft(n)}printExisting(e){if(e>0){const t=et.$("span.existingText"),i=1===e?f.NC("defineKeybinding.oneExists","1 existing command has this keybinding",e):f.NC("defineKeybinding.existing","{0} existing commands have this keybinding",e);et.R3(t,document.createTextNode(i)),lt.Z9(i),this._showExistingKeybindingsNode.appendChild(t),t.onmousedown=e=>{e.preventDefault()},t.onmouseup=e=>{e.preventDefault()},t.onclick=()=>{this._onShowExistingKeybindings.fire(this.getUserSettingsLabel())}}}onKeybinding(e){if(this._chords=e,et.PO(this._outputNode),et.PO(this._showExistingKeybindingsNode),new nt.e(this._outputNode,M.OS,Bt.eO).set((0,U.f6)(this._chords?.[0])),this._chords)for(let e=1;e<this._chords.length;e++)this._outputNode.appendChild(document.createTextNode(f.NC("defineKeybinding.chordsTo","chord to"))),new nt.e(this._outputNode,M.OS,Bt.eO).set(this._chords[e]);const t=this.getUserSettingsLabel();t&&this._onDidChange.fire(t)}getUserSettingsLabel(){let e=null;return this._chords&&(e=this._chords.map((e=>e.getUserSettingsLabel())).join(" ")),e}onCancel(){this._chords=null,this.hide()}clearOrHide(){null===this._chords?this.hide():(this._chords=null,this._keybindingInputWidget.clear(),et.PO(this._outputNode),et.PO(this._showExistingKeybindingsNode))}hide(){this._domNode.setDisplay("none"),this._isVisible=!1,this._onHide.fire()}};Ut=(0,o.g)([(0,o.f)(1,S.TG)],Ut),class e extends d.JT{static{this.ID="editor.contrib.defineKeybindingWidget"}constructor(e,t){super(),this._editor=e,this._widget=t.createInstance(Ut,null),this._editor.addOverlayWidget(this)}getId(){return e.ID}getDomNode(){return this._widget.domNode}getPosition(){return{preference:null}}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}start(){this._editor.hasModel()&&this._editor.revealPositionInCenterIfOutsideViewport(this._editor.getPosition(),0);const e=this._editor.getLayoutInfo();return this._widget.layout(new et.Ro(e.width,e.height)),this._widget.define()}};var Ht=i(97781),jt=i(32414),Gt=i(26904),$t=i(88550),qt=i(5629),zt=i(90290);(0,Ve.Z)(".suggest-input-container{border-radius:2px;padding:2px 6px}.suggest-input-container .monaco-editor,.suggest-input-container .monaco-editor-background,.suggest-input-container .mtk1{color:inherit}.suggest-input-container .suggest-input-placeholder{margin-top:1px;overflow:hidden;pointer-events:none;position:absolute;text-overflow:ellipsis;white-space:nowrap;z-index:1}.suggest-input-container .monaco-editor,.suggest-input-container .monaco-editor .lines-content{background:none}",{});var Jt=i(36248),Qt=i(95099),Xt=i(69386),Zt=i(50187),Yt=i(93740),ei=i(97711),ti=i(16229),ii=i(91526),ni=i(91479),si=i(12427),oi=i(60972),ri=i(71922),ai=i(270);let ci=class extends dt.${constructor(e,t,i,n,s,o,r,c,d,l,h){super(),this._onShouldFocusResults=new a.Q5,this.onShouldFocusResults=this._onShouldFocusResults.event,this._onInputDidChange=new a.Q5,this.onInputDidChange=this._onInputDidChange.event,this._onDidFocus=this._register(new a.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new a.Q5),this.onDidBlur=this._onDidBlur.event,this.stylingContainer=(0,et.R3)(t,(0,et.$)(".suggest-input-container")),this.element=t,this.placeholderText=(0,et.R3)(this.stylingContainer,(0,et.$)(".suggest-input-placeholder",void 0,o.placeholderText||""));const u=(0,Jt.jB)((0,ii.e)(h),function(e){return{fontSize:13,lineHeight:20,wordWrap:"off",scrollbar:{vertical:"hidden"},roundedSelection:!1,guides:{indentation:!1},cursorWidth:1,fontFamily:si.r,ariaLabel:e||"",snippetSuggestions:"none",suggest:{filterGraceful:!1,showIcons:!1},autoClosingBrackets:"never"}}(n));u.overflowWidgetsDomNode=o.overflowWidgetsDomNode;const p=this.getScopedContextKeyService(d),m=p?r.createChild(new oi.y([Ge.i6,p])):r;this.inputWidget=this._register(m.createInstance(Qt.Gm,this.stylingContainer,u,{contributions:Ue.Uc.getSomeEditorContributions([Te.n.ID,ei.f.ID,Yt.U.ID,ti.B.ID,ni.M]),isSimpleWidget:!0})),this._register(h.onDidChangeConfiguration((e=>{if(e.affectsConfiguration("editor.accessibilitySupport")||e.affectsConfiguration("editor.cursorBlinking")){const e=h.getValue("editor.accessibilitySupport"),t=h.getValue("editor.cursorBlinking");this.inputWidget.updateOptions({accessibilitySupport:e,cursorBlinking:t})}}))),this._register(this.inputWidget.onDidFocusEditorText((()=>this._onDidFocus.fire()))),this._register(this.inputWidget.onDidBlurEditorText((()=>this._onDidBlur.fire())));const b=g.ov.parse(s);this.inputModel=c.createModel("",null,b,!0),this._register(this.inputModel),this.inputWidget.setModel(this.inputModel),this._register(this.inputWidget.onDidPaste((()=>this.setValue(this.getValue())))),this._register(this.inputWidget.onDidFocusEditorText((()=>{o.focusContextKey&&o.focusContextKey.set(!0),this.stylingContainer.classList.add("synthetic-focus")}))),this._register(this.inputWidget.onDidBlurEditorText((()=>{o.focusContextKey&&o.focusContextKey.set(!1),this.stylingContainer.classList.remove("synthetic-focus")})));const f=a.ju.chain(this.inputWidget.onKeyDown);this._register(f.filter((e=>3===e.keyCode)).on((e=>{e.preventDefault()}),this)),this._register(f.filter((e=>18===e.keyCode&&(M.dz?e.metaKey:e.ctrlKey))).on((()=>this._onShouldFocusResults.fire()),this));let y=this.getValue();const v=this.inputWidget.getModel();v&&this._register(v.onDidChangeContent((()=>{const e=this.getValue();this.placeholderText.style.visibility=e?"hidden":"visible",y.trim()!==e.trim()&&(this._onInputDidChange.fire(void 0),y=e)})));const S={provideResults:i.provideResults,sortKey:i.sortKey||(e=>e),triggerCharacters:i.triggerCharacters||[],wordDefinition:i.wordDefinition?(0,ai.eq)(i.wordDefinition):void 0,alwaysShowSuggestions:!!i.alwaysShowSuggestions};this.setValue(o.value||""),this._register(l.completionProvider.register({scheme:b.scheme,pattern:"**/"+b.path,hasAccessToAllModels:!0},{_debugDisplayName:`suggestEnabledInput/${e}`,triggerCharacters:S.triggerCharacters,provideCompletionItems:(e,t,n)=>{const s=e.getValue(),o=t.column-1;let r=0,a=0;if(S.wordDefinition){const e=(0,ai.t2)(t.column,S.wordDefinition,s,0);r=e?.word.length??0,a=e?e.startColumn-1:0}else a=s.lastIndexOf(" ",o-1)+1,r=o-a;return!S.alwaysShowSuggestions&&r>0&&-1===S.triggerCharacters?.indexOf(s[a])?{suggestions:[]}:{suggestions:i.provideResults(s).map((e=>{let i,n;return"string"==typeof e?i=e:(i=e.label,n=e),{label:i,insertText:i,range:ie.e.fromPositions(t.delta(0,-r),t),sortText:S.sortKey(i),kind:17,...n}}))}}})),this.style(o.styleOverrides||{})}getScopedContextKeyService(e){}updateAriaLabel(e){this.inputWidget.updateOptions({ariaLabel:e})}setValue(e){e=e.replace(/\s/g," ");const t=this.inputModel.getFullModelRange();this.inputWidget.executeEdits("suggestEnabledInput.setValue",[Xt.h.replace(t,e)]),this.inputWidget.setScrollTop(0),this.inputWidget.setPosition(new Zt.L(1,e.length+1))}getValue(){return this.inputWidget.getValue()}style(e){this.stylingContainer.style.backgroundColor=(0,pt.n_1)(e.inputBackground??pt.sEe),this.stylingContainer.style.color=(0,pt.n_1)(e.inputForeground??pt.zJb),this.placeholderText.style.color=(0,pt.n_1)(e.inputPlaceholderForeground??pt.AcO),this.stylingContainer.style.borderWidth="1px",this.stylingContainer.style.borderStyle="solid",this.stylingContainer.style.borderColor=(0,pt.BtC)(e.inputBorder??pt.dt_,"transparent");const t=this.stylingContainer.getElementsByClassName("cursor")[0];t&&(t.style.backgroundColor=(0,pt.n_1)(e.inputForeground??pt.zJb))}focus(e){this.inputWidget.focus(),e&&this.inputWidget.getValue()&&this.selectAll()}onHide(){this.inputWidget.onHide()}layout(e){this.inputWidget.layout(e),this.placeholderText.style.width=e.width-2+"px"}selectAll(){this.inputWidget.setSelection(new ie.e(1,1,1,this.getValue().length+1))}};ci=(0,o.g)([(0,o.f)(6,S.TG),(0,o.f)(7,p.q),(0,o.f)(8,Ge.i6),(0,o.f)(9,ri.p),(0,o.f)(10,y.Ui)],ci),(0,Ht.Ic)(((e,t)=>{const i=e.getColor(pt.TBF);if(i){const n=e.getColor(pt.sEe);n&&t.addRule(`.suggest-input-container .monaco-editor .selected-text { background-color: ${n.transparent(.4)}; }`);const s=e.getColor(pt.zJb);s&&t.addRule(`.suggest-input-container .monaco-editor .view-line span.inline-selected-text { color: ${s}; }`);const o=e.getColor(pt.sEe);o&&t.addRule(`.suggest-input-container .monaco-editor-background { background-color: ${o}; } `),t.addRule(`.suggest-input-container .monaco-editor .focused .selected-text { background-color: ${i}; }`)}else t.addRule(`.suggest-input-container .monaco-editor .focused .selected-text { background-color: ${e.getColor(pt.hEj)}; }`)}));const di=(0,pt.P6G)("settings.headerForeground",{light:"#444444",dark:"#e7e7e7",hcDark:"#ffffff",hcLight:"#292929"},(0,f.NC)("headerForeground","The foreground color for a section header or active title.")),li=(0,pt.P6G)("settings.settingsHeaderHoverForeground",{light:(0,pt.ZnX)(di,.7),dark:(0,pt.ZnX)(di,.7),hcDark:(0,pt.ZnX)(di,.7),hcLight:(0,pt.ZnX)(di,.7)},(0,f.NC)("settingsHeaderHoverForeground","The foreground color for a section header or hovered title."));(0,pt.P6G)("settings.modifiedItemIndicator",{light:new oe.Il(new oe.VS(102,175,224)),dark:new oe.Il(new oe.VS(12,125,157)),hcDark:new oe.Il(new oe.VS(0,73,122)),hcLight:new oe.Il(new oe.VS(102,175,224))},(0,f.NC)("modifiedItemForeground","The color of the modified setting indicator."));const gi=(0,pt.P6G)("settings.headerBorder",{dark:$t.QO,light:$t.QO,hcDark:$t.QO,hcLight:$t.QO},(0,f.NC)("settingsHeaderBorder","The color of the header container border.")),hi=(0,pt.P6G)("settings.sashBorder",{dark:$t.QO,light:$t.QO,hcDark:$t.QO,hcLight:$t.QO},(0,f.NC)("settingsSashBorder","The color of the Settings editor splitview sash border.")),ui=(0,pt.P6G)("settings.dropdownBackground",{dark:pt.XV0,light:pt.XV0,hcDark:pt.XV0,hcLight:pt.XV0},(0,f.NC)("settingsDropdownBackground","Settings editor dropdown background.")),pi=(0,pt.P6G)("settings.dropdownForeground",{dark:pt._g0,light:pt._g0,hcDark:pt._g0,hcLight:pt._g0},(0,f.NC)("settingsDropdownForeground","Settings editor dropdown foreground.")),mi=(0,pt.P6G)("settings.dropdownBorder",{dark:pt.a9O,light:pt.a9O,hcDark:pt.a9O,hcLight:pt.a9O},(0,f.NC)("settingsDropdownBorder","Settings editor dropdown border.")),bi=(0,pt.P6G)("settings.dropdownListBorder",{dark:pt.D1_,light:pt.D1_,hcDark:pt.D1_,hcLight:pt.D1_},(0,f.NC)("settingsDropdownListBorder","Settings editor dropdown list border. This surrounds the options and separates the options from the description."));(0,pt.P6G)("settings.checkboxBackground",{dark:pt.SUp,light:pt.SUp,hcDark:pt.SUp,hcLight:pt.SUp},(0,f.NC)("settingsCheckboxBackground","Settings editor checkbox background.")),(0,pt.P6G)("settings.checkboxForeground",{dark:pt.BQ0,light:pt.BQ0,hcDark:pt.BQ0,hcLight:pt.BQ0},(0,f.NC)("settingsCheckboxForeground","Settings editor checkbox foreground.")),(0,pt.P6G)("settings.checkboxBorder",{dark:pt.nd,light:pt.nd,hcDark:pt.nd,hcLight:pt.nd},(0,f.NC)("settingsCheckboxBorder","Settings editor checkbox border."));const fi=(0,pt.P6G)("settings.textInputBackground",{dark:pt.sEe,light:pt.sEe,hcDark:pt.sEe,hcLight:pt.sEe},(0,f.NC)("textInputBoxBackground","Settings editor text input box background.")),yi=(0,pt.P6G)("settings.textInputForeground",{dark:pt.zJb,light:pt.zJb,hcDark:pt.zJb,hcLight:pt.zJb},(0,f.NC)("textInputBoxForeground","Settings editor text input box foreground.")),vi=(0,pt.P6G)("settings.textInputBorder",{dark:pt.dt_,light:pt.dt_,hcDark:pt.dt_,hcLight:pt.dt_},(0,f.NC)("textInputBoxBorder","Settings editor text input box border.")),Si=(0,pt.P6G)("settings.numberInputBackground",{dark:pt.sEe,light:pt.sEe,hcDark:pt.sEe,hcLight:pt.sEe},(0,f.NC)("numberInputBoxBackground","Settings editor number input box background.")),wi=(0,pt.P6G)("settings.numberInputForeground",{dark:pt.zJb,light:pt.zJb,hcDark:pt.zJb,hcLight:pt.zJb},(0,f.NC)("numberInputBoxForeground","Settings editor number input box foreground.")),Ci=(0,pt.P6G)("settings.numberInputBorder",{dark:pt.dt_,light:pt.dt_,hcDark:pt.dt_,hcLight:pt.dt_},(0,f.NC)("numberInputBoxBorder","Settings editor number input box border."));(0,pt.P6G)("settings.focusedRowBackground",{dark:(0,pt.ZnX)(pt.mV1,.6),light:(0,pt.ZnX)(pt.mV1,.6),hcDark:null,hcLight:null},(0,f.NC)("focusedRowBackground","The background color of a settings row when focused.")),(0,pt.P6G)("settings.rowHoverBackground",{dark:(0,pt.ZnX)(pt.mV1,.3),light:(0,pt.ZnX)(pt.mV1,.3),hcDark:null,hcLight:null},(0,f.NC)("settings.rowHoverBackground","The background color of a settings row when hovered.")),(0,pt.P6G)("settings.focusedRowBorder",{dark:pt.R80,light:pt.R80,hcDark:pt.R80,hcLight:pt.R80},(0,f.NC)("settings.focusedRowBorder","The color of the row's top and bottom border when the row is focused."));var ki=i(20539);const xi=et.$;let Ei=class e extends rt.J{static{this.ID="workbench.editor.keybindings"}constructor(t,i,n,s,o,r,c,d,l,g,h,u){super(e.ID,t,i,h),this.keybindingsService=n,this.contextMenuService=s,this.keybindingEditingService=o,this.contextKeyService=r,this.notificationService=c,this.clipboardService=d,this.instantiationService=l,this.editorService=g,this.configurationService=u,this._onDefineWhenExpression=this._register(new a.Q5),this.onDefineWhenExpression=this._onDefineWhenExpression.event,this._onRejectWhenExpression=this._register(new a.Q5),this.onRejectWhenExpression=this._onRejectWhenExpression.event,this._onAcceptWhenExpression=this._register(new a.Q5),this.onAcceptWhenExpression=this._onAcceptWhenExpression.event,this._onLayout=this._register(new a.Q5),this.onLayout=this._onLayout.event,this.keybindingsEditorModel=null,this.unAssignedKeybindingItemToRevealAndFocus=null,this.tableEntries=[],this.dimension=null,this.latestEmptyFilters=[],this.delayedFiltering=new Ye.vp(300),this._register(n.onDidUpdateKeybindings((()=>this.render(!!this.keybindingFocusContextKey.get())))),this.keybindingsEditorContextKey=Me.NG.bindTo(this.contextKeyService),this.searchFocusContextKey=Me.FO.bindTo(this.contextKeyService),this.keybindingFocusContextKey=Me.CH.bindTo(this.contextKeyService),this.searchHistoryDelayer=new Ye.vp(500),this.recordKeysAction=new st.aU(Me.wQ,(0,f.NC)("recordKeysLabel","Record Keys"),St.kS.asClassName(Et)),this.recordKeysAction.checked=!1,this.sortByPrecedenceAction=new st.aU(Me.Qy,(0,f.NC)("sortByPrecedeneLabel","Sort by Precedence (Highest first)"),St.kS.asClassName(It)),this.sortByPrecedenceAction.checked=!1,this.overflowWidgetsDomNode=xi(".keybindings-overflow-widgets-container.monaco-editor")}create(e){super.create(e),this._register((0,ki.g)({focusNotifiers:[this],focusNextWidget:()=>{this.searchWidget.hasFocus()&&this.focusKeybindings()},focusPreviousWidget:()=>{this.searchWidget.hasFocus()||this.focusSearch()}}))}createEditor(e){const t=et.R3(e,xi("div",{class:"keybindings-editor"}));this.createAriaLabelElement(t),this.createOverlayContainer(t),this.createHeader(t),this.createBody(t)}setInput(e,t,i,n){return this.keybindingsEditorContextKey.set(!0),super.setInput(e,t,i,n).then((()=>this.render(!(!t||!t.preserveFocus))))}clearInput(){super.clearInput(),this.keybindingsEditorContextKey.reset(),this.keybindingFocusContextKey.reset()}layout(e){this.dimension=e,this.layoutSearchWidget(e),this.overlayContainer.style.width=e.width+"px",this.overlayContainer.style.height=e.height+"px",this.defineKeybindingWidget.layout(this.dimension),this.layoutKeybindingsTable(),this._onLayout.fire()}focus(){const e=this.activeKeybindingEntry;e?this.selectEntry(e):M.gn||this.searchWidget.focus()}get activeKeybindingEntry(){const e=this.keybindingsTable.getFocusedElements()[0];return e&&e.templateId===G?e:null}async defineKeybinding(e,t){this.selectEntry(e),this.showOverlayContainer();try{const i=await this.defineKeybindingWidget.define();i&&await this.updateKeybinding(e,i,e.keybindingItem.when,t)}catch(e){this.onKeybindingEditingError(e)}finally{this.hideOverlayContainer(),this.selectEntry(e)}}defineWhenExpression(e){e.keybindingItem.keybinding&&(this.selectEntry(e),this._onDefineWhenExpression.fire(e))}rejectWhenExpression(e){this._onRejectWhenExpression.fire(e)}acceptWhenExpression(e){this._onAcceptWhenExpression.fire(e)}async updateKeybinding(e,t,i,n){(e.keybindingItem.keybinding?e.keybindingItem.keybinding.getUserSettingsLabel():"")===t&&e.keybindingItem.when===i||(n?await this.keybindingEditingService.addKeybinding(e.keybindingItem.keybindingItem,t,i||void 0):await this.keybindingEditingService.editKeybinding(e.keybindingItem.keybindingItem,t,i||void 0),e.keybindingItem.keybinding||(this.unAssignedKeybindingItemToRevealAndFocus=e))}async removeKeybinding(e){if(this.selectEntry(e),e.keybindingItem.keybinding)try{await this.keybindingEditingService.removeKeybinding(e.keybindingItem.keybindingItem),this.focus()}catch(t){this.onKeybindingEditingError(t),this.selectEntry(e)}}async resetKeybinding(e){this.selectEntry(e);try{await this.keybindingEditingService.resetKeybinding(e.keybindingItem.keybindingItem),e.keybindingItem.keybinding||(this.unAssignedKeybindingItemToRevealAndFocus=e),this.selectEntry(e)}catch(t){this.onKeybindingEditingError(t),this.selectEntry(e)}}async copyKeybinding(e){this.selectEntry(e);const t={key:e.keybindingItem.keybinding&&e.keybindingItem.keybinding.getUserSettingsLabel()||"",command:e.keybindingItem.command};e.keybindingItem.when&&(t.when=e.keybindingItem.when),await this.clipboardService.writeText(JSON.stringify(t,null,"  "))}async copyKeybindingCommand(e){this.selectEntry(e),await this.clipboardService.writeText(e.keybindingItem.command)}async copyKeybindingCommandTitle(e){this.selectEntry(e),await this.clipboardService.writeText(e.keybindingItem.commandLabel)}focusSearch(){this.searchWidget.focus()}search(e){this.focusSearch(),this.searchWidget.setValue(e),this.selectEntry(0)}clearSearchResults(){this.searchWidget.clear()}showSimilarKeybindings(e){const t=`"${e.keybindingItem.keybinding.getAriaLabel()}"`;t!==this.searchWidget.getValue()&&this.searchWidget.setValue(t)}createAriaLabelElement(e){this.ariaLabelElement=et.R3(e,et.$("")),this.ariaLabelElement.setAttribute("id","keybindings-editor-aria-label-element"),this.ariaLabelElement.setAttribute("aria-live","assertive")}createOverlayContainer(e){this.overlayContainer=et.R3(e,xi(".overlay-container")),this.overlayContainer.style.position="absolute",this.overlayContainer.style.zIndex="40",this.defineKeybindingWidget=this._register(this.instantiationService.createInstance(Ut,this.overlayContainer)),this._register(this.defineKeybindingWidget.onDidChange((e=>this.defineKeybindingWidget.printExisting(this.keybindingsEditorModel.fetch(`"${e}"`).length)))),this._register(this.defineKeybindingWidget.onShowExistingKeybidings((e=>this.searchWidget.setValue(`"${e}"`)))),this.hideOverlayContainer()}showOverlayContainer(){this.overlayContainer.style.display="block"}hideOverlayContainer(){this.overlayContainer.style.display="none"}createHeader(e){this.headerContainer=et.R3(e,xi(".keybindings-header"));const t=(0,f.NC)("SearchKeybindings.FullTextSearchPlaceholder","Type to search in keybindings"),i=(0,f.NC)("SearchKeybindings.KeybindingsSearchPlaceholder","Recording Keys. Press Escape to exit"),n=new st.aU(Me.Ae,(0,f.NC)("clearInput","Clear Keybindings Search Input"),St.kS.asClassName(Mt),!1,(async()=>this.clearSearchResults())),s=et.R3(this.headerContainer,xi(".search-container"));this.searchWidget=this._register(this.instantiationService.createInstance(Vt,s,{ariaLabel:t,placeholder:t,focusKey:this.searchFocusContextKey,ariaLabelledBy:"keybindings-editor-aria-label-element",recordEnter:!0,quoteRecordedKeys:!0,history:this.getMemento(0,0).searchHistory||[],inputBoxStyles:(0,Bt.tJ)({inputBorder:vi})})),this._register(this.searchWidget.onDidChange((e=>{n.enabled=!!e,this.delayedFiltering.trigger((()=>this.filterKeybindings())),this.updateSearchOptions()}))),this._register(this.searchWidget.onEscape((()=>this.recordKeysAction.checked=!1))),this.actionsContainer=et.R3(s,et.$(".keybindings-search-actions-container"));const o=this.createRecordingBadge(this.actionsContainer);this._register(this.sortByPrecedenceAction.onDidChange((e=>{void 0!==e.checked&&this.renderKeybindingsEntries(!1),this.updateSearchOptions()}))),this._register(this.recordKeysAction.onDidChange((e=>{void 0!==e.checked&&(o.classList.toggle("disabled",!e.checked),e.checked?(this.searchWidget.inputBox.setPlaceHolder(i),this.searchWidget.inputBox.setAriaLabel(i),this.searchWidget.startRecordingKeys(),this.searchWidget.focus()):(this.searchWidget.inputBox.setPlaceHolder(t),this.searchWidget.inputBox.setAriaLabel(t),this.searchWidget.stopRecordingKeys(),this.searchWidget.focus()),this.updateSearchOptions())})));const r=[this.recordKeysAction,this.sortByPrecedenceAction,n],a=this._register(new qt.u(this.actionsContainer,this.contextMenuService,{actionViewItemProvider:e=>{if(e.id===this.sortByPrecedenceAction.id||e.id===this.recordKeysAction.id)return new tt.K4(null,e,{keybinding:this.keybindingsService.lookupKeybinding(e.id)?.getLabel(),toggleStyles:Bt.pl})},getKeyBinding:e=>this.keybindingsService.lookupKeybinding(e.id)}));a.setActions(r),this._register(this.keybindingsService.onDidUpdateKeybindings((()=>a.setActions(r))))}updateSearchOptions(){const e=this.input;e&&(e.searchOptions={searchValue:this.searchWidget.getValue(),recordKeybindings:!!this.recordKeysAction.checked,sortByPrecedence:!!this.sortByPrecedenceAction.checked})}createRecordingBadge(e){const t=et.R3(e,et.$(".recording-badge.monaco-count-badge.long.disabled"));return t.textContent=(0,f.NC)("recording","Recording Keys"),t.style.backgroundColor=(0,pt.n_1)(pt.g8u),t.style.color=(0,pt.n_1)(pt.qeD),t.style.border=`1px solid ${(0,pt.n_1)(pt.lRK)}`,t}layoutSearchWidget(e){this.searchWidget.layout(e),this.headerContainer.classList.toggle("small",e.width<400),this.searchWidget.inputBox.inputElement.style.paddingRight=`${et.w(this.actionsContainer)+12}px`}createBody(e){const t=et.R3(e,xi(".keybindings-body"));this.createTable(t)}createTable(e){this.keybindingsTableContainer=et.R3(e,xi(".keybindings-table-container")),this.keybindingsTable=this._register(this.instantiationService.createInstance(jt.On,"KeybindingsEditor",this.keybindingsTableContainer,new Ii,[{label:"",tooltip:"",weight:0,minimumWidth:40,maximumWidth:40,templateId:_i.TEMPLATE_ID,project:e=>e},{label:(0,f.NC)("command","Command"),tooltip:"",weight:.3,templateId:Ti.TEMPLATE_ID,project:e=>e},{label:(0,f.NC)("keybinding","Keybinding"),tooltip:"",weight:.2,templateId:Li.TEMPLATE_ID,project:e=>e},{label:(0,f.NC)("when","When"),tooltip:"",weight:.35,templateId:Mi.TEMPLATE_ID,project:e=>e},{label:(0,f.NC)("source","Source"),tooltip:"",weight:.15,templateId:Di.TEMPLATE_ID,project:e=>e}],[this.instantiationService.createInstance(_i,this),this.instantiationService.createInstance(Ti),this.instantiationService.createInstance(Li),this.instantiationService.createInstance(Mi,this),this.instantiationService.createInstance(Di)],{identityProvider:{getId:e=>e.id},horizontalScrolling:!1,accessibilityProvider:new Ri(this.configurationService),keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:e=>e.keybindingItem.commandLabel||e.keybindingItem.command},overrideStyles:{listBackground:pt.cvW},multipleSelectionSupport:!1,setRowLineHeight:!1,openOnSingleClick:!1,transformOptimization:!1})),this._register(this.keybindingsTable.onContextMenu((e=>this.onContextMenu(e)))),this._register(this.keybindingsTable.onDidChangeFocus((e=>this.onFocusChange()))),this._register(this.keybindingsTable.onDidFocus((()=>{this.keybindingsTable.getHTMLElement().classList.add("focused"),this.onFocusChange()}))),this._register(this.keybindingsTable.onDidBlur((()=>{this.keybindingsTable.getHTMLElement().classList.remove("focused"),this.keybindingFocusContextKey.reset()}))),this._register(this.keybindingsTable.onDidOpen((e=>{if(e.browserEvent?.defaultPrevented)return;const t=this.activeKeybindingEntry;t&&this.defineKeybinding(t,!1)}))),et.R3(this.keybindingsTableContainer,this.overflowWidgetsDomNode)}async render(e){if(this.input){const t=this.input;this.keybindingsEditorModel=await t.resolve(),await this.keybindingsEditorModel.resolve(this.getActionsLabels()),this.renderKeybindingsEntries(!1,e),t.searchOptions?(this.recordKeysAction.checked=t.searchOptions.recordKeybindings,this.sortByPrecedenceAction.checked=t.searchOptions.sortByPrecedence,this.searchWidget.setValue(t.searchOptions.searchValue)):this.updateSearchOptions()}}getActionsLabels(){const e=new Map;for(const t of Ue.Uc.getEditorActions())e.set(t.id,t.label);for(const t of F.BH.getMenuItems(F.eH.CommandPalette))if((0,F.vr)(t)){const i="string"==typeof t.command.title?t.command.title:t.command.title.value,n=t.command.category?"string"==typeof t.command.category?t.command.category:t.command.category.value:void 0;e.set(t.command.id,n?`${n}: ${i}`:i)}return e}filterKeybindings(){this.renderKeybindingsEntries(this.searchWidget.hasFocus()),this.searchHistoryDelayer.trigger((()=>{this.searchWidget.inputBox.addToHistory(),this.getMemento(0,0).searchHistory=this.searchWidget.inputBox.getHistory(),this.saveState()}))}clearKeyboardShortcutSearchHistory(){this.searchWidget.inputBox.clearHistory(),this.getMemento(0,0).searchHistory=this.searchWidget.inputBox.getHistory(),this.saveState()}renderKeybindingsEntries(e,t){if(this.keybindingsEditorModel){const i=this.searchWidget.getValue(),n=this.keybindingsEditorModel.fetch(i,this.sortByPrecedenceAction.checked);this.ariaLabelElement.setAttribute("aria-label",this.getAriaLabel(n)),0===n.length&&this.latestEmptyFilters.push(i);const s=this.keybindingsTable.getSelection()[0];if(this.tableEntries=n,this.keybindingsTable.splice(0,this.keybindingsTable.length,this.tableEntries),this.layoutKeybindingsTable(),e)this.keybindingsTable.setSelection([]),this.keybindingsTable.setFocus([]);else if(this.unAssignedKeybindingItemToRevealAndFocus){const e=this.getNewIndexOfUnassignedKeybinding(this.unAssignedKeybindingItemToRevealAndFocus);-1!==e&&(this.keybindingsTable.reveal(e,.2),this.selectEntry(e)),this.unAssignedKeybindingItemToRevealAndFocus=null}else-1!==s&&s<this.tableEntries.length?this.selectEntry(s,t):this.editorService.activeEditorPane!==this||t||this.focus()}}getAriaLabel(e){return this.sortByPrecedenceAction.checked?(0,f.NC)("show sorted keybindings","Showing {0} Keybindings in precedence order",e.length):(0,f.NC)("show keybindings","Showing {0} Keybindings in alphabetical order",e.length)}layoutKeybindingsTable(){if(!this.dimension)return;const e=this.dimension.height-(et.i(this.headerContainer).height+12);this.keybindingsTableContainer.style.height=`${e}px`,this.keybindingsTable.layout(e)}getIndexOf(e){const t=this.tableEntries.indexOf(e);if(-1===t)for(let t=0;t<this.tableEntries.length;t++)if(this.tableEntries[t].id===e.id)return t;return t}getNewIndexOfUnassignedKeybinding(e){for(let t=0;t<this.tableEntries.length;t++){const i=this.tableEntries[t];if(i.templateId===G&&i.keybindingItem.command===e.keybindingItem.command)return t}return-1}selectEntry(e,t=!0){const i="number"==typeof e?e:this.getIndexOf(e);-1!==i&&i<this.keybindingsTable.length&&(t&&(this.keybindingsTable.domFocus(),this.keybindingsTable.setFocus([i])),this.keybindingsTable.setSelection([i]))}focusKeybindings(){this.keybindingsTable.domFocus();const e=this.keybindingsTable.getFocus();this.keybindingsTable.setFocus([e.length?e[0]:0])}selectKeybinding(e){this.selectEntry(e)}recordSearchKeys(){this.recordKeysAction.checked=!0}toggleSortByPrecedence(){this.sortByPrecedenceAction.checked=!this.sortByPrecedenceAction.checked}onContextMenu(e){if(e.element&&e.element.templateId===G){const t=e.element;this.selectEntry(t),this.contextMenuService.showContextMenu({getAnchor:()=>e.anchor,getActions:()=>[this.createCopyAction(t),this.createCopyCommandAction(t),this.createCopyCommandTitleAction(t),new st.Z0,...t.keybindingItem.keybinding?[this.createDefineKeybindingAction(t),this.createAddKeybindingAction(t)]:[this.createDefineKeybindingAction(t)],new st.Z0,this.createRemoveAction(t),this.createResetAction(t),new st.Z0,this.createDefineWhenExpressionAction(t),new st.Z0,this.createShowConflictsAction(t)]})}}onFocusChange(){this.keybindingFocusContextKey.reset();const e=this.keybindingsTable.getFocusedElements()[0];e&&e.templateId===G&&this.keybindingFocusContextKey.set(!0)}createDefineKeybindingAction(e){return{label:e.keybindingItem.keybinding?(0,f.NC)("changeLabel","Change Keybinding..."):(0,f.NC)("addLabel","Add Keybinding..."),enabled:!0,id:Me.mJ,run:()=>this.defineKeybinding(e,!1)}}createAddKeybindingAction(e){return{label:(0,f.NC)("addLabel","Add Keybinding..."),enabled:!0,id:Me.wB,run:()=>this.defineKeybinding(e,!0)}}createDefineWhenExpressionAction(e){return{label:(0,f.NC)("editWhen","Change When Expression"),enabled:!!e.keybindingItem.keybinding,id:Me.tw,run:()=>this.defineWhenExpression(e)}}createRemoveAction(e){return{label:(0,f.NC)("removeLabel","Remove Keybinding"),enabled:!!e.keybindingItem.keybinding,id:Me.WE,run:()=>this.removeKeybinding(e)}}createResetAction(e){return{label:(0,f.NC)("resetLabel","Reset Keybinding"),enabled:!e.keybindingItem.keybindingItem.isDefault,id:Me.Z0,run:()=>this.resetKeybinding(e)}}createShowConflictsAction(e){return{label:(0,f.NC)("showSameKeybindings","Show Same Keybindings"),enabled:!!e.keybindingItem.keybinding,id:Me.E_,run:()=>this.showSimilarKeybindings(e)}}createCopyAction(e){return{label:(0,f.NC)("copyLabel","Copy"),enabled:!0,id:Me.LH,run:()=>this.copyKeybinding(e)}}createCopyCommandAction(e){return{label:(0,f.NC)("copyCommandLabel","Copy Command ID"),enabled:!0,id:Me.Q9,run:()=>this.copyKeybindingCommand(e)}}createCopyCommandTitleAction(e){return{label:(0,f.NC)("copyCommandTitleLabel","Copy Command Title"),enabled:!!e.keybindingItem.commandLabel,id:Me.EH,run:()=>this.copyKeybindingCommandTitle(e)}}onKeybindingEditingError(e){this.notificationService.error("string"==typeof e?e:(0,f.NC)("error","Error '{0}' while editing the keybinding. Please open 'keybindings.json' file and check for errors.",`${e}`))}};Ei=(0,o.g)([(0,o.f)(0,at.bU),(0,o.f)(1,Ht.XE),(0,o.f)(2,w.d),(0,o.f)(3,ut.i),(0,o.f)(4,Ke.U),(0,o.f)(5,Ge.i6),(0,o.f)(6,k.lT),(0,o.f)(7,ct.p),(0,o.f)(8,S.TG),(0,o.f)(9,N.AR),(0,o.f)(10,Gt.Uy),(0,o.f)(11,y.Ui)],Ei);class Ii{constructor(){this.headerRowHeight=30}getHeight(e){if(e.templateId===G){const t=e.keybindingItem.commandLabel&&e.commandIdMatches,i=!!e.commandDefaultLabelMatches,n=!!e.extensionIdMatches;if(t&&i)return 60;if(n||t||i)return 40}return 24}}let _i=class e{static{this.TEMPLATE_ID="actions"}constructor(t,i){this.keybindingsEditor=t,this.keybindingsService=i,this.templateId=e.TEMPLATE_ID}renderTemplate(e){const t=et.R3(e,xi(".actions"));return{actionBar:new ot.o(t,{animated:!1})}}renderElement(e,t,i,n){i.actionBar.clear();const s=[];e.keybindingItem.keybinding?s.push(this.createEditAction(e)):s.push(this.createAddAction(e)),i.actionBar.push(s,{icon:!0})}createEditAction(e){const t=this.keybindingsService.lookupKeybinding(Me.mJ);return{class:St.kS.asClassName(_t),enabled:!0,id:"editKeybinding",tooltip:t?(0,f.NC)("editKeybindingLabelWithKey","Change Keybinding {0}",`(${t.getLabel()})`):(0,f.NC)("editKeybindingLabel","Change Keybinding"),run:()=>this.keybindingsEditor.defineKeybinding(e,!1)}}createAddAction(e){const t=this.keybindingsService.lookupKeybinding(Me.mJ);return{class:St.kS.asClassName(Tt),enabled:!0,id:"addKeybinding",tooltip:t?(0,f.NC)("addKeybindingLabelWithKey","Add Keybinding {0}",`(${t.getLabel()})`):(0,f.NC)("addKeybindingLabel","Add Keybinding"),run:()=>this.keybindingsEditor.defineKeybinding(e,!1)}}disposeTemplate(e){e.actionBar.dispose()}};_i=(0,o.g)([(0,o.f)(1,w.d)],_i);class Ti{constructor(){this.templateId=Ti.TEMPLATE_ID}static{this.TEMPLATE_ID="commands"}renderTemplate(e){const t=et.R3(e,xi(".command")),i=et.R3(t,xi(".command-label")),n=new it.q(i),s=et.R3(t,xi(".command-default-label")),o=new it.q(s),r=et.R3(t,xi(".command-id.code"));return{commandColumn:t,commandLabelContainer:i,commandLabel:n,commandDefaultLabelContainer:s,commandDefaultLabel:o,commandIdLabelContainer:r,commandIdLabel:new it.q(r)}}renderElement(e,t,i,n){const s=e.keybindingItem,o=!(!s.commandLabel||!e.commandIdMatches),r=!!e.commandDefaultLabelMatches;i.commandColumn.classList.toggle("vertical-align-column",o||r),i.commandColumn.title=s.commandLabel?(0,f.NC)("title","{0} ({1})",s.commandLabel,s.command):s.command,s.commandLabel?(i.commandLabelContainer.classList.remove("hide"),i.commandLabel.set(s.commandLabel,e.commandLabelMatches)):(i.commandLabelContainer.classList.add("hide"),i.commandLabel.set(void 0)),e.commandDefaultLabelMatches?(i.commandDefaultLabelContainer.classList.remove("hide"),i.commandDefaultLabel.set(s.commandDefaultLabel,e.commandDefaultLabelMatches)):(i.commandDefaultLabelContainer.classList.add("hide"),i.commandDefaultLabel.set(void 0)),e.commandIdMatches||!s.commandLabel?(i.commandIdLabelContainer.classList.remove("hide"),i.commandIdLabel.set(s.command,e.commandIdMatches)):(i.commandIdLabelContainer.classList.add("hide"),i.commandIdLabel.set(void 0))}disposeTemplate(e){}}class Li{static{this.TEMPLATE_ID="keybindings"}constructor(){this.templateId=Li.TEMPLATE_ID}renderTemplate(e){const t=et.R3(e,xi(".keybinding"));return{keybindingLabel:new nt.e(et.R3(t,xi("div.keybinding-label")),M.OS,Bt.eO)}}renderElement(e,t,i,n){e.keybindingItem.keybinding?i.keybindingLabel.set(e.keybindingItem.keybinding,e.keybindingMatches):i.keybindingLabel.set(void 0,void 0)}disposeTemplate(e){}}let Di=class e{static{this.TEMPLATE_ID="source"}constructor(t){this.extensionsWorkbenchService=t,this.templateId=e.TEMPLATE_ID}renderTemplate(e){const t=et.R3(e,xi(".source")),i=new it.q(et.R3(t,xi(".source-label"))),n=et.R3(t,xi(".extension-container"));return{sourceColumn:t,sourceLabel:i,extensionLabel:et.R3(n,xi("a.extension-label",{tabindex:0})),extensionContainer:n,extensionId:new it.q(et.R3(n,xi(".extension-id-container.code"))),disposables:new d.SL}}renderElement(e,t,i,n){if((0,U.HD)(e.keybindingItem.source))i.extensionContainer.classList.add("hide"),i.sourceLabel.element.classList.remove("hide"),i.sourceColumn.title="",i.sourceLabel.set(e.keybindingItem.source||"-",e.sourceMatches);else{i.extensionContainer.classList.remove("hide"),i.sourceLabel.element.classList.add("hide");const t=e.keybindingItem.source,n=t.displayName??t.identifier.value;i.sourceColumn.title=(0,f.NC)("extension label","Extension ({0})",n),i.extensionLabel.textContent=n,i.disposables.add(function(e,t){const i=new d.SL;return i.add(et.nm(e,et.tw.CLICK,et.$P(t))),i.add(et.nm(e,et.tw.KEY_UP,(e=>{const i=new gt.y1(e);(i.equals(10)||i.equals(3))&&(e.preventDefault(),e.stopPropagation(),t())}))),i}(i.extensionLabel,(()=>{this.extensionsWorkbenchService.open(t.identifier.value)}))),e.extensionIdMatches?(i.extensionId.element.classList.remove("hide"),i.extensionId.set(t.identifier.value,e.extensionIdMatches)):(i.extensionId.element.classList.add("hide"),i.extensionId.set(void 0))}}disposeTemplate(e){e.disposables.dispose()}};Di=(0,o.g)([(0,o.f)(0,zt.Wi)],Di);let Ni=class extends d.JT{constructor(e,t,i,n){super(),this._onDidAccept=this._register(new a.Q5),this.onDidAccept=this._onDidAccept.event,this._onDidReject=this._register(new a.Q5),this.onDidReject=this._onDidReject.event;const s=Me.$w.bindTo(n);this.input=this._register(i.createInstance(ci,"keyboardshortcutseditor#wheninput",e,{provideResults:()=>{const e=[];for(const t of Ge.uy.all())e.push({label:t.key,documentation:t.description,detail:t.type,kind:14});return e},triggerCharacters:["!"," "],wordDefinition:/[a-zA-Z.]+/,alwaysShowSuggestions:!0},"","keyboardshortcutseditor#wheninput",{focusContextKey:s,overflowWidgetsDomNode:t.overflowWidgetsDomNode})),this._register(et.nm(this.input.element,et.tw.DBLCLICK,(e=>et.zB.stop(e)))),this._register((0,d.OF)((()=>s.reset()))),this._register(t.onAcceptWhenExpression((()=>this._onDidAccept.fire(this.input.getValue())))),this._register(a.ju.any(t.onRejectWhenExpression,this.input.onDidBlur)((()=>this._onDidReject.fire())))}layout(e){this.input.layout(e)}show(e){this.input.setValue(e),this.input.focus(!0)}};Ni=(0,o.g)([(0,o.f)(2,S.TG),(0,o.f)(3,Ge.i6)],Ni);let Mi=class e{static{this.TEMPLATE_ID="when"}constructor(t,i){this.keybindingsEditor=t,this.instantiationService=i,this.templateId=e.TEMPLATE_ID}renderTemplate(e){const t=et.R3(e,xi(".when")),i=et.R3(t,xi("div.when-label"));return{element:t,whenLabelContainer:i,whenLabel:new it.q(i),whenInputContainer:et.R3(t,xi("div.when-input-container")),disposables:new d.SL}}renderElement(e,t,i,n){i.disposables.clear();const s=i.disposables.add(new d.SL);i.disposables.add(this.keybindingsEditor.onDefineWhenExpression((t=>{if(e===t){i.element.classList.add("input-mode");const t=s.add(this.instantiationService.createInstance(Ni,i.whenInputContainer,this.keybindingsEditor));t.layout(new et.Ro(i.element.parentElement.clientWidth,18)),t.show(e.keybindingItem.when||"");const n=()=>{s.clear(),i.element.classList.remove("input-mode"),i.element.parentElement.style.paddingLeft="10px",et.PO(i.whenInputContainer)};s.add(t.onDidAccept((t=>{n(),this.keybindingsEditor.updateKeybinding(e,e.keybindingItem.keybinding&&e.keybindingItem.keybinding.getUserSettingsLabel()||"",t),this.keybindingsEditor.selectKeybinding(e)}))),s.add(t.onDidReject((()=>{n(),this.keybindingsEditor.selectKeybinding(e)}))),i.element.parentElement.style.paddingLeft="0px"}}))),i.whenLabelContainer.classList.toggle("code",!!e.keybindingItem.when),i.whenLabelContainer.classList.toggle("empty",!e.keybindingItem.when),e.keybindingItem.when?(i.whenLabel.set(e.keybindingItem.when,e.whenMatches),i.whenLabel.element.title=e.keybindingItem.when,i.element.title=e.keybindingItem.when):(i.whenLabel.set("-"),i.whenLabel.element.title="",i.element.title="")}disposeTemplate(e){e.disposables.dispose()}};Mi=(0,o.g)([(0,o.f)(1,S.TG)],Mi);class Ri{constructor(e){this.configurationService=e}getWidgetAriaLabel(){return(0,f.NC)("keybindingsLabel","Keybindings")}getAriaLabel({keybindingItem:e}){const t=[e.commandLabel?e.commandLabel:e.command,e.keybinding?.getAriaLabel()||(0,f.NC)("noKeybinding","No keybinding assigned"),e.when?e.when:(0,f.NC)("noWhen","No when context"),(0,U.HD)(e.source)?e.source:e.source.description??e.source.identifier.value];if(this.configurationService.getValue("accessibility.verbosity.keybindingsEditor")){const e=(0,f.NC)("keyboard shortcuts aria label","use space or enter to change the keybinding.");t.push(e)}return t.join(", ")}}(0,pt.P6G)("keybindingTable.headerBackground",{dark:pt.EQn,light:pt.EQn,hcDark:pt.EQn,hcLight:pt.EQn},"Background color for the keyboard shortcuts table header."),(0,pt.P6G)("keybindingTable.rowsBackground",{light:pt.EQn,dark:pt.EQn,hcDark:pt.EQn,hcLight:pt.EQn},"Background color for the keyboard shortcuts table alternating rows."),(0,Ht.Ic)(((e,t)=>{const i=e.getColor(pt.dRz);if(i){const n=i.transparent(.8).makeOpaque((0,$t.Xp)(e));t.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-table-tr .monaco-table-td .code { color: ${n}; }`)}const n=e.getColor(pt.M6C),s=e.getColor(pt.dCr);if(n&&s){const e=n.transparent(.8).makeOpaque(s);t.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.selected .monaco-table-tr .monaco-table-td .code { color: ${e}; }`)}const o=e.getColor(pt.ytC),r=e.getColor(pt.rg2);if(o&&r){const e=o.transparent(.8).makeOpaque(r);t.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list-row.selected .monaco-table-tr .monaco-table-td .code { color: ${e}; }`)}const a=e.getColor(pt._2n),c=e.getColor(pt._bK);if(a&&c){const e=a.transparent(.8).makeOpaque(c);t.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.focused .monaco-table-tr .monaco-table-td .code { color: ${e}; }`)}const d=e.getColor(pt.$d5),l=e.getColor(pt.mV1);if(d&&l){const e=d.transparent(.8).makeOpaque(l);t.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row:hover:not(.focused):not(.selected) .monaco-table-tr .monaco-table-td .code { color: ${e}; }`)}}));var Ai=i(22016),Oi=i(41157);let Wi=class extends st.aU{static{this.ID="workbench.action.configureLanguageBasedSettings"}static{this.LABEL={value:f.NC("configureLanguageBasedSettings","Configure Language Specific Settings..."),original:"Configure Language Specific Settings..."}}constructor(e,t,i,n,s,o){super(e,t),this.modelService=i,this.languageService=n,this.quickInputService=s,this.preferencesService=o}async run(){const e=this.languageService.getSortedRegisteredLanguageNames().map((({languageName:e,languageId:t})=>{const i=f.NC("languageDescriptionConfigured","({0})",t);let n;const s=this.languageService.getExtensions(t);if(s.length)n=g.ov.file(s[0]);else{const e=this.languageService.getFilenames(t);e.length&&(n=g.ov.file(e[0]))}return{label:e,iconClasses:(0,Ai.r)(this.modelService,this.languageService,n),description:i}}));await this.quickInputService.pick(e,{placeHolder:f.NC("pickLanguage","Select Language")}).then((e=>{if(e){const t=this.languageService.getLanguageIdByLanguageName(e.label);if("string"==typeof t)return this.preferencesService.openLanguageSpecificSettings(t)}}))}};Wi=(0,o.g)([(0,o.f)(2,p.q),(0,o.f)(3,m.O),(0,o.f)(4,Oi.eJ),(0,o.f)(5,s.UP)],Wi),je.P.registerCommand({id:"_getAllSettings",handler:()=>x.B.as(v.IP.Configuration).getConfigurationProperties()}),je.P.registerCommand("_getAllCommands",(function(e){const t=e.get(w.d),i=[];for(const e of Ue.Uc.getEditorActions()){const n=t.lookupKeybinding(e.id);i.push({command:e.id,label:e.label,precondition:e.precondition?.serialize(),keybinding:n?.getLabel()??"Not set"})}for(const e of F.BH.getMenuItems(F.eH.CommandPalette))if((0,F.vr)(e)){const n="string"==typeof e.command.title?e.command.title:e.command.title.value,s=e.command.category?"string"==typeof e.command.category?e.command.category:e.command.category.value:void 0,o=s?`${s}: ${n}`:n,r=t.lookupKeybinding(e.command.id);i.push({command:e.command.id,label:o,precondition:e.when?.serialize(),keybinding:r?.getLabel()??"Not set"})}return i}));var Pi=i(43702),Fi=i(71083),Ki=i(87997),Bi=i(98674),Vi=i(33425),Ui=i(20871),Hi=i(48205);let ji=class extends d.JT{constructor(e,t,i,n,s){super(),this.editor=e,this.preferencesModel=t,this.preferencesService=i,this.configurationService=n,this.instantiationService=s,this.modelChangeDelayer=new Ye.vp(200),this.settingHighlighter=this._register(s.createInstance(qi,e)),this.editSettingActionRenderer=this._register(this.instantiationService.createInstance($i,this.editor,this.preferencesModel,this.settingHighlighter)),this._register(this.editSettingActionRenderer.onUpdateSetting((({key:e,value:t,source:i})=>this.updatePreference(e,t,i)))),this._register(this.editor.getModel().onDidChangeContent((()=>this.modelChangeDelayer.trigger((()=>this.onModelChanged()))))),this.unsupportedSettingsRenderer=this._register(s.createInstance(zi,e,t))}render(){this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this.associatedPreferencesModel),this.unsupportedSettingsRenderer.render()}updatePreference(e,t,i){const n=i.overrideOf?(0,v.ny)(i.overrideOf.key):null,s=this.preferencesModel.uri;this.configurationService.updateValue(e,t,{overrideIdentifiers:n,resource:s},this.preferencesModel.configurationTarget).then((()=>this.onSettingUpdated(i)))}onModelChanged(){this.editor.hasModel()&&this.render()}onSettingUpdated(e){this.editor.focus(),(e=this.getSetting(e))&&(this.editor.setSelection(e.valueRange),this.settingHighlighter.highlight(e,!0))}getSetting(e){const{key:t,overrideOf:i}=e;if(!i)return this.preferencesModel.getPreference(t);{const e=this.getSetting(i);for(const i of e.overrides)if(i.key===t)return i}}focusPreference(e){const t=this.getSetting(e);t?(this.settingHighlighter.highlight(t,!0),this.editor.setPosition({lineNumber:t.keyRange.startLineNumber,column:t.keyRange.startColumn})):this.settingHighlighter.clear(!0)}clearFocus(e){this.settingHighlighter.clear(!0)}editPreference(e){const t=this.getSetting(e);return!(!t||!this.editSettingActionRenderer.activateOnSetting(t))}};ji=(0,o.g)([(0,o.f)(2,s.UP),(0,o.f)(3,y.Ui),(0,o.f)(4,S.TG)],ji);let Gi=class extends ji{constructor(e,t,i,n,s){super(e,t,i,n,s),this.workspaceConfigurationRenderer=this._register(s.createInstance(Ji,e,t))}render(){super.render(),this.workspaceConfigurationRenderer.render()}};Gi=(0,o.g)([(0,o.f)(2,s.UP),(0,o.f)(3,y.Ui),(0,o.f)(4,S.TG)],Gi);let $i=class extends d.JT{constructor(e,t,i,n,s,o){super(),this.editor=e,this.primarySettingsModel=t,this.settingHighlighter=i,this.configurationService=n,this.instantiationService=s,this.contextMenuService=o,this.settingsGroups=[],this._onUpdateSetting=new a.Q5,this.onUpdateSetting=this._onUpdateSetting.event,this.editPreferenceWidgetForCursorPosition=this._register(this.instantiationService.createInstance(Kt,e)),this.editPreferenceWidgetForMouseMove=this._register(this.instantiationService.createInstance(Kt,e)),this.toggleEditPreferencesForMouseMoveDelayer=new Ye.vp(75),this._register(this.editPreferenceWidgetForCursorPosition.onClick((e=>this.onEditSettingClicked(this.editPreferenceWidgetForCursorPosition,e)))),this._register(this.editPreferenceWidgetForMouseMove.onClick((e=>this.onEditSettingClicked(this.editPreferenceWidgetForMouseMove,e)))),this._register(this.editor.onDidChangeCursorPosition((e=>this.onPositionChanged(e)))),this._register(this.editor.onMouseMove((e=>this.onMouseMoved(e)))),this._register(this.editor.onDidChangeConfiguration((()=>this.onConfigurationChanged())))}render(e,t){this.editPreferenceWidgetForCursorPosition.hide(),this.editPreferenceWidgetForMouseMove.hide(),this.settingsGroups=e,this.associatedPreferencesModel=t;const i=this.getSettings(this.editor.getPosition().lineNumber);i.length&&this.showEditPreferencesWidget(this.editPreferenceWidgetForCursorPosition,i)}isDefaultSettings(){return this.primarySettingsModel instanceof ve}onConfigurationChanged(){this.editor.getOption(56)||(this.editPreferenceWidgetForCursorPosition.hide(),this.editPreferenceWidgetForMouseMove.hide())}onPositionChanged(e){this.editPreferenceWidgetForMouseMove.hide();const t=this.getSettings(e.position.lineNumber);t.length?this.showEditPreferencesWidget(this.editPreferenceWidgetForCursorPosition,t):this.editPreferenceWidgetForCursorPosition.hide()}onMouseMoved(e){const t=this.getEditPreferenceWidgetUnderMouse(e);t?this.onMouseOver(t):(this.settingHighlighter.clear(),this.toggleEditPreferencesForMouseMoveDelayer.trigger((()=>this.toggleEditPreferenceWidgetForMouseMove(e))))}getEditPreferenceWidgetUnderMouse(e){if(2===e.target.type){const t=e.target.position.lineNumber;if(this.editPreferenceWidgetForMouseMove.getLine()===t&&this.editPreferenceWidgetForMouseMove.isVisible())return this.editPreferenceWidgetForMouseMove;if(this.editPreferenceWidgetForCursorPosition.getLine()===t&&this.editPreferenceWidgetForCursorPosition.isVisible())return this.editPreferenceWidgetForCursorPosition}}toggleEditPreferenceWidgetForMouseMove(e){const t=e.target.position?this.getSettings(e.target.position.lineNumber):null;t&&t.length?this.showEditPreferencesWidget(this.editPreferenceWidgetForMouseMove,t):this.editPreferenceWidgetForMouseMove.hide()}showEditPreferencesWidget(e,t){const i=t[0].valueRange.startLineNumber;this.editor.getOption(56)&&this.marginFreeFromOtherDecorations(i)&&(e.show(i,f.NC("editTtile","Edit"),t),(e===this.editPreferenceWidgetForCursorPosition?this.editPreferenceWidgetForMouseMove:this.editPreferenceWidgetForCursorPosition).hide())}marginFreeFromOtherDecorations(e){const t=this.editor.getLineDecorations(e);if(t)for(const{options:e}of t)if(e.glyphMarginClassName&&-1===e.glyphMarginClassName.indexOf(St.kS.asClassName(Lt)))return!1;return!0}getSettings(e){const t=this.getConfigurationsMap();return this.getSettingsAtLineNumber(e).filter((e=>{const i=t[e.key];if(i){if(i.policy&&void 0!==this.configurationService.inspect(e.key).policyValue)return!1;if(this.isDefaultSettings())return"launch"!==e.key;if("boolean"===i.type||i.enum){if(6!==this.primarySettingsModel.configurationTarget)return!0;if(4===i.scope||5===i.scope)return!0}}return!1}))}getSettingsAtLineNumber(e){let t=0;const i=[];for(const n of this.settingsGroups){if(n.range.startLineNumber>e)break;if(e>=n.range.startLineNumber&&e<=n.range.endLineNumber)for(const s of n.sections)for(const o of s.settings){if(o.range.startLineNumber>e)break;if(e>=o.range.startLineNumber&&e<=o.range.endLineNumber)if(!this.isDefaultSettings()&&o.overrides.length)for(const s of o.overrides)e>=s.range.startLineNumber&&e<=s.range.endLineNumber&&i.push({...s,index:t,groupId:n.id});else i.push({...o,index:t,groupId:n.id});t++}}return i}onMouseOver(e){this.settingHighlighter.highlight(e.preferences[0])}onEditSettingClicked(e,t){et.zB.stop(t.event,!0);const i=1===this.getSettings(e.getLine()).length?this.getActions(e.preferences[0],this.getConfigurationsMap()[e.preferences[0].key]):e.preferences.map((e=>new st.wY(`preferences.submenu.${e.key}`,e.key,this.getActions(e,this.getConfigurationsMap()[e.key]))));this.contextMenuService.showContextMenu({getAnchor:()=>t.event,getActions:()=>i})}activateOnSetting(e){const t=e.keyRange.startLineNumber,i=this.getSettings(t);if(!i.length)return!1;this.editPreferenceWidgetForMouseMove.show(t,"",i);const n=this.getActions(this.editPreferenceWidgetForMouseMove.preferences[0],this.getConfigurationsMap()[this.editPreferenceWidgetForMouseMove.preferences[0].key]);return this.contextMenuService.showContextMenu({getAnchor:()=>this.toAbsoluteCoords(new Zt.L(t,1)),getActions:()=>n}),!0}toAbsoluteCoords(e){const t=this.editor.getScrolledVisiblePosition(e),i=(0,et.i)(this.editor.getDomNode());return{x:i.left+t.left,y:i.top+t.top+t.height+10}}getConfigurationsMap(){return x.B.as(v.IP.Configuration).getConfigurationProperties()}getActions(e,t){return"boolean"===t.type?[{id:"truthyValue",label:"true",enabled:!0,run:()=>this.updateSetting(e.key,!0,e)},{id:"falsyValue",label:"false",enabled:!0,run:()=>this.updateSetting(e.key,!1,e)}]:t.enum?t.enum.map((t=>({id:t,label:JSON.stringify(t),enabled:!0,run:()=>this.updateSetting(e.key,t,e)}))):this.getDefaultActions(e)}getDefaultActions(e){return this.isDefaultSettings()?[{id:"setDefaultValue",label:this.associatedPreferencesModel.getPreference(e.key)?f.NC("replaceDefaultValue","Replace in Settings"):f.NC("copyDefaultValue","Copy to Settings"),enabled:!0,run:()=>this.updateSetting(e.key,e.value,e)}]:[]}updateSetting(e,t,i){this._onUpdateSetting.fire({key:e,value:t,source:i})}};$i=(0,o.g)([(0,o.f)(3,y.Ui),(0,o.f)(4,S.TG),(0,o.f)(5,ut.i)],$i);let qi=class extends d.JT{constructor(e,t){super(),this.editor=e,this.fixedHighlighter=this._register(t.createInstance(Ui.rv)),this.volatileHighlighter=this._register(t.createInstance(Ui.rv))}highlight(e,t=!1){this.volatileHighlighter.removeHighlightRange(),this.fixedHighlighter.removeHighlightRange(),(t?this.fixedHighlighter:this.volatileHighlighter).highlightRange({range:e.valueRange,resource:this.editor.getModel().uri},this.editor),this.editor.revealLineInCenterIfOutsideViewport(e.valueRange.startLineNumber,0)}clear(e=!1){this.volatileHighlighter.removeHighlightRange(),e&&this.fixedHighlighter.removeHighlightRange()}};qi=(0,o.g)([(0,o.f)(1,S.TG)],qi);let zi=class extends d.JT{constructor(e,t,i,n,s,o,r,c,d,l){super(),this.editor=e,this.settingsEditorModel=t,this.markerService=i,this.environmentService=n,this.configurationService=s,this.workspaceTrustManagementService=o,this.uriIdentityService=r,this.userDataProfileService=d,this.userDataProfilesService=l,this.renderingDelayer=new Ye.vp(200),this.codeActions=new Pi.Y9((e=>this.uriIdentityService.extUri.getComparisonKey(e))),this._register(this.editor.getModel().onDidChangeContent((()=>this.delayedRender()))),this._register(a.ju.filter(this.configurationService.onDidChangeConfiguration,(e=>7===e.source))((()=>this.delayedRender()))),this._register(c.codeActionProvider.register({pattern:t.uri.path},this))}delayedRender(){this.renderingDelayer.trigger((()=>this.render()))}render(){this.codeActions.clear();const e=this.generateMarkerData();e.length?this.markerService.changeOne("UnsupportedSettingsRenderer",this.settingsEditorModel.uri,e):this.markerService.remove("UnsupportedSettingsRenderer",[this.settingsEditorModel.uri])}async provideCodeActions(e,t,i,n){const s=[],o=this.codeActions.get(e.uri);if(o)for(const[e,i]of o)e.containsRange(t)&&s.push(...i);return{actions:s,dispose:()=>{}}}generateMarkerData(){const e=[],t=x.B.as(v.IP.Configuration).getConfigurationProperties();for(const i of this.settingsEditorModel.settingsGroups)for(const n of i.sections)for(const i of n.settings){if(v.eU.test(i.key)){i.overrides&&this.handleOverrides(i.overrides,t,e);continue}const n=t[i.key];if(n){if(this.handlePolicyConfiguration(i,n,e))continue;switch(this.settingsEditorModel.configurationTarget){case 3:this.handleLocalUserConfiguration(i,n,e);break;case 4:this.handleRemoteUserConfiguration(i,n,e);break;case 5:this.handleWorkspaceConfiguration(i,n,e);break;case 6:this.handleWorkspaceFolderConfiguration(i,n,e)}}else e.push(this.gemerateUnknownConfigurationMarker(i))}return e}handlePolicyConfiguration(e,t,i){return!!t.policy&&void 0!==this.configurationService.inspect(e.key).policyValue&&7!==this.settingsEditorModel.configurationTarget&&(i.push({severity:Bi.ZL.Hint,tags:[1],...e.range,message:f.NC("unsupportedPolicySetting","This setting cannot be applied because it is configured in the system policy.")}),!0)}handleOverrides(e,t,i){for(const n of e||[]){const e=t[n.key];e?5!==e.scope&&i.push({severity:Bi.ZL.Hint,tags:[1],...n.range,message:f.NC("unsupportLanguageOverrideSetting","This setting cannot be applied because it is not registered as language override setting.")}):i.push(this.gemerateUnknownConfigurationMarker(n))}}handleLocalUserConfiguration(e,t,i){this.userDataProfileService.currentProfile.isDefault||this.userDataProfileService.currentProfile.useDefaultFlags?.settings||((0,ft.Xy)(this.userDataProfilesService.defaultProfile.settingsResource,this.settingsEditorModel.uri)&&!this.configurationService.isSettingAppliedForAllProfiles(e.key)?i.push({severity:Bi.ZL.Hint,tags:[1],...e.range,message:f.NC("defaultProfileSettingWhileNonDefaultActive","This setting cannot be applied while a non-default profile is active. It will be applied when the default profile is active.")}):(0,ft.Xy)(this.userDataProfileService.currentProfile.settingsResource,this.settingsEditorModel.uri)&&(1===t.scope?i.push(this.generateUnsupportedApplicationSettingMarker(e)):this.configurationService.isSettingAppliedForAllProfiles(e.key)&&i.push({severity:Bi.ZL.Hint,tags:[1],...e.range,message:f.NC("allProfileSettingWhileInNonDefaultProfileSetting","This setting cannot be applied because it is configured to be applied in all profiles using setting {0}. Value from the default profile will be used instead.",se.ek)}))),!this.environmentService.remoteAuthority||2!==t.scope&&6!==t.scope||i.push({severity:Bi.ZL.Hint,tags:[1],...e.range,message:f.NC("unsupportedRemoteMachineSetting","This setting cannot be applied in this window. It will be applied when you open a local window.")})}handleRemoteUserConfiguration(e,t,i){1===t.scope&&i.push(this.generateUnsupportedApplicationSettingMarker(e))}handleWorkspaceConfiguration(e,t,i){if(1===t.scope&&i.push(this.generateUnsupportedApplicationSettingMarker(e)),2===t.scope&&i.push(this.generateUnsupportedMachineSettingMarker(e)),!this.workspaceTrustManagementService.isWorkspaceTrusted()&&t.restricted){const t=this.generateUntrustedSettingMarker(e);i.push(t);const n=this.generateUntrustedSettingCodeActions([t]);this.addCodeActions(t,n)}}handleWorkspaceFolderConfiguration(e,t,i){if(1===t.scope&&i.push(this.generateUnsupportedApplicationSettingMarker(e)),2===t.scope&&i.push(this.generateUnsupportedMachineSettingMarker(e)),3===t.scope&&i.push({severity:Bi.ZL.Hint,tags:[1],...e.range,message:f.NC("unsupportedWindowSetting","This setting cannot be applied in this workspace. It will be applied when you open the containing workspace folder directly.")}),!this.workspaceTrustManagementService.isWorkspaceTrusted()&&t.restricted){const t=this.generateUntrustedSettingMarker(e);i.push(t);const n=this.generateUntrustedSettingCodeActions([t]);this.addCodeActions(t,n)}}generateUnsupportedApplicationSettingMarker(e){return{severity:Bi.ZL.Hint,tags:[1],...e.range,message:f.NC("unsupportedApplicationSetting","This setting has an application scope and can be set only in the user settings file.")}}generateUnsupportedMachineSettingMarker(e){return{severity:Bi.ZL.Hint,tags:[1],...e.range,message:f.NC("unsupportedMachineSetting","This setting can only be applied in user settings in local window or in remote settings in remote window.")}}generateUntrustedSettingMarker(e){return{severity:Bi.ZL.Warning,...e.range,message:f.NC("untrustedSetting","This setting can only be applied in a trusted workspace.")}}gemerateUnknownConfigurationMarker(e){return{severity:Bi.ZL.Hint,tags:[1],...e.range,message:f.NC("unknown configuration setting","Unknown Configuration Setting")}}generateUntrustedSettingCodeActions(e){return[{title:f.NC("manage workspace trust","Manage Workspace Trust"),command:{id:"workbench.trust.manage",title:f.NC("manage workspace trust","Manage Workspace Trust")},diagnostics:e,kind:Ki.yN.QuickFix.value}]}addCodeActions(e,t){let i=this.codeActions.get(this.settingsEditorModel.uri);i||(i=[],this.codeActions.set(this.settingsEditorModel.uri,i)),i.push([ie.e.lift(e),t])}dispose(){this.markerService.remove("UnsupportedSettingsRenderer",[this.settingsEditorModel.uri]),this.codeActions.clear(),super.dispose()}};zi=(0,o.g)([(0,o.f)(2,Bi.lT),(0,o.f)(3,Ot.n),(0,o.f)(4,se.FG),(0,o.f)(5,Vi.Y2),(0,o.f)(6,Hi.v),(0,o.f)(7,ri.p),(0,o.f)(8,Le.AP),(0,o.f)(9,De.lv)],zi);let Ji=class e extends d.JT{static{this.supportedKeys=["folders","tasks","launch","extensions","settings","remoteAuthority","transient"]}constructor(e,t,i,n){super(),this.editor=e,this.workspaceSettingsEditorModel=t,this.workspaceContextService=i,this.markerService=n,this.decorations=this.editor.createDecorationsCollection(),this.renderingDelayer=new Ye.vp(200),this._register(this.editor.getModel().onDidChangeContent((()=>this.renderingDelayer.trigger((()=>this.render())))))}render(){const t=[];if(3===this.workspaceContextService.getWorkbenchState()&&this.workspaceSettingsEditorModel instanceof fe){const i=[];for(const i of this.workspaceSettingsEditorModel.configurationGroups)for(const n of i.sections)for(const i of n.settings)e.supportedKeys.includes(i.key)||t.push({severity:Bi.ZL.Hint,tags:[1],...i.range,message:f.NC("unsupportedProperty","Unsupported Property")});this.decorations.set(i.map((e=>this.createDecoration(e))))}t.length?this.markerService.changeOne("WorkspaceConfigurationRenderer",this.workspaceSettingsEditorModel.uri,t):this.markerService.remove("WorkspaceConfigurationRenderer",[this.workspaceSettingsEditorModel.uri])}static{this._DIM_CONFIGURATION_=Fi.qx.register({description:"dim-configuration",stickiness:1,inlineClassName:"dim-configuration"})}createDecoration(t){return{range:t,options:e._DIM_CONFIGURATION_}}dispose(){this.markerService.remove("WorkspaceConfigurationRenderer",[this.workspaceSettingsEditorModel.uri]),this.decorations.clear(),super.dispose()}};Ji=(0,o.g)([(0,o.f)(2,E.ec),(0,o.f)(3,Bi.lT)],Ji);let Qi=class extends d.JT{static{this.ID="editor.contrib.settings"}constructor(e,t,i,n){super(),this.editor=e,this.instantiationService=t,this.preferencesService=i,this.workspaceContextService=n,this.disposables=this._register(new d.SL),this._createPreferencesRenderer(),this._register(this.editor.onDidChangeModel((e=>this._createPreferencesRenderer()))),this._register(this.workspaceContextService.onDidChangeWorkbenchState((()=>this._createPreferencesRenderer())))}async _createPreferencesRenderer(){this.disposables.clear(),this.currentRenderer=void 0;const e=this.editor.getModel();if(e&&/\.(json|code-workspace)$/.test(e.uri.path)){const t=await this.preferencesService.createPreferencesEditorModel(e.uri);t instanceof pe&&this.editor.getModel()&&(this.disposables.add(t),5===t.configurationTarget?this.currentRenderer=this.disposables.add(this.instantiationService.createInstance(Gi,this.editor,t)):this.currentRenderer=this.disposables.add(this.instantiationService.createInstance(ji,this.editor,t))),this.currentRenderer?.render()}}};Qi=(0,o.g)([(0,o.f)(1,S.TG),(0,o.f)(2,s.UP),(0,o.f)(3,E.ec)],Qi);var Xi=i(32052),Zi=i(71050),Yi=i(3356),en=i(53725);(0,Ve.Z)('.editor-instance#workbench\\.editor\\.settings2:focus{outline:none}.settings-editor{margin:auto;max-width:1200px;overflow:hidden}.settings-editor:focus{outline:none!important}.settings-editor>.settings-header{box-sizing:border-box;margin:11px auto auto;max-width:1200px;overflow:hidden;padding-left:24px;padding-right:24px;padding-top:3px}.settings-editor>.settings-header>.search-container{position:relative}.monaco-workbench.vs .settings-editor>.settings-header>.search-container>.suggest-input-container{border:1px solid #ddd}.settings-editor>.settings-header>.search-container>.settings-count-widget{margin:4px 0;position:absolute;right:46px;top:0}.settings-editor>.settings-header>.search-container>.settings-count-widget:empty{visibility:hidden}.settings-editor>.settings-header>.search-container>.settings-clear-widget{align-items:center;display:flex;height:100%;position:absolute;right:0;top:0;width:43px}.settings-editor>.settings-header>.search-container>.settings-clear-widget .action-label{padding:2px}.settings-editor>.settings-header>.settings-header-controls{border-bottom:1px solid;display:flex;height:32px;margin-top:10px}.settings-editor>.settings-header>.settings-header-controls .settings-target-container{flex:auto}.settings-editor>.settings-header>.settings-header-controls .settings-tabs-widget .action-label{border-radius:0;color:var(--vscode-foreground);opacity:.9}.settings-editor>.settings-header>.settings-header-controls .last-synced-label{opacity:.9;padding-top:7px}.settings-editor .settings-tabs-widget>.monaco-action-bar .action-item .action-details{opacity:.9}.settings-editor>.settings-header>.settings-header-controls .settings-tabs-widget .action-label:hover{opacity:1}.settings-editor>.settings-header>.settings-header-controls .settings-tabs-widget .action-label.checked{color:var(--vscode-settings-headerForeground);opacity:1}.settings-editor>.settings-header>.settings-header-controls .settings-tabs-widget .action-label.checked:not(:focus){border-bottom-color:var(--vscode-settings-headerForeground)}.settings-editor>.settings-header .settings-tabs-widget>.monaco-action-bar .action-item .action-label{margin-right:0}.settings-editor>.settings-header .settings-tabs-widget .monaco-action-bar .action-item .dropdown-icon{padding-top:3px}.settings-editor>.settings-header>.settings-header-controls .settings-tabs-widget>.monaco-action-bar .action-item{padding:0}.settings-editor>.settings-header>.settings-header-controls .settings-tabs-widget>.monaco-action-bar .action-item .action-label{font-size:13px;padding:7px 8px 6.5px;text-transform:none}.settings-editor>.settings-header>.settings-header-controls .settings-tabs-widget>.monaco-action-bar .action-item .action-label .dropdown-icon{padding-top:2px}.settings-editor>.settings-header>.settings-header-controls .settings-tabs-widget>.monaco-action-bar .action-item .action-label:not(.checked):not(:focus){border-bottom:1px solid transparent}.settings-editor>.settings-body{position:relative}.settings-editor>.settings-body>.no-results-message{box-sizing:border-box;display:none;margin:20px auto auto;max-width:1200px;padding-left:24px;padding-right:24px}.settings-editor>.settings-body>.monaco-split-view2{margin-top:14px}.settings-editor>.settings-body .settings-toc-container,.settings-editor>.settings-body .settings-tree-container{height:100%}.settings-editor>.settings-body .settings-tree-container .setting-item-label,.settings-editor>.settings-body .settings-tree-container .settings-group-title-label{color:var(--vscode-settings-headerForeground)}.settings-editor>.settings-body .settings-tree-container .setting-item-extension-toggle .setting-item-extension-toggle-button{display:block;width:fit-content}.settings-editor.no-results>.settings-body .settings-toc-container,.settings-editor.no-results>.settings-body .settings-tree-container{display:none}.settings-editor.no-results>.settings-body>.no-results-message{display:block}.settings-editor>.settings-body>.no-results-message a.prominent{text-decoration:underline}.settings-editor.narrow-width>.settings-body .settings-tree-container .monaco-list-row .monaco-tl-contents,.settings-editor.no-toc-search>.settings-body .settings-tree-container .monaco-list-row .monaco-tl-contents{padding-left:33px}.settings-editor>.settings-body .settings-tree-container .monaco-list-row{outline:none!important}.settings-editor>.settings-body .settings-tree-container .monaco-list-row .monaco-tl-twistie{display:none!important}.settings-editor>.settings-body .settings-tree-container .monaco-list-row.focused .settings-row-inner-container{background-color:var(--vscode-settings-focusedRowBackground)}.settings-editor>.settings-body .settings-tree-container .monaco-list-row:not(.focused) .settings-row-inner-container:hover{background-color:var(--vscode-settings-rowHoverBackground)}.settings-editor>.settings-body .settings-tree-container .monaco-list:focus-within .monaco-list-row.focused .setting-item-contents,.settings-editor>.settings-body .settings-tree-container .monaco-list:focus-within .monaco-list-row.focused .settings-group-title-label{outline:1px solid var(--vscode-settings-focusedRowBorder)}.settings-editor>.settings-body .settings-tree-container .settings-editor-tree>.monaco-scrollable-element>.shadow.top{z-index:11}.settings-editor>.settings-body .settings-tree-container .setting-toolbar-container{bottom:0;height:22px;left:-22px;position:absolute;top:8px;width:22px}.settings-editor>.settings-body .settings-tree-container .monaco-list-row .mouseover .setting-toolbar-container>.monaco-toolbar .codicon,.settings-editor>.settings-body .settings-tree-container .monaco-list-row .setting-toolbar-container:hover>.monaco-toolbar .codicon,.settings-editor>.settings-body .settings-tree-container .monaco-list-row .setting-toolbar-container>.monaco-toolbar .active .codicon,.settings-editor>.settings-body .settings-tree-container .monaco-list-row.focused .setting-item-contents .setting-toolbar-container>.monaco-toolbar .codicon{opacity:1}.settings-editor>.settings-body .settings-tree-container .setting-toolbar-container>.monaco-toolbar .codicon{align-items:center;display:flex;justify-content:center;opacity:0}.monaco-workbench:not(.reduce-motion) .settings-editor>.settings-body .settings-tree-container .setting-toolbar-container>.monaco-toolbar .codicon{transition:opacity .3s}.settings-editor>.settings-body .settings-toc-container{pointer-events:none;position:absolute;width:100%;z-index:10}.settings-editor>.settings-body .settings-toc-container .monaco-list{pointer-events:auto}.settings-editor.narrow-width>.settings-body .settings-toc-container,.settings-editor.no-toc-search>.settings-body .settings-toc-container{display:none}.settings-editor>.settings-body .settings-toc-container .monaco-list-row:not(.selected){color:var(--vscode-foreground);opacity:.9}.settings-editor>.settings-body .settings-toc-container .monaco-list-row .monaco-tl-contents{display:flex}.settings-editor>.settings-body .settings-toc-container .monaco-list-row .settings-toc-entry{flex-shrink:1;line-height:22px;overflow:hidden;text-overflow:ellipsis}.settings-editor>.settings-body .settings-toc-container .monaco-list-row .settings-toc-count{display:none;line-height:22px;margin-left:3px;opacity:.8}.settings-editor>.settings-body .settings-toc-container .monaco-list-row.selected .settings-toc-entry{font-weight:700}.settings-editor>.settings-body .settings-tree-container{border-collapse:separate;border-spacing:0;position:relative}.settings-editor>.settings-body .settings-toc-container .monaco-scrollable-element,.settings-editor>.settings-body .settings-tree-container .monaco-scrollable-element{padding-top:0}.settings-editor>.settings-body .settings-toc-wrapper{height:100%;margin:auto;max-width:1200px;padding-left:24px}.settings-editor.narrow-width>.settings-body .settings-tree-container,.settings-editor.no-toc-search>.settings-body .settings-tree-container{margin-left:0}.settings-editor>.settings-body .settings-tree-container .monaco-list-row{cursor:default;line-height:1.4em!important;overflow:visible}.settings-editor>.settings-body .settings-tree-container .monaco-list-rows{min-height:100%;overflow:visible!important}.settings-editor>.settings-body .settings-tree-container .monaco-list-row .monaco-tl-contents{box-sizing:border-box;margin:auto;max-width:min(100%,1200px);overflow:visible;padding-left:24px;padding-right:24px}.settings-editor>.settings-body .settings-tree-container .monaco-list-row .monaco-tl-contents.group-title{max-width:min(100%,1200px)}.settings-editor>.settings-body .settings-tree-container .setting-item-contents,.settings-editor>.settings-body .settings-tree-container .settings-group-title-label{outline-offset:-1px}.settings-editor>.settings-body .settings-tree-container .setting-item-contents{padding:12px 14px 18px;position:relative;white-space:normal}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-title{display:inline-block;overflow:hidden;padding-bottom:2px;text-overflow:ellipsis}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-modified-indicator{border-color:var(--vscode-settings-modifiedItemIndicator);display:none}.settings-editor>.settings-body .settings-tree-container .setting-item-contents.is-configured .setting-item-modified-indicator{border-left-style:solid;border-left-width:2px;bottom:18px;content:" ";display:block;left:5px;position:absolute;top:15px;width:6px}.settings-editor>.settings-body .settings-tree-container .setting-item-bool .setting-item-contents.is-configured .setting-item-modified-indicator,.settings-editor>.settings-body .settings-tree-container .setting-item-list .setting-item-contents.is-configured .setting-item-modified-indicator{bottom:23px}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-title>.setting-indicators-container{font-style:italic}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-title .setting-item-ignored,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-title .setting-item-overrides{color:var(--vscode-foreground);opacity:.9}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-title>.setting-indicators-container .setting-indicator{padding-bottom:2px}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-title .codicon{padding-left:1px;vertical-align:middle}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-title .setting-item-label .codicon{vertical-align:middle}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-title .setting-item-overrides a.modified-scope{cursor:pointer;text-decoration:underline}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-label{margin-right:7px}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-cat-label-container{float:left}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-category,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-label{font-weight:600;user-select:text;-webkit-user-select:text}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-category{opacity:.9}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-deprecation-message{color:var(--vscode-errorForeground);display:none;margin-top:3px;user-select:text;-webkit-user-select:text}.settings-editor>.settings-body .settings-tree-container .setting-item-contents.is-deprecated .setting-item-deprecation-message{display:flex}.settings-editor>.settings-body .settings-tree-container .setting-item-contents.is-deprecated .setting-item-deprecation-message .codicon{color:inherit;margin-right:4px}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-description{color:var(--vscode-foreground);margin-top:-1px;opacity:.9;user-select:text;-webkit-user-select:text}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-validation-message{background-color:var(--vscode-inputValidation-errorBackground);border:1px solid var(--vscode-inputValidation-errorBorder);color:var(--vscode-inputValidation-errorForeground);display:none}.settings-editor>.settings-body .settings-tree-container .setting-item .setting-item-contents.invalid-input .setting-item-validation-message{box-sizing:border-box;display:block;margin-top:-1px;padding:5px;position:absolute;z-index:1}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-item-contents.invalid-input .setting-item-validation-message{margin-top:1rem;position:static}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-text .setting-item-validation-message{width:420px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-number .setting-item-validation-message{width:200px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-number input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none!important}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-number input[type=number]{-moz-appearance:textfield!important;appearance:textfield!important}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown *{margin:0}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown :not(:last-child){margin-bottom:8px}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .edit-in-settings-button{opacity:.9}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .edit-in-settings-button,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown a,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown a>code{color:var(--vscode-textLink-foreground)}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .edit-in-settings-button:focus,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown a:focus{outline:1px solid -webkit-focus-ring-color;outline-color:var(--vscode-focusBorder);outline-offset:-1px;text-decoration:underline}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .edit-in-settings-button:active,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .edit-in-settings-button:hover,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown a:active,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown a:active>code,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown a:hover,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown a:hover>code{color:var(--vscode-textLink-activeForeground)}.settings-editor>.settings-body .settings-tree-container .edit-in-settings-button:hover,.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown a:hover{cursor:pointer;text-decoration:underline}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown code{color:var(--vscode-textPreformat-foreground);font-family:var(--monaco-monospace-font);line-height:15px}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-markdown .monaco-tokenized-source{font-family:var(--monaco-monospace-font);white-space:pre}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-enumDescription{display:block}.settings-editor>.settings-body .settings-tree-container .setting-item-bool .setting-item-contents,.settings-editor>.settings-body .settings-tree-container .setting-item-list .setting-item-contents{padding-bottom:26px}.settings-editor>.settings-body .settings-tree-container .setting-item-bool .setting-item-value-description{cursor:pointer;display:flex}.settings-editor>.settings-body .settings-tree-container .setting-item-bool .setting-value-checkbox{border:1px solid transparent;border-radius:3px;height:18px;margin-left:0;margin-right:9px;padding:0;width:18px}.settings-editor>.settings-body .settings-tree-container .setting-item-bool .setting-value-checkbox.codicon:not(.checked):before{opacity:0}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .setting-item-value{display:flex;margin-top:9px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-number .setting-item-value>.setting-item-control{min-width:200px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-text .setting-item-control{width:420px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-enum .setting-item-value>.setting-item-control,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-text .setting-item-value>.setting-item-control{min-width:auto}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-enum .setting-item-value>.setting-item-control>select{width:320px}.settings-editor>.settings-body .settings-tree-container .setting-item-contents .monaco-select-box{font:inherit;height:26px;padding:2px 6px;width:auto}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown code{color:var(--vscode-textPreformat-foreground)}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a,.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a>code{color:var(--vscode-textLink-foreground)}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a:active,.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a:active>code,.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a:hover,.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a:hover>code{color:var(--vscode-textLink-activeForeground)}.settings-editor>.settings-body .settings-tree-container .setting-item-new-extensions{display:flex}.settings-editor>.settings-body .settings-tree-container .setting-item-new-extensions .settings-new-extensions-button{margin:auto auto 15px;padding:4px 10px;width:auto}.settings-editor>.settings-body .settings-tree-container .group-title{cursor:default}.settings-editor>.settings-body .settings-tree-container .settings-group-title-label{box-sizing:border-box;display:inline-block;font-weight:600;height:100%;margin:0;overflow:hidden;padding:10px 10px 10px 15px;position:relative;text-overflow:ellipsis;width:100%}.settings-editor>.settings-body .settings-tree-container .settings-group-title-label.settings-group-level-1{font-size:26px}.settings-editor>.settings-body .settings-tree-container .settings-group-title-label.settings-group-level-2{font-size:22px}.settings-editor>.settings-body .settings-tree-container .settings-group-title-label.settings-group-level-3{font-size:18px}.settings-editor.search-mode>.settings-body .settings-toc-container .monaco-list-row .settings-toc-count{display:block}.settings-editor>.settings-body .settings-tree-container .setting-list-widget .setting-list-object-list-row.select-container{width:320px}.settings-editor>.settings-body .settings-tree-container .setting-list-widget .setting-list-object-list-row.select-container>select{width:inherit}.settings-editor>.settings-body .settings-toc-container .monaco-list-row.focused .codicon,.settings-editor>.settings-body .settings-tree-container .monaco-list-row.focused .setting-item-contents .codicon,.settings-editor>.settings-body .settings-tree-container .setting-item-bool .codicon{color:inherit!important}',{});var tn=i(43557),nn=i(60361);const sn=["files.autoSave","editor.fontSize","editor.fontFamily","editor.tabSize","editor.renderWhitespace","editor.cursorStyle","editor.multiCursorModifier","editor.insertSpaces","editor.wordWrap","files.exclude","files.associations","workbench.editor.enablePreview"],on={id:"root",label:"root",children:[{id:"editor",label:(0,f.NC)("textEditor","Text Editor"),settings:["editor.*"],children:[{id:"editor/cursor",label:(0,f.NC)("cursor","Cursor"),settings:["editor.cursor*"]},{id:"editor/find",label:(0,f.NC)("find","Find"),settings:["editor.find.*"]},{id:"editor/font",label:(0,f.NC)("font","Font"),settings:["editor.font*"]},{id:"editor/format",label:(0,f.NC)("formatting","Formatting"),settings:["editor.format*"]},{id:"editor/diffEditor",label:(0,f.NC)("diffEditor","Diff Editor"),settings:["diffEditor.*"]},{id:"editor/minimap",label:(0,f.NC)("minimap","Minimap"),settings:["editor.minimap.*"]},{id:"editor/suggestions",label:(0,f.NC)("suggestions","Suggestions"),settings:["editor.*suggest*"]},{id:"editor/files",label:(0,f.NC)("files","Files"),settings:["files.*"]}]},{id:"workbench",label:(0,f.NC)("workbench","Workbench"),settings:["workbench.*"],children:[{id:"workbench/appearance",label:(0,f.NC)("appearance","Appearance"),settings:["workbench.activityBar.*","workbench.*color*","workbench.fontAliasing","workbench.iconTheme","workbench.sidebar.location","workbench.*.visible","workbench.tips.enabled","workbench.tree.*","workbench.view.*"]},{id:"workbench/breadcrumbs",label:(0,f.NC)("breadcrumbs","Breadcrumbs"),settings:["breadcrumbs.*"]},{id:"workbench/editor",label:(0,f.NC)("editorManagement","Editor Management"),settings:["workbench.editor.*"]},{id:"workbench/settings",label:(0,f.NC)("settings","Settings Editor"),settings:["workbench.settings.*"]},{id:"workbench/zenmode",label:(0,f.NC)("zenMode","Zen Mode"),settings:["zenmode.*"]},{id:"workbench/screencastmode",label:(0,f.NC)("screencastMode","Screencast Mode"),settings:["screencastMode.*"]}]},{id:"window",label:(0,f.NC)("window","Window"),settings:["window.*"],children:[{id:"window/newWindow",label:(0,f.NC)("newWindow","New Window"),settings:["window.*newwindow*"]}]},{id:"features",label:(0,f.NC)("features","Features"),children:[{id:"features/accessibility",label:(0,f.NC)("accessibility","Accessibility"),settings:["accessibility.*"]},{id:"features/explorer",label:(0,f.NC)("fileExplorer","Explorer"),settings:["explorer.*","outline.*"]},{id:"features/search",label:(0,f.NC)("search","Search"),settings:["search.*"]},{id:"features/debug",label:(0,f.NC)("debug","Debug"),settings:["debug.*","launch"]},{id:"features/testing",label:(0,f.NC)("testing","Testing"),settings:["testing.*"]},{id:"features/scm",label:(0,f.NC)("scm","Source Control"),settings:["scm.*"]},{id:"features/extensions",label:(0,f.NC)("extensions","Extensions"),settings:["extensions.*"]},{id:"features/terminal",label:(0,f.NC)("terminal","Terminal"),settings:["terminal.*"]},{id:"features/task",label:(0,f.NC)("task","Task"),settings:["task.*"]},{id:"features/problems",label:(0,f.NC)("problems","Problems"),settings:["problems.*"]},{id:"features/output",label:(0,f.NC)("output","Output"),settings:["output.*"]},{id:"features/comments",label:(0,f.NC)("comments","Comments"),settings:["comments.*"]},{id:"features/remote",label:(0,f.NC)("remote","Remote"),settings:["remote.*"]},{id:"features/timeline",label:(0,f.NC)("timeline","Timeline"),settings:["timeline.*"]},{id:"features/notebook",label:(0,f.NC)("notebook","Notebook"),settings:["notebook.*","interactiveWindow.*"]},{id:"features/audioCues",label:(0,f.NC)("audioCues","Audio Cues"),settings:["audioCues.*"]},{id:"features/mergeEditor",label:(0,f.NC)("mergeEditor","Merge Editor"),settings:["mergeEditor.*"]},{id:"features/chat",label:(0,f.NC)("chat","Chat"),settings:["chat.*","inlineChat.*"]}]},{id:"application",label:(0,f.NC)("application","Application"),children:[{id:"application/http",label:(0,f.NC)("proxy","Proxy"),settings:["http.*"]},{id:"application/keyboard",label:(0,f.NC)("keyboard","Keyboard"),settings:["keyboard.*"]},{id:"application/update",label:(0,f.NC)("update","Update"),settings:["update.*"]},{id:"application/telemetry",label:(0,f.NC)("telemetry","Telemetry"),settings:["telemetry.*"]},{id:"application/settingsSync",label:(0,f.NC)("settingsSync","Settings Sync"),settings:["settingsSync.*"]},{id:"application/experimental",label:(0,f.NC)("experimental","Experimental"),settings:["application.experimental.*"]},{id:"application/other",label:(0,f.NC)("other","Other"),settings:["application.*"]}]},{id:"security",label:(0,f.NC)("security","Security"),settings:M.ED?["security.*"]:void 0,children:[{id:"security/workspace",label:(0,f.NC)("workspace","Workspace"),settings:["security.workspace.*"]}]}]},rn=new Set;["css","html","scss","less","json","js","ts","ie","id","php","scm"].forEach((e=>rn.add(e)));const an=new Map;an.set("power shell","PowerShell"),an.set("powershell","PowerShell"),an.set("javascript","JavaScript"),an.set("typescript","TypeScript");var cn=i(10161),dn=i(96250),ln=i(19882),gn=i(90573),hn=i(73516),un=i(16252),pn=i(27874),mn=i(4490),bn=i(79020),fn=i(18806),yn=i(50988);function vn(e,t,i){let n=[];n=i?function(e){const t=(0,c.Qc)(e);return t&&(t["settingsSync.ignoredSettings"]||t["sync.ignoredSettings"])||[]}(i):function(e){let t=e.inspect("settingsSync.ignoredSettings").userValue;return void 0!==t?t:(t=e.inspect("sync.ignoredSettings").userValue,void 0!==t?t:e.getValue("settingsSync.ignoredSettings")||[])}(t);const s=[],o=[...(0,nn.Ao)()];if(Array.isArray(n))for(const e of n)e.startsWith("-")?o.push(e.substring(1)):s.push(e);return(0,A.EB)([...e,...s].filter((e=>!o.includes(e))))}var Sn=i(22713);const wn=et.$;let Cn=new Set,kn=[],xn=class{constructor(e,t,i,n,s,o,r){this.configurationService=t,this.hoverService=i,this.userDataSyncEnablementService=n,this.languageService=s,this.userDataProfilesService=o,this.commandService=r,this.keybindingListeners=new d.SL,this.focusedIndex=0,this.defaultHoverOptions={hoverPosition:2,showPointer:!0,compact:!1,trapFocus:!0},this.indicatorsContainerElement=et.R3(e,wn(".setting-indicators-container")),this.indicatorsContainerElement.style.display="inline",this.profilesEnabled=this.userDataProfilesService.isEnabled(),this.workspaceTrustIndicator=this.createWorkspaceTrustIndicator(),this.scopeOverridesIndicator=this.createScopeOverridesIndicator(),this.syncIgnoredIndicator=this.createSyncIgnoredIndicator(),this.defaultOverrideIndicator=this.createDefaultOverrideIndicator(),this.allIndicators=[this.workspaceTrustIndicator,this.scopeOverridesIndicator,this.syncIgnoredIndicator,this.defaultOverrideIndicator]}addHoverDisposables(e,t,i){e.clear();const n=e.add(new Ye.pY((()=>{const t=i(!1);t&&e.add(t)}),this.configurationService.getValue("workbench.hover.delay")));e.add(et.nm(t,et.tw.MOUSE_OVER,(()=>{n.isScheduled()||n.schedule()}))),e.add(et.nm(t,et.tw.MOUSE_LEAVE,(()=>{n.cancel()}))),e.add(et.nm(t,et.tw.KEY_DOWN,(t=>{const n=new gt.y1(t);if(n.equals(10)||n.equals(3)){const n=i(!0);n&&e.add(n),t.preventDefault()}})))}createWorkspaceTrustIndicator(){const e=wn("span.setting-indicator.setting-item-workspace-trust"),t=new ln.C(e);t.text="$(warning) "+(0,f.NC)("workspaceUntrustedLabel","Setting value not applied");const i=(0,f.NC)("trustLabel","The setting value can only be applied in a trusted workspace."),n=new d.SL;return this.addHoverDisposables(n,e,(t=>this.hoverService.showHover({...this.defaultHoverOptions,content:i,target:e,actions:[{label:(0,f.NC)("manageWorkspaceTrust","Manage Workspace Trust"),commandId:"workbench.trust.manage",run:e=>{this.commandService.executeCommand("workbench.trust.manage")}}]},t))),{element:e,label:t,disposables:n}}createScopeOverridesIndicator(){const e=wn("span.setting-item-overrides");return{element:e,label:new ln.C(e),disposables:new d.SL}}createSyncIgnoredIndicator(){const e=wn("span.setting-indicator.setting-item-ignored"),t=new ln.C(e);t.text=(0,f.NC)("extensionSyncIgnoredLabel","Not synced");const i=(0,f.NC)("syncIgnoredTitle","This setting is ignored during sync"),n=new d.SL;return this.addHoverDisposables(n,e,(t=>this.hoverService.showHover({...this.defaultHoverOptions,content:i,target:e},t))),{element:e,label:t,disposables:new d.SL}}createDefaultOverrideIndicator(){const e=wn("span.setting-indicator.setting-item-default-overridden"),t=new ln.C(e);return t.text=(0,f.NC)("defaultOverriddenLabel","Default value changed"),{element:e,label:t,disposables:new d.SL}}render(){const e=this.allIndicators.filter((e=>"none"!==e.element.style.display));if(this.indicatorsContainerElement.innerText="",this.indicatorsContainerElement.style.display="none",e.length){this.indicatorsContainerElement.style.display="inline",et.R3(this.indicatorsContainerElement,wn("span",void 0,"("));for(let t=0;t<e.length-1;t++)et.R3(this.indicatorsContainerElement,e[t].element),et.R3(this.indicatorsContainerElement,wn("span.comma",void 0," • "));et.R3(this.indicatorsContainerElement,e[e.length-1].element),et.R3(this.indicatorsContainerElement,wn("span",void 0,")")),this.resetIndicatorNavigationKeyBindings(e)}}resetIndicatorNavigationKeyBindings(e){this.keybindingListeners.clear(),this.indicatorsContainerElement.role=e.length>=1?"toolbar":"button",e.length&&((e[0].focusElement??e[0].element).tabIndex=0,this.keybindingListeners.add(et.nm(this.indicatorsContainerElement,"keydown",(t=>{const i=new gt.y1(t);let n=!0;if(i.equals(14))this.focusIndicatorAt(e,0);else if(i.equals(13))this.focusIndicatorAt(e,e.length-1);else if(i.equals(17)){const t=(this.focusedIndex+1)%e.length;this.focusIndicatorAt(e,t)}else if(i.equals(15)){const t=this.focusedIndex?this.focusedIndex-1:e.length-1;this.focusIndicatorAt(e,t)}else n=!1;n&&(t.preventDefault(),t.stopPropagation())}))))}focusIndicatorAt(e,t){if(t===this.focusedIndex)return;const i=e[t],n=i.focusElement??i.element;n.tabIndex=0,n.focus();const s=e[this.focusedIndex];(s.focusElement??s.element).tabIndex=-1,this.focusedIndex=t}updateWorkspaceTrust(e){this.workspaceTrustIndicator.element.style.display=e.isUntrusted?"inline":"none",this.render()}updateSyncIgnored(e,t){this.syncIgnoredIndicator.element.style.display=this.userDataSyncEnablementService.isEnabled()&&t.includes(e.setting.key)?"inline":"none",this.render(),kn!==t&&(kn=t,Cn=new Set(kn))}getInlineScopeDisplayText(e){const[t,i]=e.split(":"),n="user"===t?(0,f.NC)("user","User"):"workspace"===t?(0,f.NC)("workspace","Workspace"):(0,f.NC)("remote","Remote");return i?`${this.languageService.getLanguageName(i)} > ${n}`:n}dispose(){this.keybindingListeners.dispose();for(const e of this.allIndicators)e.disposables.dispose()}updateScopeOverrides(e,t,i){if(this.scopeOverridesIndicator.element.innerText="",this.scopeOverridesIndicator.element.style.display="none",this.scopeOverridesIndicator.focusElement=this.scopeOverridesIndicator.element,e.hasPolicyValue){this.scopeOverridesIndicator.element.style.display="inline",this.scopeOverridesIndicator.element.classList.add("setting-indicator"),this.scopeOverridesIndicator.label.text="$(warning) "+(0,f.NC)("policyLabelText","Setting value not applied");const e=(0,f.NC)("policyDescription","This setting is managed by your organization and its applied value cannot be changed."),t=t=>this.hoverService.showHover({...this.defaultHoverOptions,content:e,actions:[{label:(0,f.NC)("policyFilterLink","View policy settings"),commandId:"_settings.action.viewPolicySettings",run:e=>{i.fire(`@${Me.e_}`)}}],target:this.scopeOverridesIndicator.element},t);this.addHoverDisposables(this.scopeOverridesIndicator.disposables,this.scopeOverridesIndicator.element,t)}else if(this.profilesEnabled&&3===e.settingsTarget&&this.configurationService.isSettingAppliedForAllProfiles(e.setting.key)){this.scopeOverridesIndicator.element.style.display="inline",this.scopeOverridesIndicator.element.classList.add("setting-indicator"),this.scopeOverridesIndicator.label.text=(0,f.NC)("applicationSetting","Applies to all profiles");const e=(0,f.NC)("applicationSettingDescription","The setting is not specific to the current profile, and will retain its value when switching profiles."),t=t=>this.hoverService.showHover({...this.defaultHoverOptions,content:e,target:this.scopeOverridesIndicator.element},t);this.addHoverDisposables(this.scopeOverridesIndicator.disposables,this.scopeOverridesIndicator.element,t)}else if(e.overriddenScopeList.length||e.overriddenDefaultsLanguageList.length)if(1!==e.overriddenScopeList.length||e.overriddenDefaultsLanguageList.length){this.scopeOverridesIndicator.element.style.display="inline",this.scopeOverridesIndicator.element.classList.add("setting-indicator");const i=e.isConfigured?(0,f.NC)("alsoConfiguredElsewhere","Also modified elsewhere"):(0,f.NC)("configuredElsewhere","Modified elsewhere");this.scopeOverridesIndicator.label.text=i;let n="";if(e.overriddenScopeList.length){n=e.isConfigured?(0,f.NC)("alsoModifiedInScopes","The setting has also been modified in the following scopes:"):(0,f.NC)("modifiedInScopes","The setting has been modified in the following scopes:");for(const t of e.overriddenScopeList)n+=`\n- [${this.getInlineScopeDisplayText(t)}](${encodeURIComponent(t)} "${In(t,this.languageService)}")`}if(e.overriddenDefaultsLanguageList.length){n&&(n+="\n\n"),n+=(0,f.NC)("hasDefaultOverridesForLanguages","The following languages have default overrides:");for(const t of e.overriddenDefaultsLanguageList){const e=this.languageService.getLanguageName(t);n+=`\n- [${e}](${encodeURIComponent(`default:${t}`)} "${e}")`}}const s={value:n,isTrusted:!1,supportHtml:!1},o=i=>this.hoverService.showHover({...this.defaultHoverOptions,content:s,linkHandler:i=>{const[n,s]=decodeURIComponent(i).split(":");t.fire({settingKey:e.setting.key,scope:n,language:s})},target:this.scopeOverridesIndicator.element},i);this.addHoverDisposables(this.scopeOverridesIndicator.disposables,this.scopeOverridesIndicator.element,o)}else{this.scopeOverridesIndicator.element.style.display="inline",this.scopeOverridesIndicator.element.classList.remove("setting-indicator"),this.scopeOverridesIndicator.disposables.clear();const i=e.isConfigured?(0,f.NC)("alsoConfiguredIn","Also modified in"):(0,f.NC)("configuredIn","Modified in");this.scopeOverridesIndicator.label.text=`${i} `;const n=e.overriddenScopeList[0],s=et.R3(this.scopeOverridesIndicator.element,wn("a.modified-scope",void 0,this.getInlineScopeDisplayText(n)));s.tabIndex=-1,this.scopeOverridesIndicator.focusElement=s;const o=i=>{const[s,o]=n.split(":");t.fire({settingKey:e.setting.key,scope:s,language:o}),i.preventDefault(),i.stopPropagation()};this.scopeOverridesIndicator.disposables.add(et.nm(s,et.tw.CLICK,(e=>{o(e)}))),this.scopeOverridesIndicator.disposables.add(et.nm(s,et.tw.KEY_DOWN,(e=>{const t=new gt.y1(e);(t.equals(10)||t.equals(3))&&o(e)})))}this.render()}updateDefaultOverrideIndicator(e){this.defaultOverrideIndicator.element.style.display="none";const t=En(e);if(void 0!==t){this.defaultOverrideIndicator.element.style.display="inline",this.defaultOverrideIndicator.disposables.clear();const e=(0,f.NC)("defaultOverriddenDetails","Default setting value overridden by {0}",t),i=t=>this.hoverService.showHover({content:e,target:this.defaultOverrideIndicator.element,hoverPosition:2,showPointer:!0,compact:!1},t);this.addHoverDisposables(this.defaultOverrideIndicator.disposables,this.defaultOverrideIndicator.element,i)}this.render()}};function En(e){let t;const i=e.defaultValueSource;return i&&("string"!=typeof i?t=i.displayName??i.id:"string"==typeof i&&(t=i)),t}function In(e,t){const[i,n]=e.split(":"),s="user"===i?(0,f.NC)("user","User"):"workspace"===i?(0,f.NC)("workspace","Workspace"):(0,f.NC)("remote","Remote");return n?(0,f.NC)("modifiedInScopeForLanguage","The {0} scope for {1}",s,t.getLanguageName(n)):s}xn=(0,o.g)([(0,o.f)(1,se.FG),(0,o.f)(2,Sn.B),(0,o.f)(3,nn.Ud),(0,o.f)(4,m.O),(0,o.f)(5,De.lv),(0,o.f)(6,je.H)],xn);class _n extends d.JT{constructor(e){super(),this._tabbable=!1,this._onDidChangeTabbable=new a.Q5,this.onDidChangeTabbable=this._onDidChangeTabbable.event,this.id=e}get tabbable(){return this._tabbable}set tabbable(e){this._tabbable=e,this._onDidChangeTabbable.fire()}}class Tn extends _n{get children(){return this._children}set children(e){this._children=e,this._childSettingKeys=new Set,this._children.forEach((e=>{e instanceof Dn&&this._childSettingKeys.add(e.setting.key)}))}constructor(e,t,i,n,s){super(e),this._childSettingKeys=new Set,this._children=[],this.count=t,this.label=i,this.level=n,this.isFirstGroup=s}containsSetting(e){return this._childSettingKeys.has(e)}}class Ln extends _n{constructor(e,t){super(e),this.extensionIds=t}}class Dn extends _n{static{this.MAX_DESC_LINES=20}constructor(e,t,i,n,s,o,r){super((t.id+"_"+e.key).replace(/[\.\/]/,"_")),this.settingsTarget=s,this.languageService=o,this.productService=r,this._displayCategory=null,this._displayLabel=null,this.isConfigured=!1,this.isUntrusted=!1,this.hasPolicyValue=!1,this.overriddenScopeList=[],this.overriddenDefaultsLanguageList=[],this.languageOverrideValues=new Map,this.setting=e,this.parent=t,this.update(i,n)}get displayCategory(){return this._displayCategory||this.initLabels(),this._displayCategory}get displayLabel(){return this._displayLabel||this.initLabels(),this._displayLabel}initLabels(){if(this.setting.title)return this._displayLabel=this.setting.title,void(this._displayCategory="");const e=Rn(this.setting.key,this.parent.id,this.setting.isLanguageTagSetting);this._displayLabel=e.label,this._displayCategory=e.category}update(e,t){let{isConfigured:i,inspected:n,targetSelector:o,inspectedLanguageOverrides:r,languageSelector:a}=e;switch(o){case"workspaceFolderValue":case"workspaceValue":this.isUntrusted=!!this.setting.restricted&&!t}let c=i?n[o]:n.defaultValue;const d=[],l=[];if(!a&&"workspaceValue"===o||void 0===n.workspaceValue||d.push("workspace:"),!a&&"userRemoteValue"===o||void 0===n.userRemoteValue||d.push("remote:"),!a&&"userLocalValue"===o||void 0===n.userLocalValue||d.push("user:"),n.overrideIdentifiers)for(const e of n.overrideIdentifiers){const t=r.get(e);t&&(this.languageService.isRegisteredLanguageId(e)&&(a!==e&&void 0!==t.default?.override&&l.push(e),a===e&&"workspaceValue"===o||void 0===t.workspace?.override||d.push(`workspace:${e}`),a===e&&"userRemoteValue"===o||void 0===t.userRemote?.override||d.push(`remote:${e}`),a===e&&"userLocalValue"===o||void 0===t.userLocal?.override||d.push(`user:${e}`)),this.languageOverrideValues.set(e,t))}if(this.overriddenScopeList=d,this.overriddenDefaultsLanguageList=l,this.defaultValueSource=this.setting.nonLanguageSpecificDefaultValueSource,n.policyValue)this.hasPolicyValue=!0,i=!1,c=n.policyValue,this.scopeValue=n.policyValue,this.defaultValue=n.defaultValue;else if(a&&this.languageOverrideValues.has(a)){const e=this.languageOverrideValues.get(a);c=(i?e[o]:e.defaultValue)??c,this.scopeValue=i&&e[o],this.defaultValue=e.defaultValue??n.defaultValue;const t=x.B.as(v.IP.Configuration).getConfigurationDefaultsOverrides(),s=t.get(`[${a}]`)?.valuesSources?.get(this.setting.key);s&&(this.defaultValueSource=s)}else this.scopeValue=i&&n[o],this.defaultValue=n.defaultValue;if(this.value=c,this.isConfigured=i,(i||this.setting.tags||this.tags||this.setting.restricted||this.hasPolicyValue)&&(this.tags=new Set,i&&this.tags.add(Me.Vk),this.setting.tags?.forEach((e=>this.tags.add(e))),this.setting.restricted&&this.tags.add(Me.gl),this.hasPolicyValue&&this.tags.add(Me.e_)),this.setting.description.length>Dn.MAX_DESC_LINES){const e=this.setting.description.slice(0,Dn.MAX_DESC_LINES);e.push("[...]"),this.description=e.join("\n")}else this.description=this.setting.description.join("\n");var g;!function(e,t){return!!t.extensionRecommendations&&!!e.displayExtensionId}(this.setting,this.productService)?!this.setting.enum||this.setting.type&&!function(e){const t=["string","boolean","null","integer","number"];return(Array.isArray(e)?e:[e]).every((e=>t.includes(e)))}(this.setting.type)?"string"===this.setting.type?this.setting.editPresentation===v.t7.Multiline?this.valueType=s.Mm.MultilineString:this.valueType=s.Mm.String:"files.exclude"===(g=this.setting).key||"search.exclude"===g.key||"workbench.localHistory.exclude"===g.key||"explorer.autoRevealExclude"===g.key||"files.readonlyExclude"===g.key||"files.watcherExclude"===g.key?this.valueType=s.Mm.Exclude:function(e){return"files.readonlyInclude"===e.key}(this.setting)?this.valueType=s.Mm.Include:"integer"===this.setting.type?this.valueType=s.Mm.Integer:"number"===this.setting.type?this.valueType=s.Mm.Number:"boolean"===this.setting.type?this.valueType=s.Mm.Boolean:"array"===this.setting.type&&this.setting.arrayItemType&&["string","enum","number","integer"].includes(this.setting.arrayItemType)?this.valueType=s.Mm.Array:Array.isArray(this.setting.type)&&this.setting.type.includes(s.Mm.Null)&&2===this.setting.type.length?this.setting.type.includes(s.Mm.Integer)?this.valueType=s.Mm.NullableInteger:this.setting.type.includes(s.Mm.Number)?this.valueType=s.Mm.NullableNumber:this.valueType=s.Mm.Complex:function({type:e,objectProperties:t,objectPatternProperties:i,objectAdditionalProperties:n}){if("object"!==e)return!1;if((0,U.Jp)(t)&&(0,U.Jp)(i)&&(0,U.Jp)(n))return!1;if((!0===n||void 0===n)&&!Object.keys(i??{}).includes(".*"))return!1;const s=[...Object.values(t??{}),...Object.values(i??{})];return n&&"object"==typeof n&&s.push(n),A.xH(s.map((e=>Array.isArray(e.anyOf)?e.anyOf:[e]))).every(On)}(this.setting)?this.setting.allKeysAreBoolean?this.valueType=s.Mm.BooleanObject:this.valueType=s.Mm.Object:this.setting.isLanguageTagSetting?this.valueType=s.Mm.LanguageTag:this.valueType=s.Mm.Complex:this.valueType=s.Mm.Enum:this.valueType=s.Mm.ExtensionToggle}matchesAllTags(e){if(!e||!e.size)return!0;if(this.tags){let t=!0;return e.forEach((e=>{t=t&&this.tags.has(e)})),t}return!1}matchesScope(e,t){const i=g.ov.isUri(e)?6:e;return!this.setting.scope||(1===i?se.Nr.includes(this.setting.scope):6===i?se.ao.includes(this.setting.scope):5===i?se.G.includes(this.setting.scope):4===i?se.ec.includes(this.setting.scope):3!==i||!t||se.eZ.includes(this.setting.scope))}matchesAnyExtension(e){return!e||!e.size||!!this.setting.extensionInfo&&Array.from(e).some((e=>e.toLowerCase()===this.setting.extensionInfo.id.toLowerCase()))}matchesAnyFeature(e){if(!e||!e.size)return!0;const t=on.children.find((e=>"features"===e.id));return Array.from(e).some((e=>{if(t&&t.children){const i=t.children.find((t=>"features/"+e===t.id));if(i){const e=i.settings?.map((e=>{return t=e,t=(0,O.ec)(t).replace(/\\\*/g,".*"),new RegExp(`^${t}$`,"i");var t}));return e&&!this.setting.extensionInfo&&e.some((e=>e.test(this.setting.key.toLowerCase())))}return!1}return!1}))}matchesAnyId(e){return!e||!e.size||e.has(this.setting.key)}matchesAllLanguages(e){return!e||!!this.languageService.isRegisteredLanguageId(e)&&5===this.setting.scope}}let Nn=class{constructor(e,t,i,n,s,o){this._viewState=e,this._isWorkspaceTrusted=t,this._configurationService=i,this._languageService=n,this._userDataProfileService=s,this._productService=o,this._treeElementsBySettingName=new Map}get root(){return this._root}update(e=this._tocRoot){this._treeElementsBySettingName.clear();const t=this.createSettingsTreeGroupElement(e);t.children[0]instanceof Tn&&(t.children[0].isFirstGroup=!0),this._root?(this.disposeChildren(this._root.children),this._root.children=t.children):this._root=t}updateWorkspaceTrust(e){this._isWorkspaceTrusted=e,this.updateRequireTrustedTargetElements()}disposeChildren(e){for(const t of e)this.recursiveDispose(t)}recursiveDispose(e){e instanceof Tn&&this.disposeChildren(e.children),e.dispose()}getElementsByName(e){return(0,U.M2)(this._treeElementsBySettingName.get(e))}updateElementsByName(e){this._treeElementsBySettingName.has(e)&&this.updateSettings(this._treeElementsBySettingName.get(e))}updateRequireTrustedTargetElements(){this.updateSettings([...this._treeElementsBySettingName.values()].flat().filter((e=>e.isUntrusted)))}getTargetToInspect(e){if(!this._userDataProfileService.currentProfile.isDefault){if(1===e.scope)return 1;if(this._configurationService.isSettingAppliedForAllProfiles(e.key)&&3===this._viewState.settingsTarget)return 1}return this._viewState.settingsTarget}updateSettings(e){for(const t of e){const e=this.getTargetToInspect(t.setting),i=Mn(t.setting.key,e,this._viewState.languageFilter,this._configurationService);t.update(i,this._isWorkspaceTrusted)}}createSettingsTreeGroupElement(e,t){const i=t?this.getDepth(t)+1:0,n=new Tn(e.id,void 0,e.label,i,!1);n.parent=t;const s=[];if(e.settings){const t=e.settings.map((e=>this.createSettingsTreeSettingElement(e,n))).filter((e=>!e.setting.deprecationMessage||e.isConfigured));s.push(...t)}if(e.children){const t=e.children.map((e=>this.createSettingsTreeGroupElement(e,n)));s.push(...t)}return n.children=s,n}getDepth(e){return e.parent?1+this.getDepth(e.parent):0}createSettingsTreeSettingElement(e,t){const i=this.getTargetToInspect(e),n=Mn(e.key,i,this._viewState.languageFilter,this._configurationService),s=new Dn(e,t,n,this._isWorkspaceTrusted,this._viewState.settingsTarget,this._languageService,this._productService),o=this._treeElementsBySettingName.get(e.key)||[];return o.push(s),this._treeElementsBySettingName.set(e.key,o),s}};function Mn(e,t,i,n){const s=g.ov.isUri(t)?{resource:t}:void 0,o=n.inspect(e,s),r=1===t?"applicationValue":3===t?"userLocalValue":4===t?"userRemoteValue":5===t?"workspaceValue":"workspaceFolderValue",a=1===t?"application":3===t?"userLocal":4===t?"userRemote":5===t?"workspace":"workspaceFolder";let c=void 0!==o[r];const d=o.overrideIdentifiers,l=new Map;if(i&&(c=!1),d){for(const t of d)l.set(t,n.inspect(e,{overrideIdentifier:t}));if(i&&l.has(i)){const e=l.get(i)[a]?.override;void 0!==e&&(c=!0)}}return{isConfigured:c,inspected:o,targetSelector:r,inspectedLanguageOverrides:l,languageSelector:i}}function Rn(e,t="",i=!1){const n=e.lastIndexOf(".");let s="";return n>=0&&(s=e.substring(0,n),e=e.substring(n+1)),s=function(e,t){const i=i=>{/insiders$/i.test(e)||(t=t.replace(/-?insiders$/i,""));const n=t.split(".").map((t=>t.replace(/-/g,"").toLowerCase()===e.toLowerCase()?t.replace(/-/g,""):t));for(;n.length;){const t=new RegExp(`^${n.join("\\.")}(\\.|$)`,"i");if(t.test(e))return e.replace(t,"");i?n.pop():n.shift()}return null};let n=i(!0);return null===n&&(n=i(!1)),null===n&&(n=e),n}(s,t=t.replace(/\//g,".")),s=An(s),i&&(e="$(bracket) "+(e=e.replace(/[\[\]]/g,""))),{category:s,label:An(e)}}function An(e){e=e.replace(/\.([a-z0-9])/g,((e,t)=>` › ${t.toUpperCase()}`)).replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/^[a-z]/g,(e=>e.toUpperCase())).replace(/\b\w+\b/g,(e=>rn.has(e.toLowerCase())?e.toUpperCase():e));for(const[t,i]of an)e=e.replace(new RegExp(`\\b${t}\\b`,"gi"),i);return e}function On({type:e}){return"string"===e||"boolean"===e||"integer"===e||"number"===e}Nn=(0,o.g)([(0,o.f)(2,se.FG),(0,o.f)(3,m.O),(0,o.f)(4,Le.AP),(0,o.f)(5,Oe.a)],Nn);let Wn=class extends Nn{constructor(e,t,i,n,s,o,r){super(e,t,i,s,o,r),this.environmentService=n,this.rawSearchResults=null,this.cachedUniqueSearchResults=null,this.newExtensionSearchResults=null,this.searchResultCount=null,this.id="searchResultModel",this.update({id:"searchResultModel",label:""})}getUniqueResults(){if(this.cachedUniqueSearchResults)return this.cachedUniqueSearchResults;if(!this.rawSearchResults)return[];const e=new Set,t=this.rawSearchResults[0];t?.filterMatches.forEach((t=>e.add(t.setting.key)));const i=this.rawSearchResults[1];return i&&(i.filterMatches=i.filterMatches.filter((t=>!e.has(t.setting.key)))),i&&(this.newExtensionSearchResults=this.rawSearchResults[2]),this.cachedUniqueSearchResults=[t,i],this.cachedUniqueSearchResults}getRawResults(){return this.rawSearchResults||[]}setResult(e,t){this.cachedUniqueSearchResults=null,this.newExtensionSearchResults=null,this.rawSearchResults=this.rawSearchResults||[],t?(t.exactMatch&&(this.rawSearchResults=[]),this.rawSearchResults[e]=t,this.updateChildren()):delete this.rawSearchResults[e]}updateChildren(){this.update({id:"searchResultModel",label:"searchResultModel",settings:this.getFlatSettings()});const e=!!this.environmentService.remoteAuthority;if(this.root.children=this.root.children.filter((t=>t instanceof Dn&&t.matchesAllTags(this._viewState.tagFilters)&&t.matchesScope(this._viewState.settingsTarget,e)&&t.matchesAnyExtension(this._viewState.extensionFilters)&&t.matchesAnyId(this._viewState.idFilters)&&t.matchesAnyFeature(this._viewState.featureFilters)&&t.matchesAllLanguages(this._viewState.languageFilter))),this.searchResultCount=this.root.children.length,this.newExtensionSearchResults?.filterMatches.length){let e=this.newExtensionSearchResults.filterMatches.map((e=>e.setting)).filter((e=>e.extensionName&&e.extensionPublisher)).map((e=>`${e.extensionPublisher}.${e.extensionName}`));if(e=A.EB(e),e.length){const t=new Ln("newExtensions",e);t.parent=this._root,this._root.children.push(t)}}}getUniqueResultsCount(){return this.searchResultCount??0}getFlatSettings(){const e=[];return A.kX(this.getUniqueResults()).forEach((t=>{e.push(...t.filterMatches.map((e=>e.setting)))})),e}};Wn=(0,o.g)([(0,o.f)(2,se.FG),(0,o.f)(3,Ot.n),(0,o.f)(4,m.O),(0,o.f)(5,Le.AP),(0,o.f)(6,Oe.a)],Wn);const Pn=/(^|\s)@tag:("([^"]*)"|[^"]\S*)/g,Fn=/(^|\s)@ext:("([^"]*)"|[^"]\S*)?/g,Kn=/(^|\s)@feature:("([^"]*)"|[^"]\S*)?/g,Bn=/(^|\s)@id:("([^"]*)"|[^"]\S*)?/g,Vn=/(^|\s)@lang:("([^"]*)"|[^"]\S*)?/g;function Un(e){function t(e,t,i){return e.replace(t,((e,t,n,s)=>{const o=s||n;return o&&i.push(...o.split(",").map((e=>e.trim())).filter((e=>!(0,O.m5)(e)))),""}))}const i=[],n=[],s=[],o=[],r=[];return e=t(e=(e=(e=e.replace(Pn,((e,t,n,s)=>(i.push(s||n),"")))).replace(`@${Me.Vk}`,(()=>(i.push(Me.Vk),"")))).replace(`@${Me.e_}`,(()=>(i.push(Me.e_),""))),Fn,n),e=t(e,Kn,s),e=t(e,Bn,o),e=(e=t(e,Vn,r)).trim(),{tags:i,extensionFilters:n,featureFilters:s,idFilters:o,languageFilter:r.length?r[0]:void 0,query:e}}(0,Ve.Z)(".settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-item-value>.setting-item-control{width:100%}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-key,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-value{margin-left:2px;margin-right:3px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-key,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-value,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-sibling,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-value{overflow-wrap:normal;white-space:normal}.settings-editor>.settings-body .settings-tree-container .setting-item-bool .setting-value-checkbox{background-color:var(--vscode-settings-checkboxBackground)!important;border-color:var(--vscode-settings-checkboxBorder)!important;color:var(--vscode-settings-checkboxForeground)!important}.settings-editor>.settings-body .settings-tree-container .setting-item-bool .setting-list-object-input-key-checkbox{height:24px;margin-left:4px}.settings-editor>.settings-body .settings-tree-container .setting-item-bool .setting-list-object-input-key-checkbox .setting-value-checkbox{margin-top:3px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-item-bool .setting-list-object-value{cursor:pointer;width:100%}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-key{margin-left:4px;width:40%}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-input-key{margin-left:0;min-width:40%}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-input-value,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-value{width:100%}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-row .setting-list-object-value,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-value{box-sizing:border-box;padding-right:40px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-value{width:60%}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-key,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-value,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-sibling,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-value{display:inline-block;line-height:24px;min-height:24px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-include-exclude-widget .setting-list-sibling,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-include-exclude-widget .setting-list-value{font-family:var(--monaco-monospace-font)}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-sibling{font-size:.9em;margin-left:.5em;opacity:.7;white-space:pre}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row .monaco-action-bar{display:none;position:absolute;right:0;top:0}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row{display:flex}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row:hover{background-color:var(--vscode-list-hoverBackground);color:var(--vscode-list-hoverForeground)}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row.selected:focus{background-color:var(--vscode-list-activeSelectionBackground);color:var(--vscode-list-activeSelectionForeground)}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row.selected:not(:focus){background-color:var(--vscode-list-inactiveSelectionBackground);color:var(--vscode-list-inactiveSelectionForeground)}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row.draggable{cursor:pointer;user-select:none}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row.drag-hover{background-color:var(--vscode-list-dropBackground)}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row.drag-hover *{pointer-events:none}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row-header{max-height:24px;position:relative}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row-header{font-weight:700}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-row,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-row-header{display:flex;padding-right:4px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-edit-row.setting-list-object-row:nth-child(odd):hover,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-row:nth-child(odd):not(:hover):not(:focus):not(.selected),.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-row-header{background-color:hsla(0,0%,51%,.04)}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row.selected .monaco-action-bar,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row:hover .monaco-action-bar{display:block}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row .monaco-action-bar .action-label{align-items:center;color:inherit;display:flex;height:20px;justify-content:center;margin-right:2px;padding:2px;width:16px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row .monaco-action-bar .setting-listAction-edit{margin-right:4px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .monaco-text-button{padding:2px 14px;white-space:nowrap;width:auto}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-item-control.setting-list-hide-add-button .setting-list-new-row{display:none}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .monaco-text-button.setting-list-addButton{display:inline-block;margin-right:4px;margin-top:4px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-edit-row,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-row{display:flex}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-input,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-siblingInput,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-valueInput{height:24px;margin-right:4px;max-width:320px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-input,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-valueInput.no-sibling{max-width:unset}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-valueInput.no-sibling{width:100%}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-value-container .setting-list-object-input{margin-right:0}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-ok-button{margin:0 4px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-include-exclude-widget,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-widget{margin-bottom:1px;padding:1px}.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-input select,.settings-editor>.settings-body .settings-tree-container .setting-item.setting-item-list .setting-list-object-widget .setting-list-object-value-container{height:24px;width:100%}.settings-editor>.settings-body .settings-tree-container .setting-list-widget .setting-list-object-list-row.select-container{width:320px}.settings-editor>.settings-body .settings-tree-container .setting-list-widget .setting-list-object-list-row.select-container>select{width:inherit}",{});const Hn=et.$;class jn{get items(){const e=this._dataItems.map(((e,t)=>{const i="number"==typeof this._editKey&&this._editKey===t;return{...e,editing:i,selected:t===this._selectedIdx||i}}));return"create"===this._editKey&&e.push({editing:!0,selected:!0,...this._newDataItem}),e}constructor(e){this._dataItems=[],this._editKey=null,this._selectedIdx=null,this._newDataItem=e}setEditKey(e){this._editKey=e}setValue(e){this._dataItems=e}select(e){this._selectedIdx=e}getSelected(){return this._selectedIdx}selectNext(){"number"==typeof this._selectedIdx?this._selectedIdx=Math.min(this._selectedIdx+1,this._dataItems.length-1):this._selectedIdx=0}selectPrevious(){"number"==typeof this._selectedIdx?this._selectedIdx=Math.max(this._selectedIdx-1,0):this._selectedIdx=0}}let Gn=class extends d.JT{get domNode(){return this.listElement}get items(){return this.model.items}get inReadMode(){return this.model.items.every((e=>!e.editing))}constructor(e,t,i){super(),this.container=e,this.themeService=t,this.contextViewService=i,this.rowElements=[],this._onDidChangeList=this._register(new a.Q5),this.model=new jn(this.getEmptyItem()),this.listDisposables=this._register(new d.SL),this.onDidChangeList=this._onDidChangeList.event,this.listElement=et.R3(e,Hn("div")),this.listElement.setAttribute("role","list"),this.getContainerClasses().forEach((e=>this.listElement.classList.add(e))),et.R3(e,this.renderAddButton()),this.renderList(),this._register(et.nm(this.listElement,et.tw.POINTER_DOWN,(e=>this.onListClick(e)))),this._register(et.nm(this.listElement,et.tw.DBLCLICK,(e=>this.onListDoubleClick(e)))),this._register(et.mu(this.listElement,"keydown",(e=>{if(e.equals(16))this.selectPreviousRow();else{if(!e.equals(18))return;this.selectNextRow()}e.preventDefault(),e.stopPropagation()})))}setValue(e){this.model.setValue(e),this.renderList()}renderHeader(){}isAddButtonVisible(){return!0}renderList(){const e=et.jg(document.activeElement,this.listElement);et.PO(this.listElement),this.listDisposables.clear();const t=this.model.items.some((e=>!(!e.editing||!this.isItemNew(e))));this.container.classList.toggle("setting-list-hide-add-button",!this.isAddButtonVisible()||t),this.model.items.length?this.listElement.tabIndex=0:this.listElement.removeAttribute("tabIndex");const i=this.renderHeader();let n=24*this.model.items.length;i&&(n+=24,this.listElement.appendChild(i)),this.rowElements=this.model.items.map(((t,i)=>this.renderDataOrEditItem(t,i,e))),this.rowElements.forEach((e=>this.listElement.appendChild(e))),this.listElement.style.height=n+"px"}createBasicSelectBox(e){const t=e.options.map((({value:e,description:t})=>({text:e,description:t}))),i=e.options.findIndex((t=>e.data===t.value)),n=(0,Bt.Bn)({selectBackground:ui,selectForeground:pi,selectBorder:mi,selectListBorder:bi});return new pn.j(t,i,this.contextViewService,n,{useCustomDrawn:!(M.gn&&cn.D.pointerEvents)})}editSetting(e){this.model.setEditKey(e),this.renderList()}cancelEdit(){this.model.setEditKey("none"),this.renderList()}handleItemChange(e,t,i){this.model.setEditKey("none"),this._onDidChangeList.fire({originalItem:e,item:t,targetIndex:i}),this.renderList()}renderDataOrEditItem(e,t,i){const n=e.editing?this.renderEdit(e,t):this.renderDataItem(e,t,i);return n.setAttribute("role","listitem"),n}renderDataItem(e,t,i){const n=this.renderItem(e,t),s=n.rowElement;s.setAttribute("data-index",t+""),s.setAttribute("tabindex",e.selected?"0":"-1"),s.classList.toggle("selected",e.selected);const o=new ot.o(s);return this.listDisposables.add(o),o.push(this.getActionsForItem(e,t),{icon:!0,label:!0}),this.addTooltipsToRow(n,e),e.selected&&i&&this.listDisposables.add((0,Ye.Vg)((()=>s.focus()))),this.listDisposables.add(et.nm(s,"click",(e=>{e.stopPropagation()}))),s}renderAddButton(){const e=Hn(".setting-list-new-row"),t=this._register(new Xi.zx(e,Bt.wG));return t.label=this.getLocalizedStrings().addButtonLabel,t.element.classList.add("setting-list-addButton"),this._register(t.onDidClick((()=>{this.model.setEditKey("create"),this.renderList()}))),e}onListClick(e){const t=this.getClickedItemIndex(e);t<0||(e.preventDefault(),e.stopImmediatePropagation(),this.model.getSelected()!==t&&this.selectRow(t))}onListDoubleClick(e){const t=this.getClickedItemIndex(e);t<0||this.model.items[t]&&(this.editSetting(t),e.preventDefault(),e.stopPropagation())}getClickedItemIndex(e){if(!e.target)return-1;if(et.Fx(e.target,"monaco-action-bar"))return-1;const t=et.Fx(e.target,"setting-list-row");if(!t)return-1;const i=t.getAttribute("data-index");return i?parseInt(i):-1}selectRow(e){this.model.select(e),this.rowElements.forEach((e=>e.classList.remove("selected")));const t=this.rowElements[this.model.getSelected()];t.classList.add("selected"),t.focus()}selectNextRow(){this.model.selectNext(),this.selectRow(this.model.getSelected())}selectPreviousRow(){this.model.selectPrevious(),this.selectRow(this.model.getSelected())}};Gn=(0,o.g)([(0,o.f)(1,Ht.XE),(0,o.f)(2,ut.u)],Gn);class $n extends Gn{constructor(){super(...arguments),this.showAddButton=!0}setValue(e,t){this.keyValueSuggester=t?.keySuggester,this.showAddButton=t?.showAddButton??!0,super.setValue(e)}getEmptyItem(){return{value:{type:"string",data:""}}}isAddButtonVisible(){return this.showAddButton}getContainerClasses(){return["setting-list-widget"]}getActionsForItem(e,t){return[{class:St.kS.asClassName(Lt),enabled:!0,id:"workbench.action.editListItem",tooltip:this.getLocalizedStrings().editActionTooltip,run:()=>this.editSetting(t)},{class:St.kS.asClassName(Dt),enabled:!0,id:"workbench.action.removeListItem",tooltip:this.getLocalizedStrings().deleteActionTooltip,run:()=>this._onDidChangeList.fire({originalItem:e,item:void 0,targetIndex:t})}]}getDragImage(e){const t=Hn(".monaco-drag-image");return t.textContent=e.value.data,t}renderItem(e,t){const i=Hn(".setting-list-row"),n=et.R3(i,Hn(".setting-list-value")),s=et.R3(i,Hn(".setting-list-sibling"));return n.textContent=e.value.data.toString(),s.textContent=e.sibling?`when: ${e.sibling}`:null,this.addDragAndDrop(i,e,t),{rowElement:i,keyElement:n,valueElement:s}}addDragAndDrop(e,t,i){this.inReadMode?(e.draggable=!0,e.classList.add("draggable")):(e.draggable=!1,e.classList.remove("draggable")),this.listDisposables.add(et.nm(e,et.tw.DRAG_START,(n=>{if(this.dragDetails={element:e,item:t,itemIndex:i},n.dataTransfer){n.dataTransfer.dropEffect="move";const e=this.getDragImage(t);document.body.appendChild(e),n.dataTransfer.setDragImage(e,-10,-10),setTimeout((()=>document.body.removeChild(e)),0)}}))),this.listDisposables.add(et.nm(e,et.tw.DRAG_OVER,(e=>!!this.dragDetails&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),!0))));let n=0;this.listDisposables.add(et.nm(e,et.tw.DRAG_ENTER,(t=>{n++,e.classList.add("drag-hover")}))),this.listDisposables.add(et.nm(e,et.tw.DRAG_LEAVE,(t=>{n--,n||e.classList.remove("drag-hover")}))),this.listDisposables.add(et.nm(e,et.tw.DROP,(s=>!!this.dragDetails&&(s.preventDefault(),n=0,this.dragDetails.element!==e&&this._onDidChangeList.fire({originalItem:this.dragDetails.item,sourceIndex:this.dragDetails.itemIndex,item:t,targetIndex:i}),!0)))),this.listDisposables.add(et.nm(e,et.tw.DRAG_END,(t=>{n=0,e.classList.remove("drag-hover"),t.dataTransfer?.clearData(),this.dragDetails&&(this.dragDetails=void 0)})))}renderEdit(e,t){const i=Hn(".setting-list-edit-row");let n,s,o;if(this.keyValueSuggester){const i=this.keyValueSuggester(this.model.items.map((({value:{data:e}})=>e)),t);e={...e,value:{type:"enum",data:e.value.data,options:i?i.options:[]}}}switch(e.value.type){case"string":n=this.renderInputBox(e.value,i);break;case"enum":n=this.renderDropdown(e.value,i),o=e.value.options,e.value.options.length&&(s=this.isItemNew(e)?o[0].value:e.value.data)}const r=()=>({value:{type:"string",data:n.value},sibling:c?.value}),a=n=>{n.equals(3)?this.handleItemChange(e,r(),t):n.equals(9)&&(this.cancelEdit(),n.preventDefault()),i?.focus()};if("string"!==e.value.type){const e=n;this.listDisposables.add(e.onDidSelect((({selected:e})=>{s=e})))}else{const e=n;this.listDisposables.add(et.mu(e.inputElement,et.tw.KEY_DOWN,a))}let c;(0,U.Jp)(e.sibling)?n instanceof gn.Wz&&n.element.classList.add("no-sibling"):(c=new gn.Wz(i,this.contextViewService,{placeholder:this.getLocalizedStrings().siblingInputPlaceholder,inputBoxStyles:(0,Bt.tJ)({inputBackground:fi,inputForeground:yi,inputBorder:vi})}),c.element.classList.add("setting-list-siblingInput"),this.listDisposables.add(c),c.value=e.sibling,this.listDisposables.add(et.mu(c.inputElement,et.tw.KEY_DOWN,a)));const d=this._register(new Xi.zx(i,Bt.wG));d.label=(0,f.NC)("okButton","OK"),d.element.classList.add("setting-list-ok-button"),this.listDisposables.add(d.onDidClick((()=>{"string"===e.value.type?this.handleItemChange(e,r(),t):this.handleItemChange(e,{value:{type:"enum",data:s,options:o??[]}},t)})));const l=this._register(new Xi.zx(i,{secondary:!0,...Bt.wG}));return l.label=(0,f.NC)("cancelButton","Cancel"),l.element.classList.add("setting-list-cancel-button"),this.listDisposables.add(l.onDidClick((()=>this.cancelEdit()))),this.listDisposables.add((0,Ye.Vg)((()=>{n.focus(),n instanceof gn.Wz&&n.select()}))),i}isItemNew(e){return""===e.value.data}addTooltipsToRow(e,{value:t,sibling:i}){const n=(0,U.Jp)(i)?(0,f.NC)("listValueHintLabel","List item `{0}`",t.data):(0,f.NC)("listSiblingHintLabel","List item `{0}` with sibling `${1}`",t.data,i),{rowElement:s}=e;s.title=n,s.setAttribute("aria-label",s.title)}getLocalizedStrings(){return{deleteActionTooltip:(0,f.NC)("removeItem","Remove Item"),editActionTooltip:(0,f.NC)("editItem","Edit Item"),addButtonLabel:(0,f.NC)("addItem","Add Item"),inputPlaceholder:(0,f.NC)("itemInputPlaceholder","Item..."),siblingInputPlaceholder:(0,f.NC)("listSiblingInputPlaceholder","Sibling...")}}renderInputBox(e,t){const i=new gn.Wz(t,this.contextViewService,{placeholder:this.getLocalizedStrings().inputPlaceholder,inputBoxStyles:(0,Bt.tJ)({inputBackground:fi,inputForeground:yi,inputBorder:vi})});return i.element.classList.add("setting-list-valueInput"),this.listDisposables.add(i),i.value=e.data.toString(),i}renderDropdown(e,t){if("enum"!==e.type)throw new Error("Valuetype must be enum.");const i=this.createBasicSelectBox(e),n=Hn(".setting-list-object-list-row");return i.render(n),t.appendChild(n),i}}class qn extends $n{getContainerClasses(){return["setting-list-include-exclude-widget"]}addDragAndDrop(e,t,i){}addTooltipsToRow(e,{value:t,sibling:i}){const n=(0,U.Jp)(i)?(0,f.NC)("excludePatternHintLabel","Exclude files matching `{0}`",t.data):(0,f.NC)("excludeSiblingHintLabel","Exclude files matching `{0}`, only when a file matching `{1}` is present",t.data,i),{rowElement:s}=e;s.title=n,s.setAttribute("aria-label",s.title)}getLocalizedStrings(){return{deleteActionTooltip:(0,f.NC)("removeExcludeItem","Remove Exclude Item"),editActionTooltip:(0,f.NC)("editExcludeItem","Edit Exclude Item"),addButtonLabel:(0,f.NC)("addPattern","Add Pattern"),inputPlaceholder:(0,f.NC)("excludePatternInputPlaceholder","Exclude Pattern..."),siblingInputPlaceholder:(0,f.NC)("excludeSiblingInputPlaceholder","When Pattern Is Present...")}}}class zn extends $n{getContainerClasses(){return["setting-list-include-exclude-widget"]}addDragAndDrop(e,t,i){}addTooltipsToRow(e,{value:t,sibling:i}){const n=(0,U.Jp)(i)?(0,f.NC)("includePatternHintLabel","Include files matching `{0}`",t.data):(0,f.NC)("includeSiblingHintLabel","Include files matching `{0}`, only when a file matching `{1}` is present",t.data,i),{rowElement:s}=e;s.title=n,s.setAttribute("aria-label",s.title)}getLocalizedStrings(){return{deleteActionTooltip:(0,f.NC)("removeIncludeItem","Remove Include Item"),editActionTooltip:(0,f.NC)("editIncludeItem","Edit Include Item"),addButtonLabel:(0,f.NC)("addPattern","Add Pattern"),inputPlaceholder:(0,f.NC)("includePatternInputPlaceholder","Include Pattern..."),siblingInputPlaceholder:(0,f.NC)("includeSiblingInputPlaceholder","When Pattern Is Present...")}}}class Jn extends Gn{constructor(){super(...arguments),this.currentSettingKey="",this.showAddButton=!0,this.keySuggester=()=>{},this.valueSuggester=()=>{}}setValue(e,t){this.showAddButton=t?.showAddButton??this.showAddButton,this.keySuggester=t?.keySuggester??this.keySuggester,this.valueSuggester=t?.valueSuggester??this.valueSuggester,(0,U.$K)(t)&&t.settingKey!==this.currentSettingKey&&(this.model.setEditKey("none"),this.model.select(null),this.currentSettingKey=t.settingKey),super.setValue(e)}isItemNew(e){return""===e.key.data&&""===e.value.data}isAddButtonVisible(){return this.showAddButton}getEmptyItem(){return{key:{type:"string",data:""},value:{type:"string",data:""},removable:!0}}getContainerClasses(){return["setting-list-object-widget"]}getActionsForItem(e,t){const i=[{class:St.kS.asClassName(Lt),enabled:!0,id:"workbench.action.editListItem",tooltip:this.getLocalizedStrings().editActionTooltip,run:()=>this.editSetting(t)}];return e.removable?i.push({class:St.kS.asClassName(Dt),enabled:!0,id:"workbench.action.removeListItem",tooltip:this.getLocalizedStrings().deleteActionTooltip,run:()=>this._onDidChangeList.fire({originalItem:e,item:void 0,targetIndex:t})}):i.push({class:St.kS.asClassName(Nt),enabled:!0,id:"workbench.action.resetListItem",tooltip:this.getLocalizedStrings().resetActionTooltip,run:()=>this._onDidChangeList.fire({originalItem:e,item:void 0,targetIndex:t})}),i}renderHeader(){const e=Hn(".setting-list-row-header"),t=et.R3(e,Hn(".setting-list-object-key")),i=et.R3(e,Hn(".setting-list-object-value")),{keyHeaderText:n,valueHeaderText:s}=this.getLocalizedStrings();return t.textContent=n,i.textContent=s,e}renderItem(e,t){const i=Hn(".setting-list-row");i.classList.add("setting-list-object-row");const n=et.R3(i,Hn(".setting-list-object-key")),s=et.R3(i,Hn(".setting-list-object-value"));return n.textContent=e.key.data,s.textContent=e.value.data.toString(),{rowElement:i,keyElement:n,valueElement:s}}renderEdit(e,t){const i=Hn(".setting-list-edit-row.setting-list-object-row"),n={...e},s=t=>{n.key=t,g.enabled=""!==t.data;const i=this.valueSuggester(t.data)??e.value;this.shouldUseSuggestion(e.value,n.value,i)&&(o(i),l())},o=e=>{n.value=e};let r,a,c;if(this.showAddButton){if(this.isItemNew(e)){const e=this.keySuggester(this.model.items.map((({key:{data:e}})=>e)));if((0,U.$K)(e)){n.key=e;const t=this.valueSuggester(n.key.data);o(t??n.value)}}const{widget:i,element:c}=this.renderEditWidget(n.key,{idx:t,isKey:!0,originalItem:e,changedItem:n,update:s});r=i,a=c}else a=Hn(".setting-list-object-key"),a.textContent=e.key.data;const d=Hn(".setting-list-object-value-container"),l=()=>{const{widget:i,element:s}=this.renderEditWidget(n.value,{idx:t,isKey:!1,originalItem:e,changedItem:n,update:o});c=i,et.PO(d),d.append(s)};l(),i.append(a,d);const g=this._register(new Xi.zx(i,Bt.wG));g.enabled=""!==n.key.data,g.label=(0,f.NC)("okButton","OK"),g.element.classList.add("setting-list-ok-button"),this.listDisposables.add(g.onDidClick((()=>this.handleItemChange(e,n,t))));const h=this._register(new Xi.zx(i,{secondary:!0,...Bt.wG}));return h.label=(0,f.NC)("cancelButton","Cancel"),h.element.classList.add("setting-list-cancel-button"),this.listDisposables.add(h.onDidClick((()=>this.cancelEdit()))),this.listDisposables.add((0,Ye.Vg)((()=>{const e=r??c;e.focus(),e instanceof gn.Wz&&e.select()}))),i}renderEditWidget(e,t){switch(e.type){case"string":return this.renderStringEditWidget(e,t);case"enum":return this.renderEnumEditWidget(e,t);case"boolean":return this.renderEnumEditWidget({type:"enum",data:e.data.toString(),options:[{value:"true"},{value:"false"}]},t)}}renderStringEditWidget(e,{idx:t,isKey:i,originalItem:n,changedItem:s,update:o}){const r=Hn(i?".setting-list-object-input-key":".setting-list-object-input-value"),a=new gn.Wz(r,this.contextViewService,{placeholder:i?(0,f.NC)("objectKeyInputPlaceholder","Key"):(0,f.NC)("objectValueInputPlaceholder","Value"),inputBoxStyles:(0,Bt.tJ)({inputBackground:fi,inputForeground:yi,inputBorder:vi})});return a.element.classList.add("setting-list-object-input"),this.listDisposables.add(a),a.value=e.data,this.listDisposables.add(a.onDidChange((t=>o({...e,data:t})))),this.listDisposables.add(et.mu(a.inputElement,et.tw.KEY_DOWN,(e=>{e.equals(3)?this.handleItemChange(n,s,t):e.equals(9)&&(this.cancelEdit(),e.preventDefault())}))),{widget:a,element:r}}renderEnumEditWidget(e,{isKey:t,changedItem:i,update:n}){const s=this.createBasicSelectBox(e),o=t?i.key:i.value;this.listDisposables.add(s.onDidSelect((({selected:e})=>n("boolean"===o.type?{...o,data:"true"===e}:{...o,data:e}))));const r=Hn(".setting-list-object-input");return r.classList.add(t?"setting-list-object-input-key":"setting-list-object-input-value"),s.render(r),-1===e.options.findIndex((t=>e.data===t.value))&&e.options.length?n("boolean"===o.type?{...o,data:!0}:{...o,data:e.options[0].value}):"boolean"===o.type&&n({...o,data:"true"===e.data}),{widget:s,element:r}}shouldUseSuggestion(e,t,i){if("enum"!==i.type&&i.type===t.type&&i.data===t.data)return!1;if(""===e.data)return!0;if(t.type===i.type&&"enum"!==i.type)return!1;if("enum"===t.type&&"enum"===i.type){const e=new Set(t.options.map((({value:e})=>e)));if(i.options.forEach((({value:t})=>e.delete(t))),0===e.size)return!1}return!0}addTooltipsToRow(e,t){const{keyElement:i,valueElement:n,rowElement:s}=e,o=(0,f.NC)("objectPairHintLabel","The property `{0}` is set to `{1}`.",t.key.data,t.value.data),r=this.getEnumDescription(t.key)??t.keyDescription??o;i.title=r;const a=this.getEnumDescription(t.value)??o;n.title=a,s.setAttribute("aria-label",o)}getEnumDescription(e){return"enum"===e.type?e.options.find((({value:t})=>e.data===t))?.description:void 0}getLocalizedStrings(){return{deleteActionTooltip:(0,f.NC)("removeItem","Remove Item"),resetActionTooltip:(0,f.NC)("resetItem","Reset Item"),editActionTooltip:(0,f.NC)("editItem","Edit Item"),addButtonLabel:(0,f.NC)("addItem","Add Item"),keyHeaderText:(0,f.NC)("objectKeyHeader","Item"),valueHeaderText:(0,f.NC)("objectValueHeader","Value")}}}class Qn extends Gn{constructor(){super(...arguments),this.currentSettingKey=""}setValue(e,t){(0,U.$K)(t)&&t.settingKey!==this.currentSettingKey&&(this.model.setEditKey("none"),this.model.select(null),this.currentSettingKey=t.settingKey),super.setValue(e)}isItemNew(e){return!e.key.data&&!e.value.data}getEmptyItem(){return{key:{type:"string",data:""},value:{type:"boolean",data:!1},removable:!1}}getContainerClasses(){return["setting-list-object-widget"]}getActionsForItem(e,t){return[]}isAddButtonVisible(){return!1}renderHeader(){}renderDataOrEditItem(e,t,i){const n=this.renderEdit(e,t);return n.setAttribute("role","listitem"),n}renderItem(e,t){return{rowElement:Hn(".blank-row"),keyElement:Hn(".blank-row-key")}}renderEdit(e,t){const i=Hn(".setting-list-edit-row.setting-list-object-row.setting-item-bool"),n={...e},s=i=>{n.value.data=i,this.handleItemChange(e,n,t)},o=e.keyDescription?`${e.keyDescription} (${e.key.data})`:e.key.data,{element:r,widget:a}=this.renderEditWidget(n.value.data,o,s);i.appendChild(r);const c=et.R3(i,Hn(".setting-list-object-value"));c.textContent=o;const d={rowElement:i,keyElement:c,valueElement:a.domNode};return this.addTooltipsToRow(d,e),this._register(et.nm(c,et.tw.MOUSE_DOWN,(e=>{"a"!==e.target.tagName.toLowerCase()&&(a.checked=!a.checked,s(a.checked)),et.zB.stop(e)}))),i}renderEditWidget(e,t,i){const n=new tt.ZD({icon:wt.lA.check,actionClassName:"setting-value-checkbox",isChecked:e,title:t,...tt.D2});this.listDisposables.add(n);const s=Hn(".setting-list-object-input");return s.classList.add("setting-list-object-input-key-checkbox"),n.domNode.classList.add("setting-value-checkbox"),s.appendChild(n.domNode),this._register(et.nm(s,et.tw.MOUSE_DOWN,(e=>{n.checked=!n.checked,i(n.checked),e.stopImmediatePropagation()}))),{widget:n,element:s}}addTooltipsToRow(e,t){const i=(0,f.NC)("objectPairHintLabel","The property `{0}` is set to `{1}`.",t.key.data,t.value.data),n=t.keyDescription??i,{rowElement:s,keyElement:o,valueElement:r}=e;o.title=n,r.setAttribute("aria-label",i),s.setAttribute("aria-label",i)}getLocalizedStrings(){return{deleteActionTooltip:(0,f.NC)("removeItem","Remove Item"),resetActionTooltip:(0,f.NC)("resetItem","Reset Item"),editActionTooltip:(0,f.NC)("editItem","Edit Item"),addButtonLabel:(0,f.NC)("addItem","Add Item"),keyHeaderText:(0,f.NC)("objectKeyHeader","Item"),valueHeaderText:(0,f.NC)("objectValueHeader","Value")}}}const Xn=et.$;function Zn(e,t){const i=new Set(e);return t.forEach((({key:e})=>i.delete(e.data))),0===i.size}function Yn(e){if(e.anyOf)return e.anyOf.map(Yn).flat();const t=e.enumDescriptions??[];return(e.enum??[]).map(((e,i)=>({value:e,description:i<t.length?t[i]:void 0})))}function es(e){return e.anyOf?e.anyOf.map(es).some((e=>"enum"===e))?"enum":"string":"boolean"===e.type?"boolean":"string"===e.type&&(0,U.$K)(e.enum)&&e.enum.length>0?"enum":"string"}function ts(e){const t="object"==typeof e.defaultValue?e.defaultValue??{}:{},i="object"==typeof e.scopeValue?e.scopeValue??{}:{},n=e.isConfigured?{...t,...i}:t,{objectProperties:s,objectPatternProperties:o,objectAdditionalProperties:r}=e.setting,a=Object.entries(o??{}).map((([e,t])=>({pattern:new RegExp(e),schema:t}))),c=Object.entries(s??{}).map((([e,t])=>({value:e,description:t.description})));return Object.keys(n).map((i=>{const o=t[i];if((0,U.$K)(s)&&i in s){if(e.setting.allKeysAreBoolean)return{key:{type:"string",data:i},value:{type:"boolean",data:n[i]},keyDescription:s[i].description,removable:!1};const t=Yn(s[i]);return{key:{type:"enum",data:i,options:c},value:{type:es(s[i]),data:n[i],options:t},keyDescription:s[i].description,removable:(0,U.Jp)(o)}}const d=!o,l=a.find((({pattern:e})=>e.test(i)))?.schema;if(l){const e=Yn(l);return{key:{type:"string",data:i},value:{type:es(l),data:n[i],options:e},keyDescription:l.description,removable:d}}const g=Yn("boolean"==typeof r?{}:r??{});return{key:{type:"string",data:i},value:{type:"object"==typeof r?es(r):"string",data:n[i],options:g},keyDescription:"object"==typeof r?r.description:void 0,removable:d}})).filter((e=>!(0,U.Jp)(e.value.data)))}function is(e){const{objectProperties:t}=e.setting,i=Object.keys(t??{});return e=>{const n=new Set(e),s=[];return i.forEach((e=>{n.has(e)||s.push({value:e,description:t[e].description})})),s.length>0?{type:"enum",data:s[0].value,options:s}:void 0}}function ns(e){const{objectProperties:t,objectPatternProperties:i,objectAdditionalProperties:n}=e.setting,s=Object.entries(i??{}).map((([e,t])=>({pattern:new RegExp(e),schema:t})));return e=>{let i;(0,U.$K)(t)&&e in t&&(i=t[e]);const o=i??s.find((({pattern:t})=>t.test(e)))?.schema;if((0,U.$K)(o)?i=o:(0,U.$K)(n)&&"object"==typeof n&&(i=n),(0,U.$K)(i)){const e=es(i);if("boolean"===e)return{type:e,data:i.default??!0};if("enum"===e){const t=Yn(i);return{type:e,data:i.default??t[0].value,options:t}}return{type:e,data:i.default??""}}}}function ss(e){return"number"===e||"integer"===e}function os(e,t){return!e.setting.enum||!e.setting.uniqueItems||e.setting.enum.length-t.length>0}function rs(e,t,i){const n=hs(t);return{tree:ds(e,n,i),leftoverSettings:n}}function as(e,t){return(e??Number.MAX_SAFE_INTEGER)-(t??Number.MAX_SAFE_INTEGER)}async function cs(e,t){const i=new Map,n=t.map((t=>(async t=>{const n=t.sections.map((e=>e.settings)).flat(),s=t.extensionInfo.id,o=await e.getExtension(s);((e,t,n)=>{if(!i.has(e)){const n={id:e,label:t,children:[]};i.set(e,n)}i.get(e).children.push(n)})(s,o?.displayName??o?.name??s,{id:t.id||t.title,label:t.title,order:t.order,settings:n})})(t)));return Promise.all(n).then((()=>{const e=[];for(const t of i.values()){for(const e of t.children)e.settings?.sort(((e,t)=>as(e.order,t.order)));if(1===t.children.length)e.push({id:t.id,label:t.children[0].label,settings:t.children[0].settings});else{t.children.sort(((e,t)=>as(e.order,t.order)));const i=t.children.find((e=>e.label===t.label));if(i&&!i.children){const n=t.children.filter((e=>e!==i));e.push({id:t.id,label:t.label,settings:i.settings,children:n})}else e.push(t)}}return e.sort(((e,t)=>e.label.localeCompare(t.label))),{id:"extensions",label:(0,f.NC)("extensions","Extensions"),children:e}}))}function ds(e,t,i){let n,s;if(e.children&&(n=e.children.map((e=>ds(e,t,i))).filter((e=>e.children?.length||e.settings?.length))),e.settings&&(s=e.settings.map((e=>function(e,t,i){const n=[];return e.forEach((i=>{(function(e,t){let i=gs.get(t);return i||(i=function(e){return e=(0,O.ec)(e).replace(/\\\*/g,".*"),new RegExp(`^${e}$`,"i")}(t),gs.set(t,i)),i.test(e.key)})(i,t)&&(n.push(i),e.delete(i))})),n.length||ls.some((e=>e.test(t)))||i.warn(`Settings pattern "${t}" doesn't match any settings`),n.sort(((e,t)=>e.key.localeCompare(t.key)))}(t,e,i))).flat()),!n&&!s)throw new Error(`TOC node has no child groups or settings: ${e.id}`);return{id:e.id,label:e.label,children:n,settings:s}}const ls=[/^settingsSync\..*/,/^sync\..*/,/^workbench.fontAliasing$/],gs=new Map;function hs(e){const t=new Set;for(const i of e)for(const e of i.sections)for(const i of e.settings)i.overrides&&i.overrides.length||t.add(i);return t}const us="settings.text.template",ps="settings.multilineText.template",ms="settings.number.template",bs="settings.enum.template",fs="settings.bool.template",ys="settings.array.template",vs="settings.exclude.template",Ss="settings.include.template",ws="settings.object.template",Cs="settings.boolObject.template",ks="settings.complex.template",xs="settings.newExtensions.template",Es="settings.group.template",Is="settings.extensionToggle.template";function _s(e){e.querySelectorAll('\n\t\t[tabindex="0"],\n\t\tinput:not([tabindex="-1"]),\n\t\tselect:not([tabindex="-1"]),\n\t\ttextarea:not([tabindex="-1"]),\n\t\ta:not([tabindex="-1"]),\n\t\tbutton:not([tabindex="-1"]),\n\t\tarea:not([tabindex="-1"])\n\t').forEach((e=>{e.setAttribute(Ls.ELEMENT_FOCUSABLE_ATTR,"true"),e.setAttribute("tabindex","-1")}))}function Ts(e){e.querySelectorAll(`[${Ls.ELEMENT_FOCUSABLE_ATTR}="true"]`).forEach((e=>{e.removeAttribute(Ls.ELEMENT_FOCUSABLE_ATTR),e.setAttribute("tabindex","0")}))}let Ls=class e extends d.JT{static{this.CONTROL_CLASS="setting-control-focus-target"}static{this.CONTROL_SELECTOR="."+e.CONTROL_CLASS}static{this.CONTENTS_CLASS="setting-item-contents"}static{this.CONTENTS_SELECTOR="."+e.CONTENTS_CLASS}static{this.ALL_ROWS_SELECTOR=".monaco-list-row"}static{this.SETTING_KEY_ATTR="data-key"}static{this.SETTING_ID_ATTR="data-id"}static{this.ELEMENT_FOCUSABLE_ATTR="data-focusable"}constructor(e,t,i,n,s,o,r,c,d,l,g,h,u,p){super(),this.settingActions=e,this.disposableActionFactory=t,this._themeService=i,this._contextViewService=n,this._openerService=s,this._instantiationService=o,this._commandService=r,this._contextMenuService=c,this._keybindingService=d,this._configService=l,this._extensionsService=g,this._extensionsWorkbenchService=h,this._productService=u,this._telemetryService=p,this._onDidClickOverrideElement=this._register(new a.Q5),this.onDidClickOverrideElement=this._onDidClickOverrideElement.event,this._onDidChangeSetting=this._register(new a.Q5),this.onDidChangeSetting=this._onDidChangeSetting.event,this._onDidOpenSettings=this._register(new a.Q5),this.onDidOpenSettings=this._onDidOpenSettings.event,this._onDidClickSettingLink=this._register(new a.Q5),this.onDidClickSettingLink=this._onDidClickSettingLink.event,this._onDidFocusSetting=this._register(new a.Q5),this.onDidFocusSetting=this._onDidFocusSetting.event,this._onDidChangeIgnoredSettings=this._register(new a.Q5),this.onDidChangeIgnoredSettings=this._onDidChangeIgnoredSettings.event,this._onDidChangeSettingHeight=this._register(new a.Q5),this.onDidChangeSettingHeight=this._onDidChangeSettingHeight.event,this._onApplyFilter=this._register(new a.Q5),this.onApplyFilter=this._onApplyFilter.event,this.markdownRenderer=this._register(o.createInstance(fn.$,{})),this.ignoredSettings=vn((0,nn.Xt)(),this._configService),this._register(this._configService.onDidChangeConfiguration((e=>{this.ignoredSettings=vn((0,nn.Xt)(),this._configService),this._onDidChangeIgnoredSettings.fire()})))}renderCommonTemplate(t,i,n){i.classList.add("setting-item"),i.classList.add("setting-item-"+n);const s=new d.SL,o=et.R3(i,Xn(e.CONTENTS_SELECTOR));o.classList.add("settings-row-inner-container");const r=et.R3(o,Xn(".setting-item-title")),a=et.R3(r,Xn(".setting-item-cat-label-container")),c=et.R3(a,Xn("span.setting-item-category")),l=et.R3(a,Xn("span.setting-item-label")),g=new ln.C(l),h=this._instantiationService.createInstance(xn,r);s.add(h);const u=et.R3(o,Xn(".setting-item-description"));et.R3(o,Xn(".setting-item-modified-indicator")).title=(0,f.NC)("modified","The setting has been configured in the current scope.");const p=et.R3(o,Xn(".setting-item-value")),m=et.R3(p,Xn("div.setting-item-control")),b=et.R3(o,Xn(".setting-item-deprecation-message")),y=et.R3(o,Xn(".setting-toolbar-container")),v=this.renderSettingToolbar(y),S={toDispose:s,elementDisposables:s.add(new d.SL),containerElement:o,categoryElement:c,labelElement:g,descriptionElement:u,controlElement:m,deprecationWarningElement:b,indicatorsLabel:h,toolbar:v};return s.add(et.nm(m,et.tw.MOUSE_DOWN,(e=>e.stopPropagation()))),s.add(et.nm(r,et.tw.MOUSE_ENTER,(e=>o.classList.add("mouseover")))),s.add(et.nm(r,et.tw.MOUSE_LEAVE,(e=>o.classList.remove("mouseover")))),S}addSettingElementFocusHandler(e){const t=et.go(e.containerElement);e.toDispose.add(t),t.onDidBlur((()=>{e.containerElement.classList.contains("focused")&&e.containerElement.classList.remove("focused")})),t.onDidFocus((()=>{e.containerElement.classList.add("focused"),e.context&&this._onDidFocusSetting.fire(e.context)}))}renderSettingToolbar(e){const t=this._keybindingService.lookupKeybinding(Me.L6);let i=(0,f.NC)("settingsContextMenuTitle","More Actions... ");return t&&(i+=` (${t&&t.getLabel()})`),new qt.u(e,this._contextMenuService,{toggleMenuTitle:i,renderDropdownAsChildElement:!M.gn,moreIcon:xt})}renderSettingElement(t,i,n){const s=t.element;n.context=s,n.toolbar.context=s;const o=this.disposableActionFactory(s.setting,s.settingsTarget);o.forEach((e=>(0,d.Wf)(e)&&n.elementDisposables.add(e))),n.toolbar.setActions([],[...this.settingActions,...o]);const r=s.setting;n.containerElement.classList.toggle("is-configured",s.isConfigured),n.containerElement.setAttribute(e.SETTING_KEY_ATTR,s.setting.key),n.containerElement.setAttribute(e.SETTING_ID_ATTR,s.id);const a=r.key+(s.isConfigured?" - Modified":"");if(n.categoryElement.textContent=s.displayCategory?s.displayCategory+": ":"",n.categoryElement.title=a,n.labelElement.text=s.displayLabel,n.labelElement.title=a,n.descriptionElement.innerText="",s.setting.descriptionIsMarkdown){const e=this.renderSettingMarkdown(s,n.containerElement,s.description,n.elementDisposables);n.descriptionElement.appendChild(e)}else n.descriptionElement.innerText=s.description;n.indicatorsLabel.updateScopeOverrides(s,this._onDidClickOverrideElement,this._onApplyFilter),n.elementDisposables.add(this._configService.onDidChangeConfiguration((e=>{e.affectsConfiguration(se.ek)&&n.indicatorsLabel.updateScopeOverrides(s,this._onDidClickOverrideElement,this._onApplyFilter)})));const c=s.setting.deprecationMessage||"";c&&s.setting.deprecationMessageIsMarkdown?(n.deprecationWarningElement.innerText="",n.deprecationWarningElement.appendChild(this.renderSettingMarkdown(s,n.containerElement,s.setting.deprecationMessage,n.elementDisposables))):n.deprecationWarningElement.innerText=c,n.deprecationWarningElement.prepend(Xn(".codicon.codicon-error")),n.containerElement.classList.toggle("is-deprecated",!!c),this.renderValue(s,n,(e=>this._onDidChangeSetting.fire({key:s.setting.key,value:e,type:n.context.valueType,manualReset:!1,scope:s.setting.scope}))),n.indicatorsLabel.updateWorkspaceTrust(s),n.indicatorsLabel.updateSyncIgnored(s,this.ignoredSettings),n.indicatorsLabel.updateDefaultOverrideIndicator(s),n.elementDisposables.add(this.onDidChangeIgnoredSettings((()=>{n.indicatorsLabel.updateSyncIgnored(s,this.ignoredSettings)}))),this.updateSettingTabbable(s,n),n.elementDisposables.add(s.onDidChangeTabbable((()=>{this.updateSettingTabbable(s,n)})))}updateSettingTabbable(e,t){e.tabbable?Ts(t.containerElement):_s(t.containerElement)}renderSettingMarkdown(e,t,i,n){i=Ys(i);const s=this.markdownRenderer.render({value:i,isTrusted:!0},{actionHandler:{callback:t=>{if(t.startsWith("#")){const i={source:e,targetKey:t.substring(1)};this._onDidClickSettingLink.fire(i)}else this._openerService.open(t,{allowCommands:!0}).catch(r.dL)},disposables:n},asyncRenderCallback:()=>{const i=t.clientHeight;i&&this._onDidChangeSettingHeight.fire({element:e,height:i})}});return n.add(s),s.element.classList.add("setting-item-markdown"),Zs(s.element),s.element}disposeTemplate(e){e.toDispose.dispose()}disposeElement(e,t,i,n){i.elementDisposables?.clear()}};Ls=(0,o.g)([(0,o.f)(2,Ht.XE),(0,o.f)(3,ut.u),(0,o.f)(4,yn.v4),(0,o.f)(5,S.TG),(0,o.f)(6,je.H),(0,o.f)(7,ut.i),(0,o.f)(8,w.d),(0,o.f)(9,y.Ui),(0,o.f)(10,H.QS),(0,o.f)(11,zt.Wi),(0,o.f)(12,Oe.a),(0,o.f)(13,at.bU)],Ls);class Ds{constructor(){this.templateId=Es}renderTemplate(e){return e.classList.add("group-title"),{parent:e,toDispose:new d.SL}}renderElement(e,t,i){i.parent.innerText="";const n=et.R3(i.parent,Xn("div.settings-group-title-label.settings-row-inner-container"));n.classList.add(`settings-group-level-${e.element.level}`),n.textContent=e.element.label,e.element.isFirstGroup&&n.classList.add("settings-group-first")}disposeTemplate(e){}}let Ns=class{constructor(e){this._commandService=e,this.templateId=xs}renderTemplate(e){const t=new d.SL;e.classList.add("setting-item-new-extensions");const i=new Xi.zx(e,{title:!0,...Bt.wG});t.add(i),t.add(i.onDidClick((()=>{n.context&&this._commandService.executeCommand("workbench.extensions.action.showExtensionsWithIds",n.context.extensionIds)}))),i.label=(0,f.NC)("newExtensionsButtonLabel","Show matching extensions"),i.element.classList.add("settings-new-extensions-button");const n={button:i,toDispose:t};return n}renderElement(e,t,i){i.context=e.element}disposeTemplate(e){(0,d.B9)(e.toDispose)}};Ns=(0,o.g)([(0,o.f)(0,je.H)],Ns);class Ms extends Ls{constructor(){super(...arguments),this.templateId=ks}static{this.EDIT_IN_JSON_LABEL=(0,f.NC)("editInSettingsJson","Edit in settings.json")}renderTemplate(e){const t=this.renderCommonTemplate(null,e,"complex"),i=et.R3(t.controlElement,Xn("a.edit-in-settings-button"));i.classList.add(Ls.CONTROL_CLASS),i.role="button";const n=Xn(".setting-item-validation-message");t.containerElement.appendChild(n);const s={...t,button:i,validationErrorMessageElement:n};return this.addSettingElementFocusHandler(s),s}renderElement(e,t,i){super.renderSettingElement(e,t,i)}renderValue(e,t,i){const n=(0,y.UI)(e.setting.key),s=(0,f.NC)("editLanguageSettingLabel","Edit settings for {0}",n),o=e.setting.isLanguageTagSetting;t.button.textContent=o?s:Ms.EDIT_IN_JSON_LABEL;const r=t=>{o?this._onApplyFilter.fire(`@${Me.tO}${n}`):this._onDidOpenSettings.fire(e.setting.key),t.preventDefault(),t.stopPropagation()};t.elementDisposables.add(et.nm(t.button,et.tw.CLICK,(e=>{r(e)}))),t.elementDisposables.add(et.nm(t.button,et.tw.KEY_DOWN,(e=>{const t=new gt.y1(e);(t.equals(10)||t.equals(3))&&r(e)}))),this.renderValidations(e,t),o?t.button.setAttribute("aria-label",s):t.button.setAttribute("aria-label",`${Ms.EDIT_IN_JSON_LABEL}: ${e.setting.key}`)}renderValidations(e,t){const i=e.isConfigured&&de(e.value,e.setting.type);if(i)return t.containerElement.classList.add("invalid-input"),void(t.validationErrorMessageElement.innerText=i);t.containerElement.classList.remove("invalid-input")}}class Rs extends Ls{constructor(){super(...arguments),this.templateId=ys}renderTemplate(e){const t=this.renderCommonTemplate(null,e,"list"),i=t.containerElement.querySelector(".setting-item-description"),n=Xn(".setting-item-validation-message");i.after(n);const s=this._instantiationService.createInstance($n,t.controlElement);s.domNode.classList.add(Ls.CONTROL_CLASS),t.toDispose.add(s);const o={...t,listWidget:s,validationErrorMessageElement:n};return this.addSettingElementFocusHandler(o),t.toDispose.add(s.onDidChangeList((e=>{const t=this.computeNewList(o,e);o.onChange?.(t)}))),o}computeNewList(e,t){if(e.context){let i=[];if(Array.isArray(e.context.scopeValue)?i=[...e.context.scopeValue]:Array.isArray(e.context.value)&&(i=[...e.context.value]),void 0!==t.sourceIndex){const e=t.sourceIndex,n=t.targetIndex,s=i.splice(e,1)[0];i.splice(n,0,s)}else if(void 0!==t.targetIndex){const e=t.item?.value.data.toString()??"";!t.item?.value.data&&t.originalItem.value.data&&t.targetIndex>-1?i.splice(t.targetIndex,1):t.item?.value.data&&t.originalItem.value.data?t.targetIndex>-1?i[t.targetIndex]=e:i.push(e):t.item?.value.data&&!t.originalItem.value.data&&t.targetIndex>=i.length&&i.push(e)}if(e.context.defaultValue&&Array.isArray(e.context.defaultValue)&&e.context.defaultValue.length===i.length&&e.context.defaultValue.join()===i.join())return;return i}}renderElement(e,t,i){super.renderSettingElement(e,t,i)}renderValue(e,t,i){const n=function(e){if(!e.value||!Array.isArray(e.value))return[];if("enum"===e.setting.arrayItemType){let t=[];return e.setting.enum&&(t=e.setting.enum.map(((t,i)=>({value:t,description:e.setting.enumDescriptions?.[i]})))),e.value.map((e=>({value:{type:"enum",data:e,options:t}})))}return e.value.map((e=>({value:{type:"string",data:e}})))}(e),s=e.setting.enum?(o=e,(e,t)=>{const i=[];return o.setting.enum&&o.setting.enum.forEach(((n,s)=>{if(!o.setting.uniqueItems||void 0!==t&&n===e[t]||!e.includes(n)){const e=o.setting.enumDescriptions?.[s];i.push({value:n,description:e})}})),i.length>0?{type:"enum",data:i[0].value,options:i}:void 0}):void 0;var o;t.listWidget.setValue(n,{showAddButton:os(e,n),keySuggester:s}),t.context=e,t.elementDisposables.add((0,d.OF)((()=>{t.listWidget.cancelEdit()}))),t.onChange=n=>{if(n&&!Xs(e,t,n,!1)){const t=ss(e.setting.arrayItemType)?n.map((e=>+e)):n;i(t)}else i(n)},Xs(e,t,n.map((e=>e.value.data.toString())),!0)}}class As extends Ls{renderTemplateWithWidget(e,t){t.domNode.classList.add(Ls.CONTROL_CLASS),e.toDispose.add(t);const i=e.containerElement.querySelector(".setting-item-description"),n=Xn(".setting-item-validation-message");i.after(n);const s={...e,validationErrorMessageElement:n};return t instanceof Qn?s.objectCheckboxWidget=t:s.objectDropdownWidget=t,this.addSettingElementFocusHandler(s),e.toDispose.add(t.onDidChangeList((e=>{this.onDidChangeObject(s,e)}))),s}onDidChangeObject(e,t){const i=e.objectCheckboxWidget??e.objectDropdownWidget;if(e.context){const n="object"==typeof e.context.defaultValue?e.context.defaultValue??{}:{},s="object"==typeof e.context.scopeValue?e.context.scopeValue??{}:{},o={},r=[];if(i.items.forEach(((e,i)=>{(0,U.$K)(t.item)&&t.targetIndex===i?(o[t.item.key.data]=t.item.value.data,r.push(t.item)):((0,U.Jp)(t.item)||t.item.key.data!==e.key.data)&&(o[e.key.data]=e.value.data,r.push(e))})),(0,U.Jp)(t.item)){delete o[t.originalItem.key.data];const e=r.findIndex((e=>e.key.data===t.originalItem.key.data)),i=n[t.originalItem.key.data];(0,U.Jp)(n[t.originalItem.key.data])&&e>-1?r.splice(e,1):e>-1&&(r[e].value.data=i)}else i.isItemNew(t.originalItem)&&""!==t.item.key.data&&(o[t.item.key.data]=t.item.value.data,r.push(t.item));Object.entries(o).forEach((([e,t])=>{s[e]!==t&&n[e]===t&&delete o[e]}));const a=0===Object.keys(o).length?void 0:o;e.objectCheckboxWidget?e.objectCheckboxWidget.setValue(r):e.objectDropdownWidget.setValue(r),e.onChange?.(a)}}renderElement(e,t,i){super.renderSettingElement(e,t,i)}}class Os extends As{constructor(){super(...arguments),this.templateId=ws}renderTemplate(e){const t=this.renderCommonTemplate(null,e,"list"),i=this._instantiationService.createInstance(Jn,t.controlElement);return this.renderTemplateWithWidget(t,i)}renderValue(e,t,i){const n=ts(e),{key:s,objectProperties:o,objectPatternProperties:r,objectAdditionalProperties:a}=e.setting;t.objectDropdownWidget.setValue(n,{settingKey:s,showAddButton:!1!==a||!Zn(Object.keys(o??{}),n)||(0,U.$K)(r),keySuggester:is(e),valueSuggester:ns(e)}),t.context=e,t.elementDisposables.add((0,d.OF)((()=>{t.objectDropdownWidget.cancelEdit()}))),t.onChange=n=>{if(n&&!Xs(e,t,n,!1)){const t=function(e,t){const i={};for(const n in t){let s;const o=e.setting.objectPatternProperties,r=e.setting.objectProperties,a=e.setting.objectAdditionalProperties;if(r)for(const e in r)if(e===n){s=ss(r[e].type);break}if(void 0===s&&o)for(const e in o)if(n.match(e)){s=ss(o[e].type);break}void 0===s&&a&&"boolean"!=typeof a&&ss(a.type)&&(s=!0),i[n]=s?Number(t[n]):t[n]}return i}(e,n);i(t)}else i(n)},Xs(e,t,e.value,!0)}}class Ws extends As{constructor(){super(...arguments),this.templateId=Cs}renderTemplate(e){const t=this.renderCommonTemplate(null,e,"list"),i=this._instantiationService.createInstance(Qn,t.controlElement);return this.renderTemplateWithWidget(t,i)}onDidChangeObject(e,t){e.context&&(super.onDidChangeObject(e,t),this._onDidFocusSetting.fire(e.context))}renderValue(e,t,i){const n=ts(e),{key:s}=e.setting;t.objectCheckboxWidget.setValue(n,{settingKey:s}),t.context=e,t.onChange=e=>{i(e)}}}class Ps extends Ls{renderTemplate(e){const t=this.renderCommonTemplate(null,e,"list"),i=this._instantiationService.createInstance(this.isExclude()?qn:zn,t.controlElement);i.domNode.classList.add(Ls.CONTROL_CLASS),t.toDispose.add(i);const n={...t,includeExcludeWidget:i};return this.addSettingElementFocusHandler(n),t.toDispose.add(i.onDidChangeList((e=>this.onDidChangeIncludeExclude(n,e)))),n}onDidChangeIncludeExclude(e,t){if(e.context){const i={...e.context.scopeValue};function n(e){const t=Object.keys(e).sort(((e,t)=>e.localeCompare(t))),i={};for(const n of t)i[n]=e[n];return i}t.originalItem.value.data.toString()in e.context.defaultValue?i[t.originalItem.value.data.toString()]=!1:delete i[t.originalItem.value.data.toString()],t.item?.value&&(t.item.value.data.toString()in e.context.defaultValue&&!t.item.sibling?delete i[t.item.value.data.toString()]:i[t.item.value.data.toString()]=!t.item.sibling||{when:t.item.sibling}),this._onDidChangeSetting.fire({key:e.context.setting.key,value:0===Object.keys(i).length?void 0:n(i),type:e.context.valueType,manualReset:!1,scope:e.context.setting.scope})}}renderElement(e,t,i){super.renderSettingElement(e,t,i)}renderValue(e,t,i){const n=function(e){const t=e.isConfigured?{...e.defaultValue,...e.scopeValue}:e.defaultValue;return Object.keys(t).filter((e=>!!t[e])).map((i=>{const n=t[i];return{value:{type:"string",data:i},sibling:"boolean"==typeof n?void 0:n.when,elementType:e.valueType}}))}(e);t.includeExcludeWidget.setValue(n),t.context=e,t.elementDisposables.add((0,d.OF)((()=>{t.includeExcludeWidget.cancelEdit()})))}}class Fs extends Ps{constructor(){super(...arguments),this.templateId=vs}isExclude(){return!0}}class Ks extends Ps{constructor(){super(...arguments),this.templateId=Ss}isExclude(){return!1}}const Bs=(0,Bt.tJ)({inputBackground:fi,inputForeground:yi,inputBorder:vi});class Vs extends Ls{constructor(){super(...arguments),this.MULTILINE_MAX_HEIGHT=150}renderTemplate(e,t){const i=this.renderCommonTemplate(null,e,"text"),n=et.R3(i.containerElement,Xn(".setting-item-validation-message")),s={flexibleHeight:t,flexibleWidth:!1,flexibleMaxHeight:this.MULTILINE_MAX_HEIGHT,inputBoxStyles:Bs},o=new gn.Wz(i.controlElement,this._contextViewService,s);i.toDispose.add(o),i.toDispose.add(o.onDidChange((e=>{r.onChange?.(e)}))),i.toDispose.add(o),o.inputElement.classList.add(Ls.CONTROL_CLASS),o.inputElement.tabIndex=0;const r={...i,inputBox:o,validationErrorMessageElement:n};return this.addSettingElementFocusHandler(r),r}renderElement(e,t,i){super.renderSettingElement(e,t,i)}renderValue(e,t,i){t.onChange=void 0,t.inputBox.value=e.value,t.inputBox.setAriaLabel(e.setting.key),t.onChange=n=>{Qs(e,t,!1)||i(n)},Qs(e,t,!0)}}class Us extends Vs{constructor(){super(...arguments),this.templateId=us}renderTemplate(e){const t=super.renderTemplate(e,!1);return t.toDispose.add(et.mu(t.inputBox.inputElement,et.tw.KEY_DOWN,(e=>{(e.equals(16)||e.equals(18))&&e.preventDefault()}))),t}}class Hs extends Vs{constructor(){super(...arguments),this.templateId=ps}renderTemplate(e){return super.renderTemplate(e,!0)}renderValue(e,t,i){super.renderValue(e,t,(t=>{e.value=t,i(t)})),t.elementDisposables.add(t.inputBox.onDidHeightChange((i=>{t.containerElement.clientHeight&&this._onDidChangeSettingHeight.fire({element:e,height:t.containerElement.clientHeight})}))),t.inputBox.layout()}}class js extends Ls{constructor(){super(...arguments),this.templateId=bs}renderTemplate(e){const t=this.renderCommonTemplate(null,e,"enum"),i=(0,Bt.Bn)({selectBackground:ui,selectForeground:pi,selectBorder:mi,selectListBorder:bi}),n=new pn.j([],0,this._contextViewService,i,{useCustomDrawn:!(M.gn&&cn.D.pointerEvents)});t.toDispose.add(n),n.render(t.controlElement);const s=t.controlElement.querySelector("select");s&&(s.classList.add(Ls.CONTROL_CLASS),s.tabIndex=0),t.toDispose.add(n.onDidSelect((e=>{r.onChange?.(e.index)})));const o=t.containerElement.insertBefore(Xn(".setting-item-enumDescription"),t.descriptionElement.nextSibling),r={...t,selectBox:n,selectElement:s,enumDescriptionElement:o};return this.addSettingElementFocusHandler(r),r}renderElement(e,t,i){super.renderSettingElement(e,t,i)}renderValue(e,t,i){const n=e.setting.enumItemLabels?[...e.setting.enumItemLabels]:[],s=e.setting.enumDescriptions?[...e.setting.enumDescriptions]:[],o=[...e.setting.enum],a=e.setting.enumDescriptionsAreMarkdown,c=new d.SL;t.toDispose.add(c);let l=!1;o.includes(e.defaultValue)||(o.unshift(e.defaultValue),s.unshift(""),n.unshift(""),l=!0);const g=eo(String(e.defaultValue)),h=o.map(String).map(eo).map(((e,t)=>{const i=s[t]&&(a?Ys(s[t],!1):s[t]);return{text:n[t]?n[t]:e,detail:n[t]?e:"",description:i,descriptionIsMarkdown:a,descriptionMarkdownActionHandler:{callback:e=>{this._openerService.open(e).catch(r.dL)},disposables:c},decoratorRight:e===g||l&&0===t?(0,f.NC)("settings.Default","default"):""}}));t.selectBox.setOptions(h),t.selectBox.setAriaLabel(e.setting.key);let u=o.indexOf(e.value);-1===u&&(u=0),t.onChange=void 0,t.selectBox.select(u),t.onChange=t=>{i(l&&0===t?e.defaultValue:o[t])},t.enumDescriptionElement.innerText=""}}const Gs=(0,Bt.tJ)({inputBackground:Si,inputForeground:wi,inputBorder:Ci});class $s extends Ls{constructor(){super(...arguments),this.templateId=ms}renderTemplate(e){const t=super.renderCommonTemplate(null,e,"number"),i=et.R3(t.containerElement,Xn(".setting-item-validation-message")),n=new gn.Wz(t.controlElement,this._contextViewService,{type:"number",inputBoxStyles:Gs});t.toDispose.add(n),t.toDispose.add(n.onDidChange((e=>{s.onChange?.(e)}))),t.toDispose.add(n),n.inputElement.classList.add(Ls.CONTROL_CLASS),n.inputElement.tabIndex=0;const s={...t,inputBox:n,validationErrorMessageElement:i};return this.addSettingElementFocusHandler(s),s}renderElement(e,t,i){super.renderSettingElement(e,t,i)}renderValue(e,t,i){const n="integer"===e.valueType||"nullable-integer"===e.valueType?parseInt:parseFloat,s="nullable-integer"===e.valueType||"nullable-number"===e.valueType?e=>""===e?null:n(e):n;t.onChange=void 0,t.inputBox.value="number"==typeof e.value?e.value.toString():"",t.inputBox.step=e.valueType.includes("integer")?"1":"any",t.inputBox.setAriaLabel(e.setting.key),t.onChange=n=>{Qs(e,t,!1)||i(s(n))},Qs(e,t,!0)}}class qs extends Ls{constructor(){super(...arguments),this.templateId=fs}renderTemplate(e){e.classList.add("setting-item"),e.classList.add("setting-item-bool");const t=et.R3(e,Xn(Ls.CONTENTS_SELECTOR));t.classList.add("settings-row-inner-container");const i=et.R3(t,Xn(".setting-item-title")),n=et.R3(i,Xn("span.setting-item-category")),s=et.R3(i,Xn("span.setting-item-label")),o=new ln.C(s),r=this._instantiationService.createInstance(xn,i),a=et.R3(t,Xn(".setting-item-value-description")),c=et.R3(a,Xn(".setting-item-bool-control")),l=et.R3(a,Xn(".setting-item-description"));et.R3(t,Xn(".setting-item-modified-indicator")).title=(0,f.NC)("modified","The setting has been configured in the current scope.");const g=et.R3(t,Xn(".setting-item-deprecation-message")),h=new d.SL,u=new tt.ZD({icon:wt.lA.check,actionClassName:"setting-value-checkbox",isChecked:!0,title:"",...tt.D2});c.appendChild(u.domNode),h.add(u),h.add(u.onChange((()=>{b.onChange(u.checked)}))),h.add(et.nm(l,et.tw.MOUSE_DOWN,(e=>{"a"!==e.target.tagName.toLowerCase()&&(b.checkbox.checked=!b.checkbox.checked,b.onChange(u.checked)),et.zB.stop(e)}))),u.domNode.classList.add(Ls.CONTROL_CLASS);const p=et.R3(t,Xn(".setting-toolbar-container")),m=this.renderSettingToolbar(p);h.add(m);const b={toDispose:h,elementDisposables:h.add(new d.SL),containerElement:t,categoryElement:n,labelElement:o,controlElement:c,checkbox:u,descriptionElement:l,deprecationWarningElement:g,indicatorsLabel:r,toolbar:m};return this.addSettingElementFocusHandler(b),h.add(et.nm(c,"mousedown",(e=>e.stopPropagation()))),h.add(et.nm(i,et.tw.MOUSE_ENTER,(e=>t.classList.add("mouseover")))),h.add(et.nm(i,et.tw.MOUSE_LEAVE,(e=>t.classList.remove("mouseover")))),b}renderElement(e,t,i){super.renderSettingElement(e,t,i)}renderValue(e,t,i){t.onChange=void 0,t.checkbox.checked=e.value,t.checkbox.setTitle(e.setting.key),t.onChange=i}}class zs extends Ls{constructor(){super(...arguments),this.templateId=Is}renderTemplate(e){const t=super.renderCommonTemplate(null,e,"extension-toggle"),i=new Xi.zx(t.containerElement,{title:!1,...Bt.wG});i.element.classList.add("setting-item-extension-toggle-button"),i.label=(0,f.NC)("showExtension","Show Extension");const n={...t,actionButton:i};return this.addSettingElementFocusHandler(n),n}renderElement(e,t,i){super.renderSettingElement(e,t,i)}renderValue(e,t,i){t.elementDisposables.clear();const n=e.setting.displayExtensionId;t.elementDisposables.add(t.actionButton.onDidClick((async()=>{this._telemetryService.publicLog2("ManageExtensionClick",{extensionId:n}),this._commandService.executeCommand("extension.open",n)})))}}let Js=class{constructor(e,t,i,n,s){this._instantiationService=e,this._contextMenuService=t,this._contextViewService=i,this._userDataProfilesService=n,this._userDataSyncEnablementService=s,this._onDidChangeSetting=new a.Q5,this.settingActions=[new st.aU("settings.resetSetting",(0,f.NC)("resetSettingLabel","Reset Setting"),void 0,void 0,(async e=>{e instanceof Dn&&(e.isUntrusted||this._onDidChangeSetting.fire({key:e.setting.key,value:void 0,type:e.setting.type,manualReset:!0,scope:e.setting.scope}))})),new st.Z0,this._instantiationService.createInstance(ro),this._instantiationService.createInstance(ao)];const o=(e,t)=>this.getActionsForSetting(e,t),r=[this._instantiationService.createInstance(qs,this.settingActions,o),this._instantiationService.createInstance($s,this.settingActions,o),this._instantiationService.createInstance(Rs,this.settingActions,o),this._instantiationService.createInstance(Ms,this.settingActions,o),this._instantiationService.createInstance(Us,this.settingActions,o),this._instantiationService.createInstance(Hs,this.settingActions,o),this._instantiationService.createInstance(Fs,this.settingActions,o),this._instantiationService.createInstance(Ks,this.settingActions,o),this._instantiationService.createInstance(js,this.settingActions,o),this._instantiationService.createInstance(Os,this.settingActions,o),this._instantiationService.createInstance(Ws,this.settingActions,o),this._instantiationService.createInstance(zs,[],(e=>[]))];this.onDidClickOverrideElement=a.ju.any(...r.map((e=>e.onDidClickOverrideElement))),this.onDidChangeSetting=a.ju.any(...r.map((e=>e.onDidChangeSetting)),this._onDidChangeSetting.event),this.onDidOpenSettings=a.ju.any(...r.map((e=>e.onDidOpenSettings))),this.onDidClickSettingLink=a.ju.any(...r.map((e=>e.onDidClickSettingLink))),this.onDidFocusSetting=a.ju.any(...r.map((e=>e.onDidFocusSetting))),this.onDidChangeSettingHeight=a.ju.any(...r.map((e=>e.onDidChangeSettingHeight))),this.onApplyFilter=a.ju.any(...r.map((e=>e.onApplyFilter))),this.allRenderers=[...r,this._instantiationService.createInstance(Ds),this._instantiationService.createInstance(Ns)]}getActionsForSetting(e,t){const i=[];return this._userDataProfilesService.isEnabled()&&1!==e.scope&&3===t&&i.push(this._instantiationService.createInstance(lo,e)),this._userDataSyncEnablementService.isEnabled()&&!e.disallowSyncIgnore&&i.push(this._instantiationService.createInstance(co,e)),i.length&&i.splice(0,0,new st.Z0),i}cancelSuggesters(){this._contextViewService.hideContextView()}showContextMenu(e,t){const i=t.querySelector(".monaco-toolbar");i&&this._contextMenuService.showContextMenu({getActions:()=>this.settingActions,getAnchor:()=>i,getActionsContext:()=>e})}getSettingDOMElementForDOMElement(e){return et.Fx(e,Ls.CONTENTS_CLASS)||null}getDOMElementsForSettingKey(e,t){return e.querySelectorAll(`[${Ls.SETTING_KEY_ATTR}="${t}"]`)}getKeyForDOMElementInSetting(e){const t=this.getSettingDOMElementForDOMElement(e);return t&&t.getAttribute(Ls.SETTING_KEY_ATTR)}getIdForDOMElementInSetting(e){const t=this.getSettingDOMElementForDOMElement(e);return t&&t.getAttribute(Ls.SETTING_ID_ATTR)}};function Qs(e,t,i){if(e.setting.validator){const n=e.setting.validator(t.inputBox.value);if(n){t.containerElement.classList.add("invalid-input"),t.validationErrorMessageElement.innerText=n;const e=(0,f.NC)("validationError","Validation Error.");return t.inputBox.inputElement.parentElement.setAttribute("aria-label",[e,n].join(" ")),i||lt.i7(e+" "+n),!0}t.inputBox.inputElement.parentElement.removeAttribute("aria-label")}return t.containerElement.classList.remove("invalid-input"),!1}function Xs(e,t,i,n){if(t.containerElement.classList.add("invalid-input"),e.setting.validator){const s=e.setting.validator(i);if(s&&""!==s){t.containerElement.classList.add("invalid-input"),t.validationErrorMessageElement.innerText=s;const i=(0,f.NC)("validationError","Validation Error.");return t.containerElement.setAttribute("aria-label",[e.setting.key,i,s].join(" ")),n||lt.i7(i+" "+s),!0}t.containerElement.setAttribute("aria-label",e.setting.key),t.containerElement.classList.remove("invalid-input")}return!1}function Zs(e){for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes.item(t);"img"===(i.tagName&&i.tagName.toLowerCase())?e.removeChild(i):Zs(i)}}function Ys(e,t=!0){return e.replace(/`#([^#\s`]+)#`|'#([^#\s']+)#'/g,((e,i,n)=>{const s=i??n,o=Rn(s),r=`${o.category}: ${o.label}`;return t?`[${r}](#${s} "${s}")`:`"${r}"`}))}function eo(e){return e&&e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}Js=(0,o.g)([(0,o.f)(0,S.TG),(0,o.f)(1,ut.i),(0,o.f)(2,ut.u),(0,o.f)(3,De.lv),(0,o.f)(4,nn.Ud)],Js);let to=class{constructor(e,t){this.viewState=e,this.environmentService=t}filter(e,t){if(this.viewState.filterToCategory&&e instanceof Dn&&!this.settingContainedInGroup(e.setting,this.viewState.filterToCategory))return!1;if(e instanceof Dn&&3!==this.viewState.settingsTarget){const t=!!this.environmentService.remoteAuthority;if(!e.matchesScope(this.viewState.settingsTarget,t))return!1}return e instanceof Tn?"number"==typeof e.count?e.count>0:2:!(e instanceof Ln&&(this.viewState.tagFilters?.size||this.viewState.filterToCategory))}settingContainedInGroup(e,t){return t.children.some((t=>t instanceof Tn?this.settingContainedInGroup(e,t):t instanceof Dn&&t.setting.key===e.key))}};to=(0,o.g)([(0,o.f)(1,Ot.n)],to);class io extends hn.Vj{getTemplateId(e){if(e instanceof Tn)return Es;if(e instanceof Dn)return e.valueType===s.Mm.ExtensionToggle?Is:e.isConfigured&&de(e.value,e.setting.type)?ks:e.valueType===s.Mm.Boolean?fs:e.valueType===s.Mm.Integer||e.valueType===s.Mm.Number||e.valueType===s.Mm.NullableInteger||e.valueType===s.Mm.NullableNumber?ms:e.valueType===s.Mm.MultilineString?ps:e.valueType===s.Mm.String?us:e.valueType===s.Mm.Enum?bs:e.valueType===s.Mm.Array?ys:e.valueType===s.Mm.Exclude?vs:e.valueType===s.Mm.Include?Ss:e.valueType===s.Mm.Object?ws:e.valueType===s.Mm.BooleanObject?Cs:(e.valueType,s.Mm.LanguageTag,ks);if(e instanceof Ln)return xs;throw new Error("unknown element type: "+e)}hasDynamicHeight(e){return!(e instanceof Tn)}estimateHeight(e){return e instanceof Tn?42:e instanceof Dn&&e.valueType===s.Mm.Boolean?78:104}}class no extends bn.F{isCollapsible(e){return!1}setCollapsed(e,t,i){return!1}}class so{constructor(e,t,i){this.configurationService=e,this.languageService=t,this.userDataProfilesService=i}getAriaLabel(e){if(e instanceof Dn){const t=[];if(t.push(`${e.displayCategory} ${e.displayLabel}.`),e.isConfigured){const e=(0,f.NC)("settings.Modified","Modified.");t.push(e)}const i=function(e,t,i,n){const s=[];if(e.isUntrusted&&s.push((0,f.NC)("workspaceUntrustedAriaLabel","Workspace untrusted; setting value not applied")),e.hasPolicyValue)s.push((0,f.NC)("policyDescriptionAccessible","Managed by organization policy; setting value not applied"));else if(i.isEnabled()&&3===e.settingsTarget&&t.isSettingAppliedForAllProfiles(e.setting.key))s.push((0,f.NC)("applicationSettingDescriptionAccessible","Setting value retained when switching profiles"));else{const t=e.isConfigured?(0,f.NC)("alsoConfiguredIn","Also modified in"):(0,f.NC)("configuredIn","Modified in"),i=e.overriddenScopeList.map((e=>function(e,t){const[i,n]=e.split(":"),s="user"===i?(0,f.NC)("user","User"):"workspace"===i?(0,f.NC)("workspace","Workspace"):(0,f.NC)("remote","Remote");return n?(0,f.NC)("modifiedInScopeForLanguageMidSentence","the {0} scope for {1}",s.toLowerCase(),t.getLanguageName(n)):s}(e,n))).join(", ");e.overriddenScopeList.length&&s.push(`${t} ${i}`)}Cn.has(e.setting.key)&&s.push((0,f.NC)("syncIgnoredAriaLabel","Setting ignored during sync"));const o=En(e);void 0!==o&&s.push((0,f.NC)("defaultOverriddenDetailsAriaLabel","{0} overrides the default value",o));const r=e.overriddenDefaultsLanguageList.map((e=>n.getLanguageName(e))).join(", ");if(e.overriddenDefaultsLanguageList.length){const e=(0,f.NC)("defaultOverriddenLanguagesList","Language-specific default values exist for {0}",r);s.push(e)}return s.join(". ")}(e,this.configurationService,this.userDataProfilesService,this.languageService);i.length&&t.push(`${i}.`);const n=(0,dn.DI)({value:Ys(e.description,!1)});return n.length&&t.push(n),t.join(" ")}return e instanceof Tn?e.label:e.id}getWidgetAriaLabel(){return(0,f.NC)("settings","Settings")}}let oo=class extends jt.PF{constructor(e,t,i,n,s,o,r,a,c){super("SettingsTree",e,new io,i,{horizontalScrolling:!1,supportDynamicHeights:!0,identityProvider:{getId:e=>e.id},accessibilityProvider:new so(o,a,c),styleController:t=>new un.wD(et.dS(e),t),filter:r.createInstance(to,t),smoothScrolling:o.getValue("workbench.list.smoothScrolling"),multipleSelectionSupport:!1,findWidgetEnabled:!1,renderIndentGuides:mn.E4.None},r,n,s,o),this.getHTMLElement().classList.add("settings-editor-tree"),this.style((0,Bt.TU)({listBackground:pt.cvW,listActiveSelectionBackground:pt.cvW,listActiveSelectionForeground:pt.dRz,listFocusAndSelectionBackground:pt.cvW,listFocusAndSelectionForeground:pt.dRz,listFocusBackground:pt.cvW,listFocusForeground:pt.dRz,listHoverForeground:pt.dRz,listHoverBackground:pt.cvW,listHoverOutline:pt.cvW,listFocusOutline:pt.cvW,listInactiveSelectionBackground:pt.cvW,listInactiveSelectionForeground:pt.dRz,listInactiveFocusBackground:pt.cvW,listInactiveFocusOutline:pt.cvW,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0})),this.disposables.add(o.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.smoothScrolling")&&this.updateOptions({smoothScrolling:o.getValue("workbench.list.smoothScrolling")})})))}createModel(e,t,i){return new no(e,t,i)}};oo=(0,o.g)([(0,o.f)(3,Ge.i6),(0,o.f)(4,jt.Lw),(0,o.f)(5,se.FG),(0,o.f)(6,S.TG),(0,o.f)(7,m.O),(0,o.f)(8,De.lv)],oo);let ro=class e extends st.aU{static{this.ID="settings.copySettingId"}static{this.LABEL=(0,f.NC)("copySettingIdLabel","Copy Setting ID")}constructor(t){super(e.ID,e.LABEL),this.clipboardService=t}async run(e){return e&&await this.clipboardService.writeText(e.setting.key),Promise.resolve(void 0)}};ro=(0,o.g)([(0,o.f)(0,ct.p)],ro);let ao=class e extends st.aU{static{this.ID="settings.copySettingAsJSON"}static{this.LABEL=(0,f.NC)("copySettingAsJSONLabel","Copy Setting as JSON")}constructor(t){super(e.ID,e.LABEL),this.clipboardService=t}async run(e){if(e){const t=`"${e.setting.key}": ${JSON.stringify(e.value,void 0,"  ")}`;await this.clipboardService.writeText(t)}return Promise.resolve(void 0)}};ao=(0,o.g)([(0,o.f)(0,ct.p)],ao);let co=class e extends st.aU{static{this.ID="settings.stopSyncingSetting"}static{this.LABEL=(0,f.NC)("stopSyncingSetting","Sync This Setting")}constructor(t,i){super(e.ID,e.LABEL),this.setting=t,this.configService=i,this._register(a.ju.filter(i.onDidChangeConfiguration,(e=>e.affectsConfiguration("settingsSync.ignoredSettings")))((()=>this.update()))),this.update()}async update(){const e=vn((0,nn.Xt)(),this.configService);this.checked=!e.includes(this.setting.key)}async run(){let e=[...this.configService.getValue("settingsSync.ignoredSettings")];e=e.filter((e=>e!==this.setting.key&&e!==`-${this.setting.key}`));const t=(0,nn.Xt)().includes(this.setting.key),i=!this.checked;return i&&t&&e.push(`-${this.setting.key}`),i||t||e.push(this.setting.key),this.configService.updateValue("settingsSync.ignoredSettings",e.length?e:void 0,2),Promise.resolve(void 0)}};co=(0,o.g)([(0,o.f)(1,y.Ui)],co);let lo=class e extends st.aU{static{this.ID="settings.applyToAllProfiles"}static{this.LABEL=(0,f.NC)("applyToAllProfiles","Apply Setting to all Profiles")}constructor(t,i){super(e.ID,e.LABEL),this.setting=t,this.configService=i,this._register(a.ju.filter(i.onDidChangeConfiguration,(e=>e.affectsConfiguration(se.ek)))((()=>this.update()))),this.update()}update(){const e=this.configService.getValue(se.ek);this.checked=e.includes(this.setting.key)}async run(){const e=this.configService.getValue(se.ek)??[];this.checked?e.splice(e.indexOf(this.setting.key),1):e.push(this.setting.key);const t=(0,A.EB)(e);this.checked?(await this.configService.updateValue(this.setting.key,this.configService.inspect(this.setting.key).application?.value,3),await this.configService.updateValue(se.ek,t.length?t:void 0,3)):(await this.configService.updateValue(se.ek,t.length?t:void 0,3),await this.configService.updateValue(this.setting.key,this.configService.inspect(this.setting.key).userLocal?.value,3))}};lo=(0,o.g)([(0,o.f)(1,se.FG)],lo);const go=et.$;let ho=class{constructor(e,t){this._viewState=e,this.environmentService=t,this._currentSearchModel=null}get settingsTreeRoot(){return this._settingsTreeRoot}set settingsTreeRoot(e){this._settingsTreeRoot=e,this.update()}get currentSearchModel(){return this._currentSearchModel}set currentSearchModel(e){this._currentSearchModel=e,this.update()}get children(){return this._settingsTreeRoot.children}update(){this._settingsTreeRoot&&this.updateGroupCount(this._settingsTreeRoot)}updateGroupCount(e){e.children.forEach((e=>{e instanceof Tn&&this.updateGroupCount(e)}));const t=e.children.filter((e=>e instanceof Tn)).reduce(((e,t)=>e+t.count),0);e.count=t+this.getGroupCount(e)}getGroupCount(e){return e.children.filter((e=>{if(!(e instanceof Dn))return!1;if(this._currentSearchModel&&!this._currentSearchModel.root.containsSetting(e.setting.key))return!1;const t=!!this.environmentService.remoteAuthority;return e.matchesScope(this._viewState.settingsTarget,t)&&e.matchesAllTags(this._viewState.tagFilters)&&e.matchesAnyFeature(this._viewState.featureFilters)&&e.matchesAnyExtension(this._viewState.extensionFilters)&&e.matchesAnyId(this._viewState.idFilters)})).length}};ho=(0,o.g)([(0,o.f)(1,Ot.n)],ho);const uo="settings.toc.entry";class po{constructor(){this.templateId=uo}renderTemplate(e){return{labelElement:et.R3(e,go(".settings-toc-entry")),countElement:et.R3(e,go(".settings-toc-count"))}}renderElement(e,t,i){const n=e.element,s=n.count,o=n.label;i.labelElement.textContent=o,i.labelElement.title=o,i.countElement.textContent=s?` (${s})`:""}disposeTemplate(e){}}class mo{getTemplateId(e){return uo}getHeight(e){return 22}}function bo(e,t){const i=e.children.filter((e=>e instanceof Tn));return en.$.map(i,(e=>{const t=e.children.some((e=>e instanceof Tn));return{element:e,collapsed:void 0,collapsible:t,children:e instanceof Tn?bo(e):void 0}}))}class fo{getWidgetAriaLabel(){return(0,f.NC)({key:"settingsTOC",comment:["A label for the table of contents for the full settings list"]},"Settings Table of Contents")}getAriaLabel(e){return e&&e instanceof Tn?(0,f.NC)("groupRowAriaLabel","{0}, group",e.label):""}getAriaLevel(e){let t=1;for(;e instanceof Tn&&e.parent;)t++,e=e.parent;return t}}let yo=class extends jt.PF{constructor(e,t,i,n,s,o){const r={filter:o.createInstance(to,t),multipleSelectionSupport:!1,identityProvider:{getId:e=>e.id},styleController:t=>new un.wD(et.dS(e),t),accessibilityProvider:o.createInstance(fo),collapseByDefault:!0,horizontalScrolling:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:mn.E4.None};super("SettingsTOC",e,new mo,[new po],r,o,i,n,s),this.style((0,Bt.TU)({listBackground:pt.cvW,listFocusOutline:pt.R80,listActiveSelectionBackground:pt.cvW,listActiveSelectionForeground:di,listFocusAndSelectionBackground:pt.cvW,listFocusAndSelectionForeground:di,listFocusBackground:pt.cvW,listFocusForeground:li,listHoverForeground:li,listHoverBackground:pt.cvW,listInactiveSelectionBackground:pt.cvW,listInactiveSelectionForeground:di,listInactiveFocusBackground:pt.cvW,listInactiveFocusOutline:pt.cvW,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0}))}};yo=(0,o.g)([(0,o.f)(2,Ge.i6),(0,o.f)(3,jt.Lw),(0,o.f)(4,y.Ui),(0,o.f)(5,S.TG)],yo);var vo=i(38986),So=i(71765),wo=i(89782),Co=i(98324);let ko=class extends Co.C{constructor(e,t,i,n){super(e,{getActions:()=>this.getActions()},n,{actionRunner:t,classNames:e.class,anchorAlignmentProvider:()=>1,menuAsChild:!0}),this.searchWidget=i,this.suggestController=Te.n.get(this.searchWidget.inputWidget)}render(e){super.render(e)}doSearchWidgetAction(e,t){this.searchWidget.setValue(this.searchWidget.getValue().trimEnd()+" "+e),this.searchWidget.focus(),t&&this.suggestController&&this.suggestController.triggerSuggest()}createAction(e,t,i,n,s){return{id:e,label:t,tooltip:i,class:void 0,enabled:!0,checked:!1,run:()=>{this.doSearchWidgetAction(n,s)}}}createToggleAction(e,t,i,n){const s=this.searchWidget.getValue().split(" ").includes(n);return{id:e,label:t,tooltip:i,class:void 0,enabled:!0,checked:s,run:()=>{if(s){const e=this.searchWidget.getValue().split(" ").filter((e=>e!==n)).join(" ");this.searchWidget.setValue(e)}else{const e=this.searchWidget.getValue().trimEnd(),t=e?e+" "+n:n;this.searchWidget.setValue(t)}this.searchWidget.focus()}}}getActions(){return[this.createToggleAction("modifiedSettingsSearch",(0,f.NC)("modifiedSettingsSearch","Modified"),(0,f.NC)("modifiedSettingsSearchTooltip","Add or remove modified settings filter"),`@${Me.Vk}`),this.createAction("extSettingsSearch",(0,f.NC)("extSettingsSearch","Extension ID..."),(0,f.NC)("extSettingsSearchTooltip","Add extension ID filter"),`@${Me.OT}`,!0),this.createAction("featuresSettingsSearch",(0,f.NC)("featureSettingsSearch","Feature..."),(0,f.NC)("featureSettingsSearchTooltip","Add feature filter"),`@${Me.eA}`,!0),this.createAction("tagSettingsSearch",(0,f.NC)("tagSettingsSearch","Tag..."),(0,f.NC)("tagSettingsSearchTooltip","Add tag filter"),`@${Me.gm}`,!0),this.createAction("langSettingsSearch",(0,f.NC)("langSettingsSearch","Language..."),(0,f.NC)("langSettingsSearchTooltip","Add language ID filter"),`@${Me.tO}`,!0),this.createToggleAction("onlineSettingsSearch",(0,f.NC)("onlineSettingsSearch","Online services"),(0,f.NC)("onlineSettingsSearchTooltip","Show settings for online services"),"@tag:usesOnlineServices"),this.createToggleAction("policySettingsSearch",(0,f.NC)("policySettingsSearch","Policy services"),(0,f.NC)("policySettingsSearchTooltip","Show settings for policy services"),`@${Me.e_}`)]}};ko=(0,o.g)([(0,o.f)(3,ut.i)],ko);var xo=i(35459),Eo=i(48814);function Io(e){return en.$.map(e.children,(e=>({element:e,children:e instanceof Tn?Io(e):void 0})))}const _o=et.$,To=(0,f.NC)("SearchSettings.AriaLabel","Search settings");let Lo=class e extends rt.J{static{this.ID="workbench.editor.settings2"}static{this.NUM_INSTANCES=0}static{this.SEARCH_DEBOUNCE=200}static{this.SETTING_UPDATE_FAST_DEBOUNCE=200}static{this.SETTING_UPDATE_SLOW_DEBOUNCE=1e3}static{this.CONFIG_SCHEMA_UPDATE_DELAYER=500}static{this.TOC_MIN_WIDTH=100}static{this.TOC_RESET_WIDTH=200}static{this.EDITOR_MIN_WIDTH=500}static{this.NARROW_TOTAL_WIDTH=e.TOC_RESET_WIDTH+e.EDITOR_MIN_WIDTH}static{this.SUGGESTIONS=[`@${Me.Vk}`,"@tag:notebookLayout","@tag:notebookOutputLayout",`@tag:${Me.gl}`,`@tag:${Me.Uh}`,"@tag:sync","@tag:usesOnlineServices","@tag:telemetry","@tag:accessibility",`@${Me.pg}`,`@${Me.OT}`,`@${Me.eA}scm`,`@${Me.eA}explorer`,`@${Me.eA}search`,`@${Me.eA}debug`,`@${Me.eA}extensions`,`@${Me.eA}terminal`,`@${Me.eA}task`,`@${Me.eA}problems`,`@${Me.eA}output`,`@${Me.eA}comments`,`@${Me.eA}remote`,`@${Me.eA}timeline`,`@${Me.eA}notebook`,`@${Me.e_}`]}static shouldSettingUpdateFast(e){return!Array.isArray(e)&&(e===s.Mm.Enum||e===s.Mm.Array||e===s.Mm.BooleanObject||e===s.Mm.Object||e===s.Mm.Complex||e===s.Mm.Boolean||e===s.Mm.Exclude||e===s.Mm.Include)}constructor(t,i,n,s,o,r,a,c,l,g,h,u,p,m,b,f,y,v,S,w,C){super(e.ID,t,s,g),this.configurationService=i,this.preferencesService=o,this.instantiationService=r,this.preferencesSearchService=a,this.logService=c,this.storageService=g,this.editorGroupService=h,this.userDataSyncWorkbenchService=u,this.userDataSyncEnablementService=p,this.workspaceTrustManagementService=m,this.extensionService=b,this.languageService=f,this.workbenchAssignmentService=v,this.productService=S,this.environmentService=w,this.extensionGalleryService=C,this.searchInProgress=null,this.pendingSettingUpdate=null,this._searchResultModel=null,this.searchResultLabel=null,this.lastSyncedLabel=null,this._currentFocusContext=0,this.hasWarnedMissingSettings=!1,this.tocFocusedElement=null,this.treeFocusedElement=null,this.settingsTreeScrollTop=0,this.installedExtensionIds=[],this.delayedFilterLogging=new Ye.vp(1e3),this.localSearchDelayer=new Ye.vp(300),this.remoteSearchThrottle=new Ye.rH(200),this.viewState={settingsTarget:3},this.settingFastUpdateDelayer=new Ye.vp(e.SETTING_UPDATE_FAST_DEBOUNCE),this.settingSlowUpdateDelayer=new Ye.vp(e.SETTING_UPDATE_SLOW_DEBOUNCE),this.searchInputDelayer=new Ye.vp(e.SEARCH_DEBOUNCE),this.updatedConfigSchemaDelayer=new Ye.vp(e.CONFIG_SCHEMA_UPDATE_DELAYER),this.inSettingsEditorContextKey=Me._n.bindTo(l),this.searchFocusContextKey=Me.hQ.bindTo(l),this.tocRowFocused=Me.yM.bindTo(l),this.settingRowFocused=Me.sC.bindTo(l),this.scheduledRefreshes=new Map,this.editorMemento=this.getEditorMemento(h,n,"settingsEditorState"),this._register(i.onDidChangeConfiguration((e=>{7!==e.source&&this.onConfigUpdate(e.affectedKeys)}))),this._register(m.onDidChangeTrust((()=>{this.searchResultModel?.updateWorkspaceTrust(m.isWorkspaceTrusted()),this.settingsTreeModel&&(this.settingsTreeModel.updateWorkspaceTrust(m.isWorkspaceTrusted()),this.renderTree())}))),this._register(i.onDidChangeRestrictedSettings((e=>{e.default.length&&this.currentSettingsModel&&this.updateElementsByKey(new Set(e.default))}))),this.modelDisposables=this._register(new d.SL),e.SUGGESTIONS.includes(`@${Me.tO}`)||e.SUGGESTIONS.push(`@${Me.tO}`),y.getInstalled().then((e=>{this.installedExtensionIds=e.filter((e=>e.manifest&&e.manifest.contributes&&e.manifest.contributes.configuration)).map((e=>e.identifier.id))}))}get minimumWidth(){return e.EDITOR_MIN_WIDTH}get maximumWidth(){return Number.POSITIVE_INFINITY}get minimumHeight(){return 180}set minimumWidth(e){}set maximumWidth(e){}get currentSettingsModel(){return this.searchResultModel||this.settingsTreeModel}get searchResultModel(){return this._searchResultModel}set searchResultModel(e){this._searchResultModel=e,this.rootElement.classList.toggle("search-mode",!!this._searchResultModel)}get focusedSettingDOMElement(){const e=this.settingsTree.getFocus()[0];if(e instanceof Dn)return this.settingRenderers.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(),e.setting.key)[0]}get currentFocusContext(){return this._currentFocusContext}createEditor(e){e.setAttribute("tabindex","-1"),this.rootElement=et.R3(e,_o(".settings-editor",{tabindex:"-1"})),this.createHeader(this.rootElement),this.createBody(this.rootElement),this.addCtrlAInterceptor(this.rootElement),this.updateStyles()}async setInput(e,t,i,n){if(this.inSettingsEditorContextKey.set(!0),await super.setInput(e,t,i,n),await(0,Ye.Vs)(0),!this.input)return;const o=await this.input.resolve(t);if(!n.isCancellationRequested&&o instanceof me){if(this.modelDisposables.clear(),this.modelDisposables.add(o.onDidChangeGroups((()=>{this.updatedConfigSchemaDelayer.trigger((()=>{this.onConfigUpdate(void 0,!1,!0)}))}))),this.defaultSettingsEditorModel=o,t=t||(0,s.eM)({}),!this.viewState.settingsTarget||!this.settingsTargetsWidget.settingsTarget){const e=t.viewState&&t.viewState.settingsTarget;t.target||e||(t.target=3)}this._setOptions(t),this.onConfigUpdate(void 0,!0).then((()=>{this._register(e.onWillDispose((()=>{this.searchWidget.setValue("")}))),this.updateTreeScrollSync()}))}}restoreCachedState(){const e=this.group&&this.input&&this.editorMemento.loadEditorState(this.group,this.input);if(e&&"object"==typeof e.target&&(e.target=g.ov.revive(e.target)),e){const t=e.target;this.settingsTargetsWidget.settingsTarget=t,this.viewState.settingsTarget=t,this.searchWidget.setValue(e.searchQuery)}return this.input&&this.editorMemento.clearEditorState(this.input,this.group),(0,U.M2)(e)}getViewState(){return this.viewState}setOptions(e){super.setOptions(e),e&&this._setOptions(e)}_setOptions(e){e.focusSearch&&!M.gn&&this.focusSearch();const t=e.viewState?e.viewState:void 0,i=t?.query??e.query;void 0!==i&&(this.searchWidget.setValue(i),this.viewState.query=i);const n=e.folderUri??t?.settingsTarget??e.target;n&&(this.settingsTargetsWidget.settingsTarget=n,this.viewState.settingsTarget=n)}clearInput(){this.inSettingsEditorContextKey.set(!1),super.clearInput()}layout(t){if(this.dimension=t,!this.isVisible())return;this.layoutSplitView(t);const i=Math.min(this.headerContainer.clientWidth,t.width)-48-10-this.countElement.clientWidth-this.controlsElement.clientWidth-12;this.searchWidget.layout(new et.Ro(i,20)),this.rootElement.classList.toggle("narrow-width",t.width<e.NARROW_TOTAL_WIDTH)}focus(){if(0===this._currentFocusContext)M.gn||this.focusSearch();else if(3===this._currentFocusContext){const e=this.focusedSettingDOMElement;if(e){const t=e.querySelector(Ls.CONTROL_SELECTOR);if(t)return void t.focus()}}else 2===this._currentFocusContext?this.settingsTree.domFocus():1===this._currentFocusContext&&this.tocTree.domFocus()}setEditorVisible(e,t){super.setEditorVisible(e,t),e||setTimeout((()=>{this.searchWidget.onHide()}),0)}focusSettings(e=!1){if(this.settingsTree.getFocus().length||this.settingsTree.focusFirst(),this.settingsTree.domFocus(),e){const e=this.settingsTree.getHTMLElement().querySelector(`.focused ${Ls.CONTROL_SELECTOR}`);e&&e.focus()}}focusTOC(){this.tocTree.domFocus()}showContextMenu(){const e=this.settingsTree.getFocus()[0],t=this.focusedSettingDOMElement;t&&e instanceof Dn&&this.settingRenderers.showContextMenu(e,t)}focusSearch(e,t=!0){e&&this.searchWidget&&this.searchWidget.setValue(e),this.searchWidget.focus(t)}clearSearchResults(){this.searchWidget.setValue(""),this.focusSearch()}clearSearchFilters(){const t=this.searchWidget.getValue().split(" ").filter((t=>t.length&&!e.SUGGESTIONS.some((e=>t.startsWith(e)))));this.searchWidget.setValue(t.join(" "))}updateInputAriaLabel(){let e=To;this.searchResultLabel&&(e+=`. ${this.searchResultLabel}`),this.lastSyncedLabel&&(e+=`. ${this.lastSyncedLabel}`),this.searchWidget.updateAriaLabel(e)}createHeader(t){this.headerContainer=et.R3(t,_o(".settings-header"));const i=et.R3(this.headerContainer,_o(".search-container")),n=new st.aU(Me.cV,(0,f.NC)("clearInput","Clear Settings Search Input"),St.kS.asClassName(Mt),!1,(async()=>this.clearSearchResults())),s=new st.aU(Me.qY,(0,f.NC)("filterInput","Filter Settings"),St.kS.asClassName(Rt));this.searchWidget=this._register(this.instantiationService.createInstance(ci,`${e.ID}.searchbox`,i,{triggerCharacters:["@",":"],provideResults:t=>{const i=t.split(/\s/g);return i[i.length-1].startsWith(`@${Me.tO}`)?this.languageService.getRegisteredLanguageIds().map((e=>`@${Me.tO}${e} `)).sort().filter((e=>!t.includes(e))):i[i.length-1].startsWith(`@${Me.OT}`)?this.installedExtensionIds.map((e=>`@${Me.OT}${e} `)).sort().filter((e=>!t.includes(e))):i[i.length-1].startsWith("@")?e.SUGGESTIONS.filter((e=>!t.includes(e))).map((e=>e.endsWith(":")?e:e+" ")):[]}},To,"settingseditor:searchinput"+e.NUM_INSTANCES++,{placeholderText:To,focusContextKey:this.searchFocusContextKey,styleOverrides:{inputBorder:vi}})),this._register(this.searchWidget.onDidFocus((()=>{this._currentFocusContext=0}))),this.countElement=et.R3(i,et.$(".settings-count-widget.monaco-count-badge.long")),this.countElement.style.backgroundColor=(0,pt.n_1)(pt.g8u),this.countElement.style.color=(0,pt.n_1)(pt.qeD),this.countElement.style.border=`1px solid ${(0,pt.n_1)(pt.lRK)}`,this._register(this.searchWidget.onInputDidChange((()=>{const e=this.searchWidget.getValue();n.enabled=!!e,this.searchInputDelayer.trigger((()=>this.onSearchInputChanged()))})));const o=et.R3(this.headerContainer,_o(".settings-header-controls"));o.style.borderColor=(0,pt.n_1)(gi);const r=et.R3(o,_o(".settings-target-container"));if(this.settingsTargetsWidget=this._register(this.instantiationService.createInstance(Pt,r,{enableRemoteSettings:!0})),this.settingsTargetsWidget.settingsTarget=3,this.settingsTargetsWidget.onDidTargetChange((e=>this.onDidSettingsTargetChange(e))),this._register(et.nm(r,et.tw.KEY_DOWN,(e=>{18===new gt.y1(e).keyCode&&this.focusSettings()}))),this.userDataSyncWorkbenchService.enabled&&this.userDataSyncEnablementService.canToggleEnablement()){const e=this._register(this.instantiationService.createInstance(Do,o));this._register(e.onDidChangeLastSyncedLabel((e=>{this.lastSyncedLabel=e,this.updateInputAriaLabel()})))}this.controlsElement=et.R3(i,et.$(".settings-clear-widget")),this._register(new ot.o(this.controlsElement,{animated:!1,actionViewItemProvider:e=>{if(e.id===s.id)return this.instantiationService.createInstance(ko,e,this.actionRunner,this.searchWidget)}})).push([n,s],{label:!1,icon:!0})}onDidSettingsTargetChange(e){this.viewState.settingsTarget=e,this.onConfigUpdate(void 0,!0)}onDidClickSetting(e,t){const i=this.currentSettingsModel.getElementsByName(e.targetKey)?.[0];let n=!1;if(i){let t=.5;try{const i=this.settingsTree.getRelativeTop(e.source);null!==i&&(t=i)}catch{}this.viewState.filterToCategory&&e.source.displayCategory!==i.displayCategory&&this.tocTree.setFocus([]);try{this.settingsTree.reveal(i,t)}catch(e){n=!0}if(!n){setTimeout((()=>{this.settingsTree.setFocus([i])}),50);const t=this.settingRenderers.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(),e.targetKey);if(t&&t[0]){const e=t[0].querySelector(Ls.CONTROL_SELECTOR);e&&e.focus()}}}t||i&&!n||this.triggerSearch("").then((()=>{this.searchWidget.setValue(""),this.onDidClickSetting(e,!0)}))}switchToSettingsFile(){const e=Un(this.searchWidget.getValue()).query;return this.openSettingsFile({query:e})}async openSettingsFile(e){const t=this.settingsTargetsWidget.settingsTarget,i={jsonEditor:!0,...e};if(3===t){if(e?.revealSetting){const t=x.B.as(v.IP.Configuration).getConfigurationProperties(),n=t[e?.revealSetting.key]?.scope;if(1===n)return this.preferencesService.openApplicationSettings(i)}return this.preferencesService.openUserSettings(i)}return 4===t?this.preferencesService.openRemoteSettings(i):5===t?this.preferencesService.openWorkspaceSettings(i):g.ov.isUri(t)?this.preferencesService.openFolderSettings({folderUri:t,...i}):void 0}createBody(t){this.bodyContainer=et.R3(t,_o(".settings-body")),this.noResultsMessage=et.R3(this.bodyContainer,_o(".no-results-message")),this.noResultsMessage.innerText=(0,f.NC)("noResults","No Settings Found"),this.clearFilterLinkContainer=_o("span.clear-search-filters"),this.clearFilterLinkContainer.textContent=" - ";const i=et.R3(this.clearFilterLinkContainer,_o("a.pointer.prominent",{tabindex:0},(0,f.NC)("clearSearchFilters","Clear Filters")));this._register(et.nm(i,et.tw.CLICK,(e=>{et.zB.stop(e,!1),this.clearSearchFilters()}))),et.R3(this.noResultsMessage,this.clearFilterLinkContainer),this.noResultsMessage.style.color=(0,pt.n_1)(pt.NOs),this.tocTreeContainer=_o(".settings-toc-container"),this.settingsTreeContainer=_o(".settings-tree-container"),this.createTOC(this.tocTreeContainer),this.createSettingsTree(this.settingsTreeContainer),this.splitView=new wo.z(this.bodyContainer,{orientation:1,proportionalLayout:!0});const n=this.storageService.getNumber("settingsEditor2.splitViewWidth",0,e.TOC_RESET_WIDTH);this.splitView.addView({onDidChange:a.ju.None,element:this.tocTreeContainer,minimumSize:e.TOC_MIN_WIDTH,maximumSize:Number.POSITIVE_INFINITY,layout:(e,t,i)=>{this.tocTreeContainer.style.width=`${e}px`,this.tocTree.layout(i,e)}},n,void 0,!0),this.splitView.addView({onDidChange:a.ju.None,element:this.settingsTreeContainer,minimumSize:e.EDITOR_MIN_WIDTH,maximumSize:Number.POSITIVE_INFINITY,layout:(e,t,i)=>{this.settingsTreeContainer.style.width=`${e}px`,this.settingsTree.layout(i,e)}},wo.M.Distribute,void 0,!0),this._register(this.splitView.onDidSashReset((()=>{const t=this.splitView.getViewSize(0)+this.splitView.getViewSize(1);this.splitView.resizeView(0,e.TOC_RESET_WIDTH),this.splitView.resizeView(1,t-e.TOC_RESET_WIDTH)}))),this._register(this.splitView.onDidSashChange((()=>{const e=this.splitView.getViewSize(0);this.storageService.store("settingsEditor2.splitViewWidth",e,0,0)})));const s=this.theme.getColor(hi);this.splitView.style({separatorBorder:s})}addCtrlAInterceptor(e){this._register(et.mu(e,et.tw.KEY_DOWN,(e=>{31===e.keyCode&&(M.dz?e.metaKey:e.ctrlKey)&&"TEXTAREA"!==e.target.tagName&&"INPUT"!==e.target.tagName&&(e.browserEvent.stopPropagation(),e.browserEvent.preventDefault())})))}createTOC(e){this.tocTreeModel=this.instantiationService.createInstance(ho,this.viewState),this.tocTree=this._register(this.instantiationService.createInstance(yo,et.R3(e,_o(".settings-toc-wrapper",{role:"navigation","aria-label":(0,f.NC)("settings","Settings")})),this.viewState)),this._register(this.tocTree.onDidFocus((()=>{this._currentFocusContext=1}))),this._register(this.tocTree.onDidChangeFocus((e=>{const t=(0,U.M2)(e.elements?.[0]);this.tocFocusedElement!==t&&(this.tocFocusedElement=t,this.tocTree.setSelection(t?[t]:[]),this.searchResultModel?this.viewState.filterToCategory!==t&&(this.viewState.filterToCategory=(0,U.f6)(t),this.renderTree(void 0,!0),this.settingsTree.scrollTop=0):!t||e.browserEvent&&e.browserEvent.fromScroll||(this.settingsTree.reveal(t,0),this.settingsTree.setFocus([t])))}))),this._register(this.tocTree.onDidFocus((()=>{this.tocRowFocused.set(!0)}))),this._register(this.tocTree.onDidBlur((()=>{this.tocRowFocused.set(!1)})))}applyFilter(e){if(this.searchWidget&&!this.searchWidget.getValue().includes(e)){const t=`${e} ${this.searchWidget.getValue().trimStart()}`;this.focusSearch(t,!1)}}removeLanguageFilters(){if(this.searchWidget&&this.searchWidget.getValue().includes(`@${Me.tO}`)){const e=this.searchWidget.getValue().split(" ").filter((e=>!e.startsWith(`@${Me.tO}`))).join(" ");this.focusSearch(e,!1)}}createSettingsTree(e){this.settingRenderers=this.instantiationService.createInstance(Js),this._register(this.settingRenderers.onDidChangeSetting((e=>this.onDidChangeSetting(e.key,e.value,e.type,e.manualReset,e.scope)))),this._register(this.settingRenderers.onDidOpenSettings((e=>{this.openSettingsFile({revealSetting:{key:e,edit:!0}})}))),this._register(this.settingRenderers.onDidClickSettingLink((e=>this.onDidClickSetting(e)))),this._register(this.settingRenderers.onDidFocusSetting((e=>{this.settingsTree.setFocus([e]),this._currentFocusContext=3,this.settingRowFocused.set(!1)}))),this._register(this.settingRenderers.onDidChangeSettingHeight((e=>{const{element:t,height:i}=e;try{this.settingsTree.updateElementHeight(t,i)}catch(e){}}))),this._register(this.settingRenderers.onApplyFilter((e=>this.applyFilter(e)))),this._register(this.settingRenderers.onDidClickOverrideElement((e=>{this.removeLanguageFilters(),e.language&&this.applyFilter(`@${Me.tO}${e.language}`),"workspace"===e.scope?this.settingsTargetsWidget.updateTarget(5):"user"===e.scope?this.settingsTargetsWidget.updateTarget(3):"remote"===e.scope&&this.settingsTargetsWidget.updateTarget(4),this.applyFilter(`@${Me.pg}${e.settingKey}`)}))),this.settingsTree=this._register(this.instantiationService.createInstance(oo,e,this.viewState,this.settingRenderers.allRenderers)),this._register(this.settingsTree.onDidScroll((()=>{this.settingsTree.scrollTop!==this.settingsTreeScrollTop&&(this.settingsTreeScrollTop=this.settingsTree.scrollTop,setTimeout((()=>{this.updateTreeScrollSync()}),0))}))),this._register(this.settingsTree.onDidFocus((()=>{const e=document.activeElement?.classList;e&&e.contains("monaco-list")&&e.contains("settings-editor-tree")&&(this._currentFocusContext=2,this.settingRowFocused.set(!0),this.treeFocusedElement??=(0,U.M2)(this.settingsTree.firstVisibleElement),this.treeFocusedElement&&(this.treeFocusedElement.tabbable=!0))}))),this._register(this.settingsTree.onDidBlur((()=>{this.settingRowFocused.set(!1),this.treeFocusedElement=null}))),this._register(this.settingsTree.onDidChangeFocus((e=>{const t=e.elements[0];this.treeFocusedElement!==t&&(this.treeFocusedElement&&(this.treeFocusedElement.tabbable=!1),this.treeFocusedElement=t,this.treeFocusedElement&&(this.treeFocusedElement.tabbable=!0),this.settingsTree.setSelection(t?[t]:[]))})))}onDidChangeSetting(t,i,n,s,o){const r=Un(this.searchWidget.getValue()).languageFilter;(s||this.pendingSettingUpdate&&this.pendingSettingUpdate.key!==t)&&this.updateChangedSetting(t,i,s,r,o),this.pendingSettingUpdate={key:t,value:i,languageFilter:r},e.shouldSettingUpdateFast(n)?this.settingFastUpdateDelayer.trigger((()=>this.updateChangedSetting(t,i,s,r,o))):this.settingSlowUpdateDelayer.trigger((()=>this.updateChangedSetting(t,i,s,r,o)))}updateTreeScrollSync(){if(this.settingRenderers.cancelSuggesters(),this.searchResultModel)return;if(!this.tocTreeModel)return;const e=this.settingsTree.firstVisibleElement,t=e instanceof Dn?e.parent:e instanceof Tn?e:null;let i=!0;try{this.tocTree.getNode(t)}catch(e){i=!1}if(i&&t&&this.tocTree.getSelection()[0]!==t){const e=this.getAncestors(t);e.forEach((e=>this.tocTree.expand(e))),this.tocTree.reveal(t);const i=this.tocTree.getRelativeTop(t);if("number"!=typeof i)return;this.tocTree.collapseAll(),e.forEach((e=>this.tocTree.expand(e))),i<0||i>1?this.tocTree.reveal(t):this.tocTree.reveal(t,i),this.tocTree.expand(t),this.tocTree.setSelection([t]);const n=new KeyboardEvent("keydown");n.fromScroll=!0,this.tocTree.setFocus([t],n)}}getAncestors(e){const t=[];for(;e.parent;)"root"!==e.parent.id&&t.push(e.parent),e=e.parent;return t.reverse()}updateChangedSetting(e,t,i,n,s){const o=this.settingsTargetsWidget.settingsTarget,r=g.ov.isUri(o)?o:void 0,a=(r?6:o)??3,c={resource:r,overrideIdentifiers:n?[n]:void 0},d=5===a||6===a||!!n,l=d?i:void 0===t,h=this.configurationService.inspect(e,c);return d||h.defaultValue!==t||(t=void 0),this.configurationService.updateValue(e,t,c,a,{handleDirtyFile:"save"}).then((()=>{const i=this.searchWidget.getValue();i.includes(`@${Me.Vk}`)&&this.refreshTOCTree(),this.renderTree(e,l);const n={key:e,query:i,searchResults:this.searchResultModel&&this.searchResultModel.getUniqueResults(),rawResults:this.searchResultModel&&this.searchResultModel.getRawResults(),showConfiguredOnly:!!this.viewState.tagFilters&&this.viewState.tagFilters.has(Me.Vk),isReset:void 0===t,settingsTarget:this.settingsTargetsWidget.settingsTarget};return this.reportModifiedSetting(n)}))}reportModifiedSetting(e){let t,i,n;if(this.pendingSettingUpdate=null,e.searchResults){const s=e.searchResults[1],o=e.searchResults[0],r=o.filterMatches.findIndex((t=>t.setting.key===e.key));if(t=r>=0?"local":"remote",n=r>=0?r:s&&s.filterMatches.findIndex((t=>t.setting.key===e.key))+o.filterMatches.length,this.searchResultModel){const t=this.searchResultModel.getRawResults();if(t[1]){const n=t[1].filterMatches.findIndex((t=>t.setting.key===e.key));i=n>=0?n:void 0}}}const s=3===e.settingsTarget?"user":4===e.settingsTarget?"user_remote":5===e.settingsTarget?"workspace":"folder",o={key:e.key,groupId:t,nlpIndex:i,displayIndex:n,showConfiguredOnly:e.showConfiguredOnly,isReset:e.isReset,target:s};this.telemetryService.publicLog2("settingsEditor.settingModified",o)}onSearchModeToggled(){this.rootElement.classList.remove("no-toc-search"),"hide"===this.configurationService.getValue("workbench.settings.settingsSearchTocBehavior")&&this.rootElement.classList.toggle("no-toc-search",!!this.searchResultModel)}scheduleRefresh(e,t=""){if(t&&this.scheduledRefreshes.has(t))return;t||((0,d.B9)(this.scheduledRefreshes.values()),this.scheduledRefreshes.clear());const i=et.go(e);this.scheduledRefreshes.set(t,i),i.onDidBlur((()=>{i.dispose(),this.scheduledRefreshes.delete(t),this.onConfigUpdate(new Set([t]))}))}addOrRemoveManageExtensionSetting(e,t,i){const n=i.filter((t=>{const i=t.extensionInfo?.id.toLowerCase();return i===e.stableExtensionId.toLowerCase()||i===e.prereleaseExtensionId.toLowerCase()})),s=e.displayExtensionId;if(!n.length){const n={sections:[{settings:[e]}],id:s,title:e.extensionGroupTitle,titleRange:ge,range:ge,extensionInfo:{id:s,displayName:t?.displayName}};return i.push(n),n}if(n.length>=2){const e=n.findIndex((e=>1===e.sections.length&&1===e.sections[0].settings.length&&e.sections[0].settings[0].displayExtensionId));-1!==e&&i.splice(e,1)}}async onConfigUpdate(e,t=!1,i=!1){if(e&&this.settingsTreeModel)return this.updateElementsByKey(e);if(!this.defaultSettingsEditorModel)return;const n=this.defaultSettingsEditorModel.settingsGroups.slice(1),s=n.filter((e=>!e.extensionInfo)),o=rs(on,s,this.logService),r=o.tree;if(o.leftoverSettings.size&&!this.hasWarnedMissingSettings){const e=[];o.leftoverSettings.forEach((t=>{e.push(t.key)})),this.logService.warn(`SettingsEditor2: Settings not included in settingsLayout.ts: ${e.join(", ")}`),this.hasWarnedMissingSettings=!0}const a=[],c=await(0,Me.Eo)(this.workbenchAssignmentService,this.environmentService,this.productService);if(c&&n.filter((e=>e.extensionInfo)).length)for(const e in c.settingsEditorRecommendedExtensions){const t=c.settingsEditorRecommendedExtensions[e].onSettingsEditorOpen.prerelease,i="string"==typeof t&&"stable"!==this.productService.quality?t:e,[s]=await this.extensionGalleryService.getExtensions([{id:i}],Zi.T.None);if(!s)continue;let o;const r=await this.extensionGalleryService.getManifest(s,Zi.T.None),d=r?.contributes?.configuration;Array.isArray(d)?1===d.length&&(o=d[0].title):o=d?.title;const l=s?.displayName??s?.name??i,g={range:ge,key:`${e}.manageExtension`,keyRange:ge,value:null,valueRange:ge,description:[s?.description||""],descriptionIsMarkdown:!1,descriptionRanges:[],title:l,scope:3,type:"null",displayExtensionId:i,stableExtensionId:e,prereleaseExtensionId:"string"==typeof t?t:e,extensionGroupTitle:o??l},h=this.addOrRemoveManageExtensionSetting(g,s,n);h&&a.push(h)}r.children.push(await cs(this.extensionService,n.filter((e=>e.extensionInfo))));const d=await async function(e,t,i){const n=await(0,Me.Eo)(e,t,i);return{id:"commonlyUsed",label:(0,f.NC)("commonlyUsed","Commonly Used"),settings:n?n.commonlyUsed:sn}}(this.workbenchAssignmentService,this.environmentService,this.productService),l=rs(d,n,this.logService);if(r.children.unshift(l.tree),c&&this.defaultSettingsEditorModel.setAdditionalGroups(a),!this.workspaceTrustManagementService.isWorkspaceTrusted()&&(this.viewState.settingsTarget instanceof g.ov||5===this.viewState.settingsTarget)){const e=function(e,t,i,n){return[...hs(e)].filter((e=>e.restricted&&Mn(e.key,t,i,n).isConfigured))}(n,this.viewState.settingsTarget,this.viewState.languageFilter,this.configurationService);e.length&&r.children.unshift({id:"workspaceTrust",label:(0,f.NC)("settings require trust","Workspace Trust"),settings:e})}if(this.searchResultModel?.updateChildren(),this.settingsTreeModel){if(this.settingsTreeModel.update(r),i&&this.searchResultModel)return await this.onSearchInputChanged();this.refreshTOCTree(),this.renderTree(void 0,t)}else{this.settingsTreeModel=this.instantiationService.createInstance(Nn,this.viewState,this.workspaceTrustManagementService.isWorkspaceTrusted()),this.settingsTreeModel.update(r),this.tocTreeModel.settingsTreeRoot=this.settingsTreeModel.root;const e=this.viewState.query?void 0:this.restoreCachedState();e?.searchQuery||this.searchWidget.getValue()?await this.onSearchInputChanged():(this.refreshTOCTree(),this.refreshTree(),this.tocTree.collapseAll())}}updateElementsByKey(e){e.size?(this.searchResultModel&&e.forEach((e=>this.searchResultModel.updateElementsByName(e))),this.settingsTreeModel&&e.forEach((e=>this.settingsTreeModel.updateElementsByName(e))),this.renderTree()):this.renderTree()}getActiveControlInSettingsTree(){return document.activeElement&&et.jg(document.activeElement,this.settingsTree.getHTMLElement())?document.activeElement:null}renderTree(e,t=!1){if(!t&&e&&this.scheduledRefreshes.has(e))return void this.updateModifiedLabelForKey(e);if(this.contextViewFocused()){const t=document.querySelector(".context-view");return void(t&&this.scheduleRefresh(t,e))}const i=this.getActiveControlInSettingsTree(),n=i&&this.settingRenderers.getSettingDOMElementForDOMElement(i);if(n&&!t){if(!e)return void this.scheduleRefresh(n);if(n.getAttribute(Ls.SETTING_KEY_ATTR)===e&&n.parentElement&&!n.parentElement.classList.contains("setting-item-list"))return this.updateModifiedLabelForKey(e),void this.scheduleRefresh(n,e)}if(this.renderResultCountMessages(),e){const t=this.currentSettingsModel.getElementsByName(e);if(!t||!t.length)return;this.refreshTree()}else this.refreshTree()}contextViewFocused(){return!!et.Fx(document.activeElement,"context-view")}refreshTree(){this.isVisible()&&this.settingsTree.setChildren(null,Io(this.currentSettingsModel.root))}refreshTOCTree(){this.isVisible()&&(this.tocTreeModel.update(),this.tocTree.setChildren(null,bo(this.tocTreeModel)))}updateModifiedLabelForKey(e){const t=this.currentSettingsModel.getElementsByName(e),i=t&&t[0]&&t[0].isConfigured,n=this.settingRenderers.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(),e);n&&n[0]&&n[0].classList.toggle("is-configured",!!i)}async onSearchInputChanged(){if(!this.currentSettingsModel)return;const e=this.searchWidget.getValue().trim();this.viewState.query=e,this.delayedFilterLogging.cancel(),await this.triggerSearch(e.replace(/\u203A/g," ")),e&&this.searchResultModel&&this.delayedFilterLogging.trigger((()=>this.reportFilteringUsed(this.searchResultModel.getUniqueResults())))}parseSettingFromJSON(e){const t=e.match(/"([a-zA-Z.]+)": /);return t&&t[1]}triggerSearch(e){if(this.viewState.tagFilters=new Set,this.viewState.extensionFilters=new Set,this.viewState.featureFilters=new Set,this.viewState.idFilters=new Set,this.viewState.languageFilter=void 0,e){const t=Un(e);e=t.query,t.tags.forEach((e=>this.viewState.tagFilters.add(e))),t.extensionFilters.forEach((e=>this.viewState.extensionFilters.add(e))),t.featureFilters.forEach((e=>this.viewState.featureFilters.add(e))),t.idFilters.forEach((e=>this.viewState.idFilters.add(e))),this.viewState.languageFilter=t.languageFilter}return this.settingsTargetsWidget.updateLanguageFilterIndicators(this.viewState.languageFilter),e&&"@"!==e?(e=this.parseSettingFromJSON(e)||e,this.triggerFilterPreferences(e)):(this.viewState.tagFilters.size||this.viewState.extensionFilters.size||this.viewState.featureFilters.size||this.viewState.idFilters.size||this.viewState.languageFilter?this.searchResultModel=this.createFilterModel():this.searchResultModel=null,this.localSearchDelayer.cancel(),this.remoteSearchThrottle.cancel(),this.searchInProgress&&(this.searchInProgress.cancel(),this.searchInProgress.dispose(),this.searchInProgress=null),this.tocTree.setFocus([]),this.viewState.filterToCategory=void 0,this.tocTreeModel.currentSearchModel=this.searchResultModel,this.onSearchModeToggled(),this.searchResultModel?(this.tocTree.setSelection([]),this.tocTree.expandAll(),this.refreshTOCTree(),this.renderResultCountMessages(),this.refreshTree()):(this.tocTree.collapseAll(),this.refreshTOCTree(),this.renderResultCountMessages(),this.refreshTree()),Promise.resolve())}createFilterModel(){const e=this.instantiationService.createInstance(Wn,this.viewState,this.workspaceTrustManagementService.isWorkspaceTrusted()),t={filterMatches:[]};for(const e of this.defaultSettingsEditorModel.settingsGroups.slice(1))for(const i of e.sections)for(const e of i.settings)t.filterMatches.push({setting:e,matches:[],matchType:s.af.None,score:0});return e.setResult(0,t),e}reportFilteringUsed(e){const t=e[1],i=t?.metadata,n={nlpResult:i?.duration},s={},o=e[0];o&&(s.filterResult=o.filterMatches.length),t&&(s.nlpResult=t.filterMatches.length);const r=i?.requestCount,a={"durations.nlpResult":n.nlpResult,"counts.nlpResult":s.nlpResult,"counts.filterResult":s.filterResult,requestCount:r};this.telemetryService.publicLog2("settingsEditor.filter",a)}triggerFilterPreferences(e){this.searchInProgress&&(this.searchInProgress.cancel(),this.searchInProgress=null);const t=this.searchInProgress=new Zi.A;return this.localSearchDelayer.trigger((()=>t&&!t.token.isCancellationRequested?this.localFilterPreferences(e).then((i=>{i&&!i.exactMatch&&this.remoteSearchThrottle.trigger((()=>t&&!t.token.isCancellationRequested?this.remoteSearchPreferences(e,this.searchInProgress.token):Promise.resolve()))})):Promise.resolve()))}localFilterPreferences(e,t){const i=this.preferencesSearchService.getLocalSearchProvider(e);return this.filterOrSearchPreferences(e,0,i,t)}remoteSearchPreferences(e,t){const i=this.preferencesSearchService.getRemoteSearchProvider(e),n=this.preferencesSearchService.getRemoteSearchProvider(e,!0);return Promise.all([this.filterOrSearchPreferences(e,1,i,t),this.filterOrSearchPreferences(e,2,n,t)]).then((()=>{}))}filterOrSearchPreferences(e,t,i,n){return this._filterOrSearchPreferencesModel(e,this.defaultSettingsEditorModel,i,n).then((e=>n&&n.isCancellationRequested?null:(this.searchResultModel?(this.searchResultModel.setResult(t,e),this.tocTreeModel.update()):(this.searchResultModel=this.instantiationService.createInstance(Wn,this.viewState,this.workspaceTrustManagementService.isWorkspaceTrusted()),this.searchResultModel.setResult(t,e),this.tocTreeModel.currentSearchModel=this.searchResultModel,this.onSearchModeToggled()),0===t&&(this.tocTree.setFocus([]),this.viewState.filterToCategory=void 0,this.tocTree.expandAll()),this.settingsTree.scrollTop=0,this.refreshTOCTree(),this.renderTree(void 0,!0),e)))}renderResultCountMessages(){if(this.currentSettingsModel){if(this.clearFilterLinkContainer.style.display=this.viewState.tagFilters&&this.viewState.tagFilters.size>0?"initial":"none",!this.searchResultModel)return"none"!==this.countElement.style.display&&(this.searchResultLabel=null,this.updateInputAriaLabel(),this.countElement.style.display="none",this.layout(this.dimension)),this.rootElement.classList.remove("no-results"),void(this.splitView.el.style.visibility="visible");{const e=this.searchResultModel.getUniqueResultsCount();let t;switch(e){case 0:t=(0,f.NC)("noResults","No Settings Found");break;case 1:t=(0,f.NC)("oneResult","1 Setting Found");break;default:t=(0,f.NC)("moreThanOneResult","{0} Settings Found",e)}this.searchResultLabel=t,this.updateInputAriaLabel(),this.countElement.innerText=t,lt.i7(t),"block"!==this.countElement.style.display&&(this.countElement.style.display="block",this.layout(this.dimension)),this.rootElement.classList.toggle("no-results",0===e),this.splitView.el.style.visibility=0===e?"hidden":"visible"}}}_filterOrSearchPreferencesModel(e,t,i,n){return(i?i.searchModel(t,n):Promise.resolve(null)).then(void 0,(e=>(0,r.n2)(e)?Promise.reject(e):null))}layoutSplitView(t){const i=t.height-97;this.splitView.el.style.height=`${i}px`,this.splitView.layout(this.bodyContainer.clientWidth,i);const n=this.splitView.isViewVisible(0),s=this.bodyContainer.clientWidth>=e.NARROW_TOTAL_WIDTH;this.splitView.setViewVisible(0,s),!n&&s&&this.bodyContainer.clientWidth>=e.EDITOR_MIN_WIDTH+e.TOC_RESET_WIDTH&&this.splitView.resizeView(0,e.TOC_RESET_WIDTH),this.splitView.style({separatorBorder:s?this.theme.getColor(hi):oe.Il.transparent})}saveState(){if(this.isVisible()){const e=this.searchWidget.getValue().trim(),t=this.settingsTargetsWidget.settingsTarget;this.group&&this.input&&this.editorMemento.saveEditorState(this.group,this.input,{searchQuery:e,target:t})}else this.group&&this.input&&this.editorMemento.clearEditorState(this.input,this.group);super.saveState()}};Lo=(0,o.g)([(0,o.f)(0,at.bU),(0,o.f)(1,se.FG),(0,o.f)(2,So.V),(0,o.f)(3,Ht.XE),(0,o.f)(4,s.UP),(0,o.f)(5,S.TG),(0,o.f)(6,Me.eO),(0,o.f)(7,tn.VZ),(0,o.f)(8,Ge.i6),(0,o.f)(9,Gt.Uy),(0,o.f)(10,D.Qw),(0,o.f)(11,vo.e),(0,o.f)(12,nn.Ud),(0,o.f)(13,Vi.Y2),(0,o.f)(14,H.QS),(0,o.f)(15,m.O),(0,o.f)(16,Re.J6),(0,o.f)(17,xo.U),(0,o.f)(18,Oe.a),(0,o.f)(19,Eo.Y),(0,o.f)(20,Re.Lj)],Lo);let Do=class extends d.JT{constructor(e,t,i,n){super(),this.commandService=t,this.userDataSyncService=i,this.userDataSyncEnablementService=n,this._onDidChangeLastSyncedLabel=this._register(new a.Q5),this.onDidChangeLastSyncedLabel=this._onDidChangeLastSyncedLabel.event;const s=et.R3(e,_o(".settings-right-controls")),o=et.R3(s,_o(".turn-on-sync"));this.turnOnSyncButton=this._register(new Xi.zx(o,{title:!0,...Bt.wG})),this.lastSyncedLabel=et.R3(s,_o(".last-synced-label")),et.Cp(this.lastSyncedLabel),this.turnOnSyncButton.enabled=!0,this.turnOnSyncButton.label=(0,f.NC)("turnOnSyncButton","Turn on Settings Sync"),et.Cp(this.turnOnSyncButton.element),this._register(this.turnOnSyncButton.onDidClick((async()=>{await this.commandService.executeCommand("workbench.userDataSync.actions.turnOn")}))),this.updateLastSyncedTime(),this._register(this.userDataSyncService.onDidChangeLastSyncTime((()=>{this.updateLastSyncedTime()}))),this._register(new Ye.zh).cancelAndSet((()=>this.updateLastSyncedTime()),6e4),this.update(),this._register(this.userDataSyncService.onDidChangeStatus((()=>{this.update()}))),this._register(this.userDataSyncEnablementService.onDidChangeEnablement((()=>{this.update()})))}updateLastSyncedTime(){const e=this.userDataSyncService.lastSyncTime;let t;if("number"==typeof e){const i=(0,Yi.Z)(e,!0,void 0,!0);t=(0,f.NC)("lastSyncedLabel","Last synced: {0}",i)}else t="";this.lastSyncedLabel.textContent=t,this._onDidChangeLastSyncedLabel.fire(t)}update(){"uninitialized"!==this.userDataSyncService.status&&(this.userDataSyncEnablementService.isEnabled()||"idle"!==this.userDataSyncService.status?(et.$Z(this.lastSyncedLabel),et.Cp(this.turnOnSyncButton.element)):(et.Cp(this.lastSyncedLabel),et.$Z(this.turnOnSyncButton.element)))}};Do=(0,o.g)([(0,o.f)(1,je.H),(0,o.f)(2,nn.cl),(0,o.f)(3,nn.Ud)],Do);var No=i(81294),Mo=i(36243),Ro=i(32049);const Ao=x.B.as(No.I.JSONContribution);let Oo=class{constructor(e,t,i,n,o,r,a,c,d){this.modelService=e,this.textModelResolverService=t,this.preferencesService=i,this.languageService=n,this.userDataProfileService=o,this.workspaceService=r,this.configurationService=a,this.editorResolverService=c,this.textEditorService=d,this.settingsListener=this.configurationService.onDidChangeConfiguration((e=>{(e.affectsConfiguration(s.tq)||e.affectsConfiguration(s.pf))&&this.handleSettingsEditorRegistration()})),this.handleSettingsEditorRegistration(),this.start()}handleSettingsEditorRegistration(){(0,d.B9)(this.editorOpeningListener),(this.configurationService.getValue(s.tq)||this.configurationService.getValue(s.pf))&&(this.editorOpeningListener=this.editorResolverService.registerEditor("**/settings.json",{id:_.h.ID,label:f.NC("splitSettingsEditorLabel","Split Settings Editor"),priority:Ro.OP.builtin},{},{createEditorInput:({resource:e,options:t})=>{if((0,ft.Xy)(e,this.userDataProfileService.currentProfile.settingsResource))return{editor:this.preferencesService.createSplitJsonEditorInput(3,e),options:t};const i=this.workspaceService.getWorkbenchState();if(2===i){const i=this.workspaceService.getWorkspace().folders;if((0,ft.Xy)(e,i[0].toResource(s.kd)))return{editor:this.preferencesService.createSplitJsonEditorInput(5,e),options:t}}else if(3===i){const i=this.workspaceService.getWorkspace().folders;for(const n of i)if((0,ft.Xy)(e,n.toResource(s.kd)))return{editor:this.preferencesService.createSplitJsonEditorInput(6,e),options:t}}return{editor:this.textEditorService.createTextEditor({resource:e}),options:t}}}))}start(){this.textModelResolverService.registerTextModelContentProvider("vscode",{provideTextContent:async e=>"vscode"!==e.scheme?null:"schemas"===e.authority?this.getSchemaModel(e):this.preferencesService.resolveModel(e)})}getSchemaModel(e){let t=Ao.getSchemaContributions().schemas[e.toString()]??{};const i=JSON.stringify(t),n=this.languageService.createById("jsonc"),s=this.modelService.createModel(i,n,e),o=new d.SL;return o.add(Ao.onDidChangeSchema((i=>{i===e.toString()&&(t=Ao.getSchemaContributions().schemas[e.toString()],s.setValue(JSON.stringify(t)))}))),o.add(s.onWillDispose((()=>o.dispose()))),s}dispose(){(0,d.B9)(this.editorOpeningListener),(0,d.B9)(this.settingsListener)}};Oo=(0,o.g)([(0,o.f)(0,p.q),(0,o.f)(1,b.S),(0,o.f)(2,s.UP),(0,o.f)(3,m.O),(0,o.f)(4,Le.AP),(0,o.f)(5,E.ec),(0,o.f)(6,y.Ui),(0,o.f)(7,Ro.es),(0,o.f)(8,Ie.X)],Oo),x.B.as(v.IP.Configuration).registerConfiguration({...Mo.p6,properties:{"workbench.settings.enableNaturalLanguageSearch":{type:"boolean",description:f.NC("enableNaturalLanguageSettingsSearch","Controls whether to enable the natural language search mode for settings. The natural language search is provided by a Microsoft online service."),default:!0,scope:3,tags:["usesOnlineServices"]},"workbench.settings.settingsSearchTocBehavior":{type:"string",enum:["hide","filter"],enumDescriptions:[f.NC("settingsSearchTocBehavior.hide","Hide the Table of Contents while searching."),f.NC("settingsSearchTocBehavior.filter","Filter the Table of Contents to just categories that have matching settings. Clicking a category will filter the results to that category.")],description:f.NC("settingsSearchTocBehavior","Controls the behavior of the settings editor Table of Contents while searching."),default:"filter",scope:3}}}),x.B.as(I.bS.EditorPane).registerEditorPane(Je.gS.create(Lo,Lo.ID,f.NC("settingsEditor2","Settings Editor 2")),[new n.M(te)]),x.B.as(I.bS.EditorPane).registerEditorPane(Je.gS.create(Ei,Ei.ID,f.NC("keybindingsEditor","Keybindings Editor")),[new n.M(ee)]);const Wo={value:f.NC("openSettings2","Open Settings (UI)"),original:"Open Settings (UI)"},Po={value:f.NC("openUserSettingsJson","Open User Settings (JSON)"),original:"Open User Settings (JSON)"},Fo={value:f.NC("preferences","Preferences"),original:"Preferences"};function Ko(e){return(0,U.jn)(e)?e:void 0}function Bo(e){(0,U.Kn)(e)||(e={});let t={focusSearch:Ko(e?.focusSearch),openToSide:Ko(e?.openToSide),query:(i=e?.query,(0,U.HD)(i)?i:void 0)};var i;return(0,U.HD)(e?.revealSetting?.key)&&(t={...t,revealSetting:{key:e.revealSetting.key,edit:Ko(e.revealSetting?.edit)}}),t}let Vo=class extends d.JT{constructor(e,t,i,n,s,o,r){super(),this.environmentService=e,this.userDataProfileService=t,this.preferencesService=i,this.workspaceContextService=n,this.labelService=s,this.extensionService=o,this.userDataProfilesService=r,this.registerSettingsActions(),this.registerKeybindingsActions(),this.updatePreferencesEditorMenuItem(),this._register(n.onDidChangeWorkbenchState((()=>this.updatePreferencesEditorMenuItem()))),this._register(n.onDidChangeWorkspaceFolders((()=>this.updatePreferencesEditorMenuItemForWorkspaceFolders())))}registerSettingsActions(){this._register((0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openSettings",title:{value:f.NC("settings","Settings"),mnemonicTitle:f.NC({key:"miOpenSettings",comment:["&& denotes a mnemonic"]},"&&Settings"),original:"Settings"},keybinding:{weight:200,when:null,primary:2135},menu:[{id:F.eH.GlobalActivity,group:"2_configuration",order:1},{id:F.eH.MenubarPreferencesMenu,group:"2_configuration",order:1}]})}run(e,t){const i="string"==typeof t?{query:t}:Bo(t);return e.get(s.UP).openSettings(i)}})),(0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openSettings2",title:{value:f.NC("openSettings2","Open Settings (UI)"),original:"Open Settings (UI)"},category:Fo,f1:!0})}run(e,t){return t=Bo(t),e.get(s.UP).openSettings({jsonEditor:!1,...t})}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openSettingsJson",title:Po,category:Fo,f1:!0})}run(e,t){return t=Bo(t),e.get(s.UP).openSettings({jsonEditor:!0,...t})}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openGlobalSettings",title:{value:f.NC("openGlobalSettings","Open User Settings"),original:"Open User Settings"},category:Fo,f1:!0})}run(e,t){return t=Bo(t),e.get(s.UP).openUserSettings(t)}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openRawDefaultSettings",title:{value:f.NC("openRawDefaultSettings","Open Default Settings (JSON)"),original:"Open Default Settings (JSON)"},category:Fo,f1:!0})}run(e){return e.get(s.UP).openRawDefaultSettings()}});const e=this._register(new d.XK),t=Ge.Ao.and(Ge.Ao.or(Xe.f1.Resource.isEqualTo(this.userDataProfileService.currentProfile.settingsResource.toString()),Xe.f1.Resource.isEqualTo(this.userDataProfilesService.defaultProfile.settingsResource.toString())),Ge.Ao.not("isInDiffEditor")),i=()=>{e.value=(0,F.r1)(class extends F.Ke{constructor(){super({id:"_workbench.openUserSettingsEditor",title:Wo,icon:At,menu:[{id:F.eH.EditorTitle,when:t,group:"navigation",order:1}]})}run(e,t){return t=Bo(t),e.get(s.UP).openUserSettings({jsonEditor:!1,...t})}})},n=Ge.Ao.and(Me._n,Me.Id.toNegated());(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.switchToJSON",title:{value:f.NC("openSettingsJson","Open Settings (JSON)"),original:"Open Settings (JSON)"},icon:At,menu:[{id:F.eH.EditorTitle,when:n,group:"navigation",order:1}]})}run(e){const t=e.get(N.AR).activeEditorPane;return t instanceof Lo?t.switchToSettingsFile():null}}),i(),this._register(this.userDataProfileService.onDidChangeCurrentProfile((()=>{i()}))),(0,F.r1)(class extends F.Ke{constructor(){super({id:Wi.ID,title:Wi.LABEL,category:Fo,f1:!0})}run(e){return e.get(S.TG).createInstance(Wi,Wi.ID,Wi.LABEL.value).run()}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openAccessibilitySettings",title:{value:f.NC("openAccessibilitySettings","Open Accessibility Settings"),original:"Open Accessibility Settings"},category:Fo,menu:{id:F.eH.CommandPalette,when:Xe.hX.notEqualsTo("empty")}})}async run(e){await e.get(s.UP).openSettings({jsonEditor:!1,query:"@tag:accessibility"})}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openFolderSettings",title:{value:f.NC("openFolderSettings","Open Folder Settings"),original:"Open Folder Settings"},category:Fo,menu:{id:F.eH.CommandPalette,when:Xe.hX.isEqualTo("workspace")}})}async run(e,t){const i=e.get(je.H),n=e.get(s.UP),o=await i.executeCommand(ze.RS);o&&(t=Bo(t),await n.openFolderSettings({folderUri:o.uri,...t}))}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openFolderSettingsFile",title:{value:f.NC("openFolderSettingsFile","Open Folder Settings (JSON)"),original:"Open Folder Settings (JSON)"},category:Fo,menu:{id:F.eH.CommandPalette,when:Xe.hX.isEqualTo("workspace")}})}async run(e,t){const i=e.get(je.H),n=e.get(s.UP),o=await i.executeCommand(ze.RS);o&&(t=Bo(t),await n.openFolderSettings({folderUri:o.uri,jsonEditor:!0,...t}))}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"_workbench.action.openFolderSettings",title:{value:f.NC("openFolderSettings","Open Folder Settings"),original:"Open Folder Settings"},category:Fo,menu:{id:F.eH.ExplorerContext,group:"2_workspace",order:20,when:Ge.Ao.and(Ze.RQ,Ze.W$)}})}run(e,t){return e.get(s.UP).openFolderSettings({folderUri:t})}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.filterByOnline",title:f.NC({key:"miOpenOnlineSettings",comment:["&& denotes a mnemonic"]},"&&Online Services Settings"),menu:{id:F.eH.MenubarPreferencesMenu,group:"3_settings",order:1}})}run(e){const t=e.get(N.AR).activeEditorPane;t instanceof Lo?t.focusSearch("@tag:usesOnlineServices"):e.get(s.UP).openSettings({jsonEditor:!1,query:"@tag:usesOnlineServices"})}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.filterByTelemetry",title:f.NC({key:"miOpenTelemetrySettings",comment:["&& denotes a mnemonic"]},"&&Telemetry Settings")})}run(e){const t=e.get(N.AR).activeEditorPane;t instanceof Lo?t.focusSearch("@tag:telemetry"):e.get(s.UP).openSettings({jsonEditor:!1,query:"@tag:telemetry"})}}),this.registerSettingsEditorActions(),this.extensionService.whenInstalledExtensionsRegistered().then((()=>{const e=this.environmentService.remoteAuthority;this.labelService.getHostLabel(l.lg.vscodeRemote,e)}))}registerSettingsEditorActions(){function e(e){const t=e.get(N.AR).activeEditorPane;return t instanceof Lo?t:null}(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.action.search",precondition:Me._n,keybinding:{primary:2084,weight:100,when:null},category:Fo,f1:!0,title:{value:f.NC("settings.focusSearch","Focus Settings Search"),original:"Focus Settings Search"}})}run(t){!function(t){const i=e(t);i?.focusSearch()}(t)}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:Me.cV,precondition:Me._n,keybinding:{primary:9,weight:100,when:Me.hQ},category:Fo,f1:!0,title:{value:f.NC("settings.clearResults","Clear Settings Search Results"),original:"Clear Settings Search Results"}})}run(t){const i=e(t);i?.clearSearchResults()}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.action.focusSettingsFile",precondition:Ge.Ao.and(Me.hQ,He._y.Visible.toNegated()),keybinding:{primary:18,weight:100,when:null},title:f.NC("settings.focusFile","Focus settings file")})}run(t,i){const n=e(t);n?.focusSettings()}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.action.focusSettingsFromSearch",precondition:Ge.Ao.and(Me.hQ,He._y.Visible.toNegated()),keybinding:{primary:18,weight:200,when:null},title:f.NC("settings.focusFile","Focus settings file")})}run(t,i){const n=e(t);n?.focusSettings()}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.action.focusSettingsList",precondition:Ge.Ao.and(Me._n,Me.yM),keybinding:{primary:3,weight:200,when:null},title:f.NC("settings.focusSettingsList","Focus settings list")})}run(t){const i=e(t);i instanceof Lo&&i.focusSettings()}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.action.focusTOC",precondition:Me._n,f1:!0,keybinding:[{primary:15,weight:200,when:Me.sC}],category:Fo,title:{value:f.NC("settings.focusSettingsTOC","Focus Settings Table of Contents"),original:"Focus Settings Table of Contents"}})}run(t){const i=e(t);i instanceof Lo&&i.focusTOC()}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.action.focusSettingControl",precondition:Ge.Ao.and(Me._n,Me.sC),keybinding:{primary:3,weight:200},title:f.NC("settings.focusSettingControl","Focus Setting Control")})}run(t){const i=e(t);i instanceof Lo&&document.activeElement?.classList.contains("monaco-list")&&i.focusSettings(!0)}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:Me.L6,precondition:Me._n,keybinding:{primary:1091,weight:200,when:null},f1:!0,category:Fo,title:{value:f.NC("settings.showContextMenu","Show Setting Context Menu"),original:"Show Setting Context Menu"}})}run(t){const i=e(t);i instanceof Lo&&i.showContextMenu()}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"settings.action.focusLevelUp",precondition:Ge.Ao.and(Me._n,Me.hQ.toNegated(),Me.Id.toNegated()),keybinding:{primary:9,weight:200,when:null},f1:!0,category:Fo,title:{value:f.NC("settings.focusLevelUp","Move Focus Up One Level"),original:"Move Focus Up One Level"}})}run(t){const i=e(t);i instanceof Lo&&(3===i.currentFocusContext?i.focusSettings():2===i.currentFocusContext?i.focusTOC():1===i.currentFocusContext&&i.focusSearch())}})}registerKeybindingsActions(){const e=this,t={value:f.NC("preferences","Preferences"),original:"Preferences"},i="workbench.action.openGlobalKeybindings";this._register((0,F.r1)(class extends F.Ke{constructor(){super({id:i,title:{value:f.NC("openGlobalKeybindings","Open Keyboard Shortcuts"),original:"Open Keyboard Shortcuts"},shortTitle:f.NC("keyboardShortcuts","Keyboard Shortcuts"),category:t,icon:At,keybinding:{when:null,weight:200,primary:(0,Be.gx)(2089,2097)},menu:[{id:F.eH.CommandPalette},{id:F.eH.EditorTitle,when:Xe.f1.Resource.isEqualTo(e.userDataProfileService.currentProfile.keybindingsResource.toString()),group:"navigation",order:1},{id:F.eH.GlobalActivity,group:"2_configuration",order:3}]})}run(e,t){const i="string"==typeof t?t:void 0;return e.get(s.UP).openGlobalKeybindingSettings(!1,{query:i})}})),this._register(F.BH.appendMenuItem(F.eH.MenubarPreferencesMenu,{command:{id:i,title:f.NC("keyboardShortcuts","Keyboard Shortcuts")},group:"2_configuration",order:3})),(0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openDefaultKeybindingsFile",title:{value:f.NC("openDefaultKeybindingsFile","Open Default Keyboard Shortcuts (JSON)"),original:"Open Default Keyboard Shortcuts (JSON)"},category:t,menu:{id:F.eH.CommandPalette}})}run(e){return e.get(s.UP).openDefaultKeybindingsFile()}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:"workbench.action.openGlobalKeybindingsFile",title:{value:f.NC("openGlobalKeybindingsFile","Open Keyboard Shortcuts (JSON)"),original:"Open Keyboard Shortcuts (JSON)"},category:t,icon:At,menu:[{id:F.eH.CommandPalette},{id:F.eH.EditorTitle,when:Ge.Ao.and(Me.NG),group:"navigation"}]})}run(e){return e.get(s.UP).openGlobalKeybindingSettings(!0)}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:Me.wN,title:{value:f.NC("showDefaultKeybindings","Show System Keybindings"),original:"Show System Keyboard Shortcuts"},menu:[{id:F.eH.EditorTitle,when:Ge.Ao.and(Me.NG),group:"1_keyboard_preferences_actions"}]})}run(e){const t=e.get(N.AR).activeEditorPane;t instanceof Ei&&t.search("@source:system")}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:Me.ni,title:{value:f.NC("showExtensionKeybindings","Show Extension Keybindings"),original:"Show Extension Keyboard Shortcuts"},menu:[{id:F.eH.EditorTitle,when:Ge.Ao.and(Me.NG),group:"1_keyboard_preferences_actions"}]})}run(e){const t=e.get(N.AR).activeEditorPane;t instanceof Ei&&t.search("@source:extension")}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:Me.Oo,title:{value:f.NC("showUserKeybindings","Show User Keybindings"),original:"Show User Keyboard Shortcuts"},menu:[{id:F.eH.EditorTitle,when:Ge.Ao.and(Me.NG),group:"1_keyboard_preferences_actions"}]})}run(e){const t=e.get(N.AR).activeEditorPane;t instanceof Ei&&t.search("@source:user")}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:Me.Ae,title:f.NC("clear","Clear Search Results"),keybinding:{weight:200,when:Ge.Ao.and(Me.NG,Me.FO),primary:9}})}run(e){const t=e.get(N.AR).activeEditorPane;t instanceof Ei&&t.clearSearchResults()}}),(0,F.r1)(class extends F.Ke{constructor(){super({id:Me.tP,title:f.NC("clearHistory","Clear Keyboard Shortcuts Search History"),category:t,menu:[{id:F.eH.CommandPalette,when:Ge.Ao.and(Me.NG)}]})}run(e){const t=e.get(N.AR).activeEditorPane;t instanceof Ei&&t.clearKeyboardShortcutSearchHistory()}}),this.registerKeybindingEditorActions()}registerKeybindingEditorActions(){const e=this;qe.W.registerCommandAndKeybindingRule({id:Me.mJ,weight:200,when:Ge.Ao.and(Me.NG,Me.CH,Me.$w.toNegated()),primary:3,handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.defineKeybinding(i.activeKeybindingEntry,!1)}}),qe.W.registerCommandAndKeybindingRule({id:Me.wB,weight:200,when:Ge.Ao.and(Me.NG,Me.CH),primary:(0,Be.gx)(2089,2079),handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.defineKeybinding(i.activeKeybindingEntry,!0)}}),qe.W.registerCommandAndKeybindingRule({id:Me.tw,weight:200,when:Ge.Ao.and(Me.NG,Me.CH),primary:(0,Be.gx)(2089,2083),handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.activeKeybindingEntry.keybindingItem.keybinding&&i.defineWhenExpression(i.activeKeybindingEntry)}}),qe.W.registerCommandAndKeybindingRule({id:Me.WE,weight:200,when:Ge.Ao.and(Me.NG,Me.CH,$e.Ul.toNegated()),primary:20,mac:{primary:2049},handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.removeKeybinding(i.activeKeybindingEntry)}}),qe.W.registerCommandAndKeybindingRule({id:Me.Z0,weight:200,when:Ge.Ao.and(Me.NG,Me.CH),primary:0,handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.resetKeybinding(i.activeKeybindingEntry)}}),qe.W.registerCommandAndKeybindingRule({id:Me.mb,weight:200,when:Ge.Ao.and(Me.NG),primary:2084,handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.focusSearch()}}),qe.W.registerCommandAndKeybindingRule({id:Me.wQ,weight:200,when:Ge.Ao.and(Me.NG,Me.FO),primary:553,mac:{primary:2601},handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.recordSearchKeys()}}),qe.W.registerCommandAndKeybindingRule({id:Me.Qy,weight:200,when:Ge.Ao.and(Me.NG),primary:558,mac:{primary:2606},handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.toggleSortByPrecedence()}}),qe.W.registerCommandAndKeybindingRule({id:Me.E_,weight:200,when:Ge.Ao.and(Me.NG,Me.CH),primary:0,handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.showSimilarKeybindings(i.activeKeybindingEntry)}}),qe.W.registerCommandAndKeybindingRule({id:Me.LH,weight:200,when:Ge.Ao.and(Me.NG,Me.CH,Me.$w.negate()),primary:2081,handler:async(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&await i.copyKeybinding(i.activeKeybindingEntry)}}),qe.W.registerCommandAndKeybindingRule({id:Me.Q9,weight:200,when:Ge.Ao.and(Me.NG,Me.CH),primary:0,handler:async(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&await i.copyKeybindingCommand(i.activeKeybindingEntry)}}),qe.W.registerCommandAndKeybindingRule({id:Me.EH,weight:200,when:Ge.Ao.and(Me.NG,Me.CH),primary:0,handler:async(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&await i.copyKeybindingCommandTitle(i.activeKeybindingEntry)}}),qe.W.registerCommandAndKeybindingRule({id:Me.Mu,weight:200,when:Ge.Ao.and(Me.NG,Me.FO),primary:2066,handler:(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.focusKeybindings()}}),qe.W.registerCommandAndKeybindingRule({id:Me.B5,weight:200,when:Ge.Ao.and(Me.NG,Me.$w,He._y.Visible.toNegated()),primary:9,handler:async(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.rejectWhenExpression(i.activeKeybindingEntry)}}),qe.W.registerCommandAndKeybindingRule({id:Me.Ji,weight:200,when:Ge.Ao.and(Me.NG,Me.$w,He._y.Visible.toNegated()),primary:3,handler:async(e,t)=>{const i=e.get(N.AR).activeEditorPane;i instanceof Ei&&i.acceptWhenExpression(i.activeKeybindingEntry)}});const t=this._register(new d.SL),i=()=>{t.clear(),t.add((0,F.r1)(class extends F.Ke{constructor(){const t=Xe.f1.Resource.isEqualTo(e.userDataProfileService.currentProfile.keybindingsResource.toString());super({id:"editor.action.defineKeybinding",title:{value:f.NC("defineKeybinding.start","Define Keybinding"),original:"Define Keybinding"},f1:!0,precondition:t,keybinding:{weight:200,when:t,primary:(0,Be.gx)(2089,2089)},menu:{id:F.eH.EditorContent,when:t}})}async run(e){const t=e.get(N.AR).activeTextEditorControl;(0,u.CL)(t)&&t.getContribution(s.S_)?.showDefineKeybindingWidget()}}))};i(),this._register(this.userDataProfileService.onDidChangeCurrentProfile((()=>i())))}updatePreferencesEditorMenuItem(){const e="_workbench.openWorkspaceSettingsEditor";3!==this.workspaceContextService.getWorkbenchState()||je.P.getCommand(e)||(je.P.registerCommand(e,(()=>this.preferencesService.openWorkspaceSettings({jsonEditor:!1}))),F.BH.appendMenuItem(F.eH.EditorTitle,{command:{id:e,title:Wo,icon:At},when:Ge.Ao.and(Xe.f1.Resource.isEqualTo(this.preferencesService.workspaceSettingsResource.toString()),Xe.hX.isEqualTo("workspace"),Ge.Ao.not("isInDiffEditor")),group:"navigation",order:1})),this.updatePreferencesEditorMenuItemForWorkspaceFolders()}updatePreferencesEditorMenuItemForWorkspaceFolders(){for(const e of this.workspaceContextService.getWorkspace().folders){const t=`_workbench.openFolderSettings.${e.uri.toString()}`;je.P.getCommand(t)||(je.P.registerCommand(t,(()=>2===this.workspaceContextService.getWorkbenchState()?this.preferencesService.openWorkspaceSettings({jsonEditor:!1}):this.preferencesService.openFolderSettings({folderUri:e.uri,jsonEditor:!1}))),F.BH.appendMenuItem(F.eH.EditorTitle,{command:{id:t,title:Wo,icon:At},when:Ge.Ao.and(Xe.f1.Resource.isEqualTo(this.preferencesService.getFolderSettingsResource(e.uri).toString()),Ge.Ao.not("isInDiffEditor")),group:"navigation",order:1}))}}};Vo=(0,o.g)([(0,o.f)(0,Ot.n),(0,o.f)(1,Le.AP),(0,o.f)(2,s.UP),(0,o.f)(3,E.ec),(0,o.f)(4,C.e),(0,o.f)(5,H.QS),(0,o.f)(6,De.lv)],Vo);const Uo=x.B.as(Qe.I.Workbench);function Ho(){return{[s.UP.toString()]:new n.M(Ne,[],!0),[Me.eO.toString()]:new n.M(We,[],!0),[Ke.U.toString()]:new n.M(Ke.O,[],!0)}}Uo.registerWorkbenchContribution(Vo,1),Uo.registerWorkbenchContribution(Oo,1),(0,Ue._K)(Qi.ID,Qi,1)},19882:(e,t,i)=>{i.d(t,{C:()=>o});var n=i(65321),s=i(56811);class o{constructor(e){this._container=e}set text(e){(0,n.mc)(this._container,...(0,s.T)(e??""))}set title(e){this._container.title=e}}},20871:(e,t,i)=>{i.d(t,{rv:()=>v,th:()=>w});var n=i(80855),s=i(93794),o=i(65520),r=i(4669),a=i(91847),c=i(65321),d=i(73910),l=i(72065),g=i(5976),h=i(95935),u=i(24448),p=i(71083),m=i(84144),b=i(60961),f=i(93983),y=i(84527);let v=class e extends g.JT{constructor(e){super(),this.editorService=e,this._onHighlightRemoved=this._register(new r.Q5),this.onHighlightRemoved=this._onHighlightRemoved.event,this.rangeHighlightDecorationId=null,this.editor=null,this.editorDisposables=this._register(new g.SL)}removeHighlightRange(){if(this.editor&&this.rangeHighlightDecorationId){const e=this.rangeHighlightDecorationId;this.editor.changeDecorations((t=>{t.removeDecoration(e)})),this._onHighlightRemoved.fire()}this.rangeHighlightDecorationId=null}highlightRange(e,t){t=t??this.getEditor(e),(0,o.CL)(t)?this.doHighlightRange(t,e):(0,o.sd)(t)&&(0,o.CL)(t.activeCodeEditor)&&this.doHighlightRange(t.activeCodeEditor,e)}doHighlightRange(e,t){this.removeHighlightRange(),e.changeDecorations((e=>{this.rangeHighlightDecorationId=e.addDecoration(t.range,this.createRangeHighlightDecoration(t.isWholeLine))})),this.setEditor(e)}getEditor(e){const t=this.editorService.activeEditor?.resource;if(t&&(0,h.Xy)(t,e.resource)&&(0,o.CL)(this.editorService.activeTextEditorControl))return this.editorService.activeTextEditorControl}setEditor(e){this.editor!==e&&(this.editorDisposables.clear(),this.editor=e,this.editorDisposables.add(this.editor.onDidChangeCursorPosition((e=>{0!==e.reason&&3!==e.reason&&5!==e.reason&&6!==e.reason||this.removeHighlightRange()}))),this.editorDisposables.add(this.editor.onDidChangeModel((()=>{this.removeHighlightRange()}))),this.editorDisposables.add(this.editor.onDidDispose((()=>{this.removeHighlightRange(),this.editor=null}))))}static{this._WHOLE_LINE_RANGE_HIGHLIGHT=p.qx.register({description:"codeeditor-range-highlight-whole",stickiness:1,className:"rangeHighlight",isWholeLine:!0})}static{this._RANGE_HIGHLIGHT=p.qx.register({description:"codeeditor-range-highlight",stickiness:1,className:"rangeHighlight"})}createRangeHighlightDecoration(t=!0){return t?e._WHOLE_LINE_RANGE_HIGHLIGHT:e._RANGE_HIGHLIGHT}dispose(){super.dispose(),this.editor?.getModel()&&(this.removeHighlightRange(),this.editor=null)}};v=(0,n.g)([(0,n.f)(0,u.AR)],v);let S=class extends s.${constructor(e,t,i,n){if(super(),this.editor=e,this.label=t,this._onClick=this._register(new r.Q5),this.onClick=this._onClick.event,this._domNode=(0,c.$)(".floating-click-widget"),this._domNode.style.padding="6px 11px",this._domNode.style.borderRadius="2px",this._domNode.style.cursor="pointer",this._domNode.style.zIndex="1",i){const e=n.lookupKeybinding(i);e&&(this.label+=` (${e.getLabel()})`)}}getId(){return"editor.overlayWidget.floatingClickWidget"}getDomNode(){return this._domNode}getPosition(){return{preference:1}}render(){(0,c.PO)(this._domNode),this._domNode.style.backgroundColor=(0,d.BtC)(d.b7$,(0,d.n_1)(d.cvW)),this._domNode.style.color=(0,d.BtC)(d.j5u,(0,d.n_1)(d.NOs)),this._domNode.style.border=`1px solid ${(0,d.n_1)(d.lRK)}`,(0,c.R3)(this._domNode,(0,c.$)("")).textContent=this.label,this.onclick(this._domNode,(e=>this._onClick.fire())),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}};S=(0,n.g)([(0,n.f)(3,a.d)],S);let w=class extends g.JT{static{this.ID="editor.contrib.floatingClickMenu"}constructor(e,t,i,n){if(super(),!(e instanceof y.Hn)){const s=i.createMenu(m.eH.EditorContent,n),o=new g.SL,r=()=>{if(o.clear(),!e.hasModel()||e.getOption(60))return;const i=[];if((0,b.vr)(s,{renderShortTitle:!0,shouldForwardArgs:!0},i),0===i.length)return;const[n]=i,r=t.createInstance(S,e,n.label,n.id);o.add(r),o.add(r.onClick((()=>n.run(e.getModel().uri)))),r.render()};this._store.add(s),this._store.add(o),this._store.add(s.onDidChange(r)),r()}}};w=(0,n.g)([(0,n.f)(1,l.TG),(0,n.f)(2,m.co),(0,n.f)(3,f.i6)],w)},12427:(e,t,i)=>{i.d(t,{r:()=>d});var n=i(97781),s=i(88550),o=i(1432),r=i(65321),a=i(16268),c=i(73910);(0,n.Ic)(((e,t)=>{const i=(0,s.Xp)(e);t.addRule(`.monaco-workbench { background-color: ${i}; }`);const n=e.getColor(c.TBF);if(n&&t.addRule(`.monaco-workbench ::selection { background-color: ${n}; }`),o.$L){const t=e.getColor(s.Z1);if(t){const e="monaco-workbench-meta-theme-color";let i=document.getElementById(e);i||(i=(0,r.wL)(),i.name="theme-color",i.id=e),i.content=t.toString()}}a.G6&&t.addRule("\n\t\t\tbody.web {\n\t\t\t\ttouch-action: none;\n\t\t\t}\n\t\t\t.monaco-workbench .monaco-editor .view-lines {\n\t\t\t\tuser-select: text;\n\t\t\t\t-webkit-user-select: text;\n\t\t\t}\n\t\t"),o.gn&&(0,a.$W)()&&t.addRule(`body { background-color: ${i}; }`)}));const d=o.ED?'"Segoe WPC", "Segoe UI", sans-serif':o.dz?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif'},10469:(e,t,i)=>{i.d(t,{$S:()=>c,A6:()=>E,Bf:()=>x,FG:()=>_,G:()=>w,Nj:()=>o,Nr:()=>b,QN:()=>k,ao:()=>C,at:()=>g,eS:()=>f,eZ:()=>v,ec:()=>S,ek:()=>L,el:()=>I,iF:()=>T,kd:()=>a,l3:()=>r,li:()=>m,nT:()=>l,oL:()=>h,p7:()=>u,qz:()=>y,v7:()=>d,yY:()=>p});var n=i(33108),s=i(72065);const o=".vscode",r="settings",a=`${o}/${r}.json`,c="vscode://schemas/settings/default",d="vscode://schemas/settings/user",l="vscode://schemas/settings/profile",g="vscode://schemas/settings/machine",h="vscode://schemas/settings/workspace",u="vscode://schemas/settings/folder",p="vscode://schemas/launch",m="vscode://schemas/tasks",b=[1],f=[2,3,4,5,6],y=[3,4,5],v=[1,...y],S=[2,3,4,5,6],w=[3,4,5,6],C=[4,5,6],k="tasks",x="launch",E=Object.create(null);E[k]=`${o}/${k}.json`,E[x]=`${o}/${x}.json`;const I=Object.create(null);I[k]=`${k}.json`;const _=(0,s.LO)(n.Ui),T='{\n\t"version": "2.0.0",\n\t"tasks": []\n}',L="workbench.settings.applyToAllProfiles"},66135:(e,t,i)=>{i.d(t,{g:()=>a});var n=i(94565),s=i(9488),o=i(16830),r=i(84144);function a(e){const t=[],i=new Map,a=(o,r)=>{if(!i.has(o)&&(i.set(o,!0),"_"!==o[0]&&0!==o.indexOf("vscode.")&&!0!==e.get(o))){if(!r){const e=n.P.getCommand(o);if(e&&"object"==typeof e.description&&(0,s.Of)(e.description.args))return}t.push(o)}};for(const e of r.BH.getMenuItems(r.eH.CommandPalette))(0,r.vr)(e)&&a(e.command.id,!0);for(const e of o.Uc.getEditorActions())a(e.id,!0);for(const e of n.P.getCommands().keys())a(e,!1);return t}}}]);
//# sourceMappingURL=615.bundle.js.map