"use strict";(self.webpackChunkmonaco_custom_bundle=self.webpackChunkmonaco_custom_bundle||[]).push([[708],{93039:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(87537),n=o.n(i),r=o(23645),s=o.n(r)()(n());s.push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tbox-sizing: border-box;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover:not(.disabled) {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: var(--hover-maxWidth, 500px);\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul,\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tmargin: 8px 0;\n}\n\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tline-height: 1.1;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .info {\n\tfont-style: italic;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-hover .hover-contents a.code-link > span:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n","",{version:3,sources:["webpack://./node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hover.css"],names:[],mappings:"AAAA;;;+FAG+F;;AAE/F;CACC,eAAe;CACf,kBAAkB;CAClB,gBAAgB;CAChB,iBAAiB;CACjB,yBAAyB;CACzB,sBAAsB;CACtB,8BAA8B;CAC9B,kBAAkB;AACnB;;AAEA;CACC,aAAa;AACd;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,gBAAgB;AACjB;;AAEA;CACC,uCAAuC;CACvC,qBAAqB;AACtB;;AAEA;CACC,eAAe;AAChB;;AAEA;;;;;;;;;CASC,aAAa;AACd;;AAEA;;;;;;CAMC,gBAAgB;AACjB;;AAEA;CACC,yCAAyC;AAC1C;;AAEA;CACC,sBAAsB;CACtB,gBAAgB;CAChB,iBAAiB;CACjB,eAAe;CACf,mBAAmB;CACnB,iBAAiB;CACjB,kBAAkB;CAClB,WAAW;AACZ;;AAEA;;;CAGC,aAAa;AACd;;AAEA;;;CAGC,gBAAgB;AACjB;;AAEA,yBAAyB;AACzB;CACC,kBAAkB;AACnB;AACA;CACC,kBAAkB;AACnB;;AAEA;CACC,gBAAgB;AACjB;;AAEA;CACC,aAAa;AACd;;AAEA;CACC,kBAAkB;CAClB,gBAAgB;AACjB;;AAEA;CACC,qBAAqB;AACtB;;AAEA;CACC,eAAe;CACf,iBAAiB;AAClB;;AAEA;CACC,kBAAkB;CAClB,gBAAgB;AACjB;;AAEA;CACC,aAAa;CACb,gBAAgB;AACjB;;AAEA;CACC,kBAAkB;CAClB,eAAe;AAChB;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,cAAc;CACd,kBAAkB;CAClB,sBAAsB;AACvB;;AAEA;;CAEC,cAAc;AACf;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,0BAA0B;CAC1B,sCAAsC;CACtC,oCAAoC;CACpC,8BAA8B;CAC9B,wCAAwC;AACzC;;AAEA;CACC,8CAA8C;AAC/C;;AAEA,gIAAgI;AAChI;CACC,kBAAkB;CAClB,qBAAqB;AACtB;;AAEA;CACC,yBAAyB;CACzB,iBAAiB;AAClB;;AAEA;CACC,oBAAoB;CACpB,YAAY;CACZ,eAAe;AAChB",sourcesContent:["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tbox-sizing: border-box;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover:not(.disabled) {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: var(--hover-maxWidth, 500px);\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul,\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tmargin: 8px 0;\n}\n\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tline-height: 1.1;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .info {\n\tfont-style: italic;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-hover .hover-contents a.code-link > span:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n"],sourceRoot:""}]);const a=s},35351:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(87537),n=o.n(i),r=o(23645),s=o.n(r)()(n());s.push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n","",{version:3,sources:["webpack://./node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/media/gotoErrorWidget.css"],names:[],mappings:"AAAA;;;+FAG+F;;AAE/F,gBAAgB;;AAEhB;CACC,qBAAqB;CACrB,wBAAwB;CACxB,iBAAiB;AAClB;;AAEA;CACC,uBAAuB;CACvB,mBAAmB;AACpB;;AAEA;CACC,YAAY;CACZ,kBAAkB;AACnB;;AAEA;CACC,qBAAqB;CACrB,kBAAkB;AACnB;;AAEA;CACC,kBAAkB;CAClB,gBAAgB;CAChB,iBAAiB;CACjB,yBAAyB;CACzB,wBAAwB;AACzB;;AAEA;CACC,aAAa;CACb,sBAAsB;AACvB;;AAEA;CACC,iBAAiB;AAClB;;AAEA;;CAEC,YAAY;AACb;;AAEA;CACC,YAAY;CACZ,cAAc;AACf;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,0BAA0B;CAC1B,sCAAsC;CACtC,oCAAoC;CACpC,8BAA8B;CAC9B,wCAAwC;AACzC;;AAEA;CACC,8CAA8C;AAC/C;;AAEA;CACC,eAAe;AAChB",sourcesContent:["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n"],sourceRoot:""}]);const a=s},33257:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(87537),n=o.n(i),r=o(23645),s=o.n(r)()(n());s.push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n","",{version:3,sources:["webpack://./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.css"],names:[],mappings:"AAAA;;;+FAG+F;;AAE/F;CACC,0BAA0B;CAC1B,eAAe;CACf,2DAA2D;AAC5D",sourcesContent:["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n"],sourceRoot:""}]);const a=s},41738:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(87537),n=o.n(i),r=o(23645),s=o.n(r)()(n());s.push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .hoverHighlight {\n\tbackground-color: var(--vscode-editor-hoverHighlightBackground);\n}\n\n.monaco-editor .monaco-hover {\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n\tborder-radius: 3px;\n}\n\n.monaco-editor .monaco-hover a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .monaco-hover a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .monaco-hover .hover-row .actions {\n\tbackground-color: var(--vscode-editorHoverWidget-statusBarBackground);\n}\n\n.monaco-editor .monaco-hover code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n\n","",{version:3,sources:["webpack://./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hover.css"],names:[],mappings:"AAAA;;;+FAG+F;;AAE/F;CACC,+DAA+D;AAChE;;AAEA;CACC,iDAAiD;CACjD,4DAA4D;CAC5D,wDAAwD;CACxD,kBAAkB;AACnB;;AAEA;CACC,wCAAwC;AACzC;;AAEA;CACC,8CAA8C;AAC/C;;AAEA;CACC,qEAAqE;AACtE;;AAEA;CACC,wDAAwD;AACzD",sourcesContent:["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .hoverHighlight {\n\tbackground-color: var(--vscode-editor-hoverHighlightBackground);\n}\n\n.monaco-editor .monaco-hover {\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n\tborder-radius: 3px;\n}\n\n.monaco-editor .monaco-hover a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .monaco-hover a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .monaco-hover .hover-row .actions {\n\tbackground-color: var(--vscode-editorHoverWidget-statusBarBackground);\n}\n\n.monaco-editor .monaco-hover code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n\n"],sourceRoot:""}]);const a=s},28300:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(87537),n=o.n(i),r=o(23645),s=o.n(r)()(n());s.push([e.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inlineSuggestionsHints.withBorder {\n\tz-index: 39;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .inlineSuggestionsHints a {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints a:hover {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\topacity: 0.6;\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding .monaco-keybinding-key {\n\tfont-size: 8px;\n\tpadding: 2px 3px;\n}\n\n.monaco-editor .inlineSuggestionsHints .custom-actions .action-item:nth-child(2) a {\n\tdisplay: flex;\n\tmin-width: 19px;\n\tjustify-content: center;\n}\n\n.monaco-editor .inlineSuggestionStatusBarItemLabel {\n\tmargin-right: 2px;\n}\n","",{version:3,sources:["webpack://./node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget.css"],names:[],mappings:"AAAA;;;+FAG+F;;AAE/F;CACC,WAAW;CACX,iDAAiD;CACjD,4DAA4D;CAC5D,wDAAwD;AACzD;;AAEA;CACC,+BAA+B;AAChC;;AAEA;CACC,+BAA+B;AAChC;;AAEA;CACC,aAAa;CACb,gBAAgB;CAChB,YAAY;AACb;;AAEA;CACC,cAAc;CACd,gBAAgB;AACjB;;AAEA;CACC,aAAa;CACb,eAAe;CACf,uBAAuB;AACxB;;AAEA;CACC,iBAAiB;AAClB",sourcesContent:["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inlineSuggestionsHints.withBorder {\n\tz-index: 39;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .inlineSuggestionsHints a {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints a:hover {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\topacity: 0.6;\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding .monaco-keybinding-key {\n\tfont-size: 8px;\n\tpadding: 2px 3px;\n}\n\n.monaco-editor .inlineSuggestionsHints .custom-actions .action-item:nth-child(2) a {\n\tdisplay: flex;\n\tmin-width: 19px;\n\tjustify-content: center;\n}\n\n.monaco-editor .inlineSuggestionStatusBarItemLabel {\n\tmargin-right: 2px;\n}\n"],sourceRoot:""}]);const a=s},82246:(e,t,o)=>{o.d(t,{S:()=>w,c:()=>y});var i=o(65321),n=o(59069),r=o(64117),s=o(5976),a=o(93379),c=o.n(a),d=o(7795),l=o.n(d),h=o(90569),u=o.n(h),g=o(3565),p=o.n(g),m=o(19216),v=o.n(m),_=o(44589),f=o.n(_),C=o(93039),A={};A.styleTagTransform=f(),A.setAttributes=p(),A.insert=u().bind(null,"head"),A.domAPI=l(),A.insertStyleElement=v(),c()(C.Z,A),C.Z&&C.Z.locals&&C.Z.locals;const b=i.$;class y extends s.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new r.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class w extends s.JT{static render(e,t,o){return new w(e,t,o)}constructor(e,t,o){super(),this.actionContainer=i.R3(e,b("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=i.R3(this.actionContainer,b("a.action")),this.action.setAttribute("role","button"),t.iconClass&&i.R3(this.action,b(`span.icon.${t.iconClass}`)),i.R3(this.action,b("span")).textContent=o?`${t.label} (${o})`:t.label,this._register(i.nm(this.actionContainer,i.tw.CLICK,(e=>{e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer)}))),this._register(i.nm(this.actionContainer,i.tw.KEY_DOWN,(e=>{const o=new n.y1(e);(o.equals(3)||o.equals(10))&&(e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer))}))),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}},23708:(e,t,o)=>{o.d(t,{E:()=>zo});var i=o(22258),n=o(5976),r=o(16830),s=o(24314),a=o(29102),c=o(72042),d=o(15393),l=o(17301),h=o(59365),u=o(98401),g=o(93379),p=o.n(g),m=o(7795),v=o.n(m),_=o(90569),f=o.n(_),C=o(3565),A=o.n(C),b=o(19216),y=o.n(b),w=o(44589),k=o.n(w),x=o(33257),D={};D.styleTagTransform=k(),D.setAttributes=A(),D.insert=f().bind(null,"head"),D.domAPI=v(),D.insertStyleElement=y(),p()(x.Z,D),x.Z&&x.Z.locals&&x.Z.locals;var S=o(16467),M=o(88216),N=o(4669),P=o(1432);function B(e,t){return!!e[t]}class I{constructor(e,t){this.target=e.target,this.isLeftClick=e.event.leftButton,this.isMiddleClick=e.event.middleButton,this.isRightClick=e.event.rightButton,this.hasTriggerModifier=B(e.event,t.triggerModifier),this.hasSideBySideModifier=B(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class L{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=B(e,t.triggerModifier)}}class T{constructor(e,t,o,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=o,this.triggerSideBySideModifier=i}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function E(e){return"altKey"===e?P.dz?new T(57,"metaKey",6,"altKey"):new T(5,"ctrlKey",6,"altKey"):P.dz?new T(6,"altKey",57,"metaKey"):new T(6,"altKey",5,"ctrlKey")}class R extends n.JT{constructor(e,t){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new N.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new N.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new N.Q5),this.onCancel=this._onCancel.event,this._editor=e,this._alwaysFireExecuteOnMouseUp=t,this._opts=E(this._editor.getOption(76)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration((e=>{if(e.hasChanged(76)){const e=E(this._editor.getOption(76));if(this._opts.equals(e))return;this._opts=e,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}}))),this._register(this._editor.onMouseMove((e=>this._onEditorMouseMove(new I(e,this._opts))))),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(new I(e,this._opts))))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(new I(e,this._opts))))),this._register(this._editor.onKeyDown((e=>this._onEditorKeyDown(new L(e,this._opts))))),this._register(this._editor.onKeyUp((e=>this._onEditorKeyUp(new L(e,this._opts))))),this._register(this._editor.onMouseDrag((()=>this._resetHandler()))),this._register(this._editor.onDidChangeCursorSelection((e=>this._onDidChangeCursorSelection(e)))),this._register(this._editor.onDidChangeModel((e=>this._resetHandler()))),this._register(this._editor.onDidChangeModelContent((()=>this._resetHandler()))),this._register(this._editor.onDidScrollChange((e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()})))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var H=o(52187),W=o(63580),O=o(93983),F=o(56346),K=o(70666),z=o(65520),U=o(11640),G=o(84527),V=o(50187),j=o(96887),Z=o(88802),$=o(1293),q=o(95935),Q=o(65026),Y=o(72065),J=o(91847),X=o(49989),ee=o(59422),te=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oe=function(e,t){return function(o,i){t(o,i,e)}};const ie=new O.uy("hasSymbols",!1,(0,W.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),ne=(0,Y.yh)("ISymbolNavigationService");let re=class{constructor(e,t,o,i){this._editorService=t,this._notificationService=o,this._keybindingService=i,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=ie.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const o=new se(this._editorService),i=o.onDidChange((e=>{if(this._ignoreEditorChange)return;const o=this._editorService.getActiveCodeEditor();if(!o)return;const i=o.getModel(),n=o.getPosition();if(!i||!n)return;let r=!1,a=!1;for(const e of t.references)if((0,q.Xy)(e.uri,i.uri))r=!0,a=a||s.e.containsPosition(e.range,n);else if(r)break;r&&a||this.reset()}));this._currentState=(0,n.F8)(o,i)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:s.e.collapseToStart(t.range),selectionRevealType:3}},e).finally((()=>{this._ignoreEditorChange=!1}))}_showMessage(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=t?(0,W.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,W.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};re=te([oe(0,O.i6),oe(1,U.$),oe(2,ee.lT),oe(3,J.d)],re),(0,Q.z)(ne,re,1),(0,r.fK)(new class extends r._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:ie,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,t){return e.get(ne).revealNext(t)}}),X.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:ie,primary:9,handler(e){e.get(ne).reset()}});let se=class{constructor(e){this._listener=new Map,this._disposables=new n.SL,this._onDidChange=new N.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,n.B9)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,(0,n.F8)(e.onDidChangeCursorPosition((t=>this._onDidChange.fire({editor:e}))),e.onDidChangeModelContent((t=>this._onDidChange.fire({editor:e})))))}_onDidRemoveEditor(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}};se=te([oe(0,U.$)],se);var ae=o(39310),ce=o(84144),de=o(94565),le=o(90535),he=o(9488),ue=o(71050),ge=o(71922),pe=function(e,t,o,i){return new(o||(o=Promise))((function(n,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};function me(e,t,o,i){return pe(this,void 0,void 0,(function*(){const n=o.ordered(e).map((o=>Promise.resolve(i(o,e,t)).then(void 0,(e=>{(0,l.Cp)(e)})))),r=yield Promise.all(n);return(0,he.kX)(r.flat())}))}function ve(e,t,o,i){return me(t,o,e,((e,t,o)=>e.provideDefinition(t,o,i)))}function _e(e,t,o,i){return me(t,o,e,((e,t,o)=>e.provideDeclaration(t,o,i)))}function fe(e,t,o,i){return me(t,o,e,((e,t,o)=>e.provideImplementation(t,o,i)))}function Ce(e,t,o,i){return me(t,o,e,((e,t,o)=>e.provideTypeDefinition(t,o,i)))}function Ae(e,t,o,i,n){return me(t,o,e,((e,t,o)=>pe(this,void 0,void 0,(function*(){const r=yield e.provideReferences(t,o,{includeDeclaration:!0},n);if(!i||!r||2!==r.length)return r;const s=yield e.provideReferences(t,o,{includeDeclaration:!1},n);return s&&1===s.length?s:r}))))}function be(e){return pe(this,void 0,void 0,(function*(){const t=yield e(),o=new $.oQ(t,""),i=o.references.map((e=>e.link));return o.dispose(),i}))}(0,r.sb)("_executeDefinitionProvider",((e,t,o)=>{const i=ve(e.get(ge.p).definitionProvider,t,o,ue.T.None);return be((()=>i))})),(0,r.sb)("_executeTypeDefinitionProvider",((e,t,o)=>{const i=Ce(e.get(ge.p).typeDefinitionProvider,t,o,ue.T.None);return be((()=>i))})),(0,r.sb)("_executeDeclarationProvider",((e,t,o)=>{const i=_e(e.get(ge.p).declarationProvider,t,o,ue.T.None);return be((()=>i))})),(0,r.sb)("_executeReferenceProvider",((e,t,o)=>{const i=Ae(e.get(ge.p).referenceProvider,t,o,!1,ue.T.None);return be((()=>i))})),(0,r.sb)("_executeImplementationProvider",((e,t,o)=>{const i=fe(e.get(ge.p).implementationProvider,t,o,ue.T.None);return be((()=>i))}));var ye,we,ke,xe,De,Se,Me,Ne,Pe=o(53725),Be=o(39282),Ie=function(e,t,o,i){return new(o||(o=Promise))((function(n,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};ce.BH.appendMenuItem(ce.eH.EditorContext,{submenu:ce.eH.EditorContextPeek,title:W.NC("peek.submenu","Peek"),group:"navigation",order:100});class Le{static is(e){return!(!e||"object"!=typeof e)&&(e instanceof Le||!(!V.L.isIPosition(e.position)||!e.model))}constructor(e,t){this.model=e,this.position=t}}class Te extends r.x1{static all(){return Te._allSymbolNavigationCommands.values()}static _patchConfig(e){const t=Object.assign(Object.assign({},e),{f1:!0});if(t.menu)for(const o of Pe.$.wrap(t.menu))o.id!==ce.eH.EditorContext&&o.id!==ce.eH.EditorContextPeek||(o.when=O.Ao.and(e.precondition,o.when));return t}constructor(e,t){super(Te._patchConfig(t)),this.configuration=e,Te._allSymbolNavigationCommands.set(t.id,this)}runEditorCommand(e,t,o,i){if(!t.hasModel())return Promise.resolve(void 0);const n=e.get(ee.lT),r=e.get(U.$),s=e.get(le.ek),a=e.get(ne),c=e.get(ge.p),l=e.get(Y.TG),h=t.getModel(),u=t.getPosition(),g=Le.is(o)?o:new Le(h,u),p=new S.Dl(t,5),m=(0,d.eP)(this._getLocationModel(c,g.model,g.position,p.token),p.token).then((e=>Ie(this,void 0,void 0,(function*(){var n;if(!e||p.token.isCancellationRequested)return;let s;if((0,F.Z9)(e.ariaMessage),e.referenceAt(h.uri,u)){const e=this._getAlternativeCommand(t);!Te._activeAlternativeCommands.has(e)&&Te._allSymbolNavigationCommands.has(e)&&(s=Te._allSymbolNavigationCommands.get(e))}const c=e.references.length;if(0===c){if(!this.configuration.muteMessage){const e=h.getWordAtPosition(u);null===(n=ae.O.get(t))||void 0===n||n.showMessage(this._getNoResultFoundMessage(e),u)}}else{if(1!==c||!s)return this._onResult(r,a,t,e,i);Te._activeAlternativeCommands.add(this.desc.id),l.invokeFunction((e=>s.runEditorCommand(e,t,o,i).finally((()=>{Te._activeAlternativeCommands.delete(this.desc.id)}))))}}))),(e=>{n.error(e)})).finally((()=>{p.dispose()}));return s.showWhile(m,250),m}_onResult(e,t,o,i,n){return Ie(this,void 0,void 0,(function*(){const r=this._getGoToPreference(o);if(o instanceof G.Hn||!(this.configuration.openInPeek||"peek"===r&&i.references.length>1)){const s=i.firstReference(),a=i.references.length>1&&"gotoAndPeek"===r,c=yield this._openReference(o,e,s,this.configuration.openToSide,!a);a&&c?this._openInPeek(c,i,n):i.dispose(),"goto"===r&&t.put(s)}else this._openInPeek(o,i,n)}))}_openReference(e,t,o,i,n){return Ie(this,void 0,void 0,(function*(){let r;if((0,j.vx)(o)&&(r=o.targetSelectionRange),r||(r=o.range),!r)return;const a=yield t.openCodeEditor({resource:o.uri,options:{selection:s.e.collapseToStart(r),selectionRevealType:3,selectionSource:"code.jump"}},e,i);if(a){if(n){const e=a.getModel(),t=a.createDecorationsCollection([{range:r,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout((()=>{a.getModel()===e&&t.clear()}),350)}return a}}))}_openInPeek(e,t,o){const i=Z.J.get(e);i&&e.hasModel()?i.toggleWidget(null!=o?o:e.getSelection(),(0,d.PG)((e=>Promise.resolve(t))),this.configuration.openInPeek):t.dispose()}}Te._allSymbolNavigationCommands=new Map,Te._activeAlternativeCommands=new Set;class Ee extends Te{_getLocationModel(e,t,o,i){return Ie(this,void 0,void 0,(function*(){return new $.oQ(yield ve(e.definitionProvider,t,o,i),W.NC("def.title","Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?W.NC("noResultWord","No definition found for '{0}'",e.word):W.NC("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(57).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(57).multipleDefinitions}}(0,ce.r1)(((ye=class e extends Ee{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:W.NC("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:W.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:O.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:a.u.editorTextFocus,primary:70,weight:100},{when:O.Ao.and(a.u.editorTextFocus,Be.Pf),primary:2118,weight:100}],menu:[{id:ce.eH.EditorContext,group:"navigation",order:1.1},{id:ce.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),de.P.registerCommandAlias("editor.action.goToDeclaration",e.id)}}).id="editor.action.revealDefinition",ye)),(0,ce.r1)(((we=class e extends Ee{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:W.NC("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:O.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:a.u.editorTextFocus,primary:(0,i.gx)(2089,70),weight:100},{when:O.Ao.and(a.u.editorTextFocus,Be.Pf),primary:(0,i.gx)(2089,2118),weight:100}]}),de.P.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}}).id="editor.action.revealDefinitionAside",we)),(0,ce.r1)(((ke=class e extends Ee{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,title:{value:W.NC("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:O.Ao.and(a.u.hasDefinitionProvider,H.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:ce.eH.EditorContextPeek,group:"peek",order:2}}),de.P.registerCommandAlias("editor.action.previewDeclaration",e.id)}}).id="editor.action.peekDefinition",ke));class Re extends Te{_getLocationModel(e,t,o,i){return Ie(this,void 0,void 0,(function*(){return new $.oQ(yield _e(e.declarationProvider,t,o,i),W.NC("decl.title","Declarations"))}))}_getNoResultFoundMessage(e){return e&&e.word?W.NC("decl.noResultWord","No declaration found for '{0}'",e.word):W.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(57).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(57).multipleDeclarations}}(0,ce.r1)(((xe=class e extends Re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:W.NC("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:W.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:O.Ao.and(a.u.hasDeclarationProvider,a.u.isInWalkThroughSnippet.toNegated()),menu:[{id:ce.eH.EditorContext,group:"navigation",order:1.3},{id:ce.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(e){return e&&e.word?W.NC("decl.noResultWord","No declaration found for '{0}'",e.word):W.NC("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",xe)),(0,ce.r1)(class extends Re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:W.NC("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:O.Ao.and(a.u.hasDeclarationProvider,H.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),menu:{id:ce.eH.EditorContextPeek,group:"peek",order:3}})}});class He extends Te{_getLocationModel(e,t,o,i){return Ie(this,void 0,void 0,(function*(){return new $.oQ(yield Ce(e.typeDefinitionProvider,t,o,i),W.NC("typedef.title","Type Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?W.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):W.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(57).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(57).multipleTypeDefinitions}}(0,ce.r1)(((De=class e extends He{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{value:W.NC("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:W.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:O.Ao.and(a.u.hasTypeDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:0,weight:100},menu:[{id:ce.eH.EditorContext,group:"navigation",order:1.4},{id:ce.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}}).ID="editor.action.goToTypeDefinition",De)),(0,ce.r1)(((Se=class e extends He{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:{value:W.NC("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:O.Ao.and(a.u.hasTypeDefinitionProvider,H.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),menu:{id:ce.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",Se));class We extends Te{_getLocationModel(e,t,o,i){return Ie(this,void 0,void 0,(function*(){return new $.oQ(yield fe(e.implementationProvider,t,o,i),W.NC("impl.title","Implementations"))}))}_getNoResultFoundMessage(e){return e&&e.word?W.NC("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):W.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(57).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(57).multipleImplementations}}(0,ce.r1)(((Me=class e extends We{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{value:W.NC("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:W.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:O.Ao.and(a.u.hasImplementationProvider,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:2118,weight:100},menu:[{id:ce.eH.EditorContext,group:"navigation",order:1.45},{id:ce.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}}).ID="editor.action.goToImplementation",Me)),(0,ce.r1)(((Ne=class e extends We{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:{value:W.NC("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:O.Ao.and(a.u.hasImplementationProvider,H.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:3142,weight:100},menu:{id:ce.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",Ne));class Oe extends Te{_getNoResultFoundMessage(e){return e?W.NC("references.no","No references found for '{0}'",e.word):W.NC("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(57).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(57).multipleReferences}}(0,ce.r1)(class extends Oe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:W.NC("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:W.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:O.Ao.and(a.u.hasReferenceProvider,H.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:1094,weight:100},menu:[{id:ce.eH.EditorContext,group:"navigation",order:1.45},{id:ce.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(e,t,o,i){return Ie(this,void 0,void 0,(function*(){return new $.oQ(yield Ae(e.referenceProvider,t,o,!0,i),W.NC("ref.title","References"))}))}}),(0,ce.r1)(class extends Oe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:W.NC("references.action.label","Peek References"),original:"Peek References"},precondition:O.Ao.and(a.u.hasReferenceProvider,H.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),menu:{id:ce.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,o,i){return Ie(this,void 0,void 0,(function*(){return new $.oQ(yield Ae(e.referenceProvider,t,o,!1,i),W.NC("ref.title","References"))}))}});class Fe extends Te{constructor(e,t,o){super(e,{id:"editor.action.goToLocation",title:{value:W.NC("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:O.Ao.and(H.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=o}_getLocationModel(e,t,o,i){return Ie(this,void 0,void 0,(function*(){return new $.oQ(this._references,W.NC("generic.title","Locations"))}))}_getNoResultFoundMessage(e){return e&&W.NC("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(57).multipleReferences}_getAlternativeCommand(){return""}}de.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:K.ov},{name:"position",description:"The position at which to start",constraint:V.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,t,o,i,n,r,s)=>Ie(void 0,void 0,void 0,(function*(){(0,u.p_)(K.ov.isUri(t)),(0,u.p_)(V.L.isIPosition(o)),(0,u.p_)(Array.isArray(i)),(0,u.p_)(void 0===n||"string"==typeof n),(0,u.p_)(void 0===s||"boolean"==typeof s);const a=e.get(U.$),c=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if((0,z.CL)(c))return c.setPosition(o),c.revealPositionInCenterIfOutsideViewport(o,0),c.invokeWithinContext((e=>{const t=new class extends Fe{_getNoResultFoundMessage(e){return r||super._getNoResultFoundMessage(e)}}({muteMessage:!Boolean(r),openInPeek:Boolean(s),openToSide:!1},i,n);e.get(Y.TG).invokeFunction(t.run.bind(t),c)}))}))}),de.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:K.ov},{name:"position",description:"The position at which to start",constraint:V.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,t,o,i,n)=>Ie(void 0,void 0,void 0,(function*(){e.get(de.H).executeCommand("editor.action.goToLocations",t,o,i,n,void 0,!0)}))}),de.P.registerCommand({id:"editor.action.findReferences",handler:(e,t,o)=>{(0,u.p_)(K.ov.isUri(t)),(0,u.p_)(V.L.isIPosition(o));const i=e.get(ge.p),n=e.get(U.$);return n.openCodeEditor({resource:t},n.getFocusedCodeEditor()).then((e=>{if(!(0,z.CL)(e)||!e.hasModel())return;const t=Z.J.get(e);if(!t)return;const n=(0,d.PG)((t=>Ae(i.referenceProvider,e.getModel(),V.L.lift(o),!1,t).then((e=>new $.oQ(e,W.NC("ref.title","References")))))),r=new s.e(o.lineNumber,o.column,o.lineNumber,o.column);return Promise.resolve(t.toggleWidget(r,n,!1))}))}}),de.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var Ke=o(71083),ze=function(e,t){return function(o,i){t(o,i,e)}},Ue=function(e,t,o,i){return new(o||(o=Promise))((function(n,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};let Ge=class e{constructor(e,t,o,i){this.textModelResolverService=t,this.languageService=o,this.languageFeaturesService=i,this.toUnhook=new n.SL,this.toUnhookForKeyboard=new n.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const r=new R(e);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown((([e,t])=>{this.startFindDefinitionFromMouse(e,(0,u.f6)(t))}))),this.toUnhook.add(r.onExecute((e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).catch((e=>{(0,l.dL)(e)})).finally((()=>{this.removeLinkDecorations()}))}))),this.toUnhook.add(r.onCancel((()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null})))}static get(t){return t.getContribution(e.ID)}startFindDefinitionFromCursor(e){return Ue(this,void 0,void 0,(function*(){yield this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition((()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()}))),this.toUnhookForKeyboard.add(this.editor.onKeyDown((e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())})))}))}startFindDefinitionFromMouse(e,t){if(9===e.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const o=e.target.position;this.startFindDefinition(o)}startFindDefinition(e){var t;return Ue(this,void 0,void 0,(function*(){this.toUnhookForKeyboard.clear();const o=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!o)return this.currentWordAtPosition=null,void this.removeLinkDecorations();if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===o.startColumn&&this.currentWordAtPosition.endColumn===o.endColumn&&this.currentWordAtPosition.word===o.word)return;this.currentWordAtPosition=o;const i=new S.yy(this.editor,15);let n;this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,d.PG)((t=>this.findDefinition(e,t)));try{n=yield this.previousPromise}catch(e){return void(0,l.dL)(e)}if(!n||!n.length||!i.validate(this.editor))return void this.removeLinkDecorations();const r=n[0].originSelectionRange?s.e.lift(n[0].originSelectionRange):new s.e(e.lineNumber,o.startColumn,e.lineNumber,o.endColumn);if(n.length>1){let e=r;for(const{originSelectionRange:t}of n)t&&(e=s.e.plusRange(e,t));this.addDecoration(e,(new h.W5).appendText(W.NC("multipleResults","Click to show {0} definitions.",n.length)))}else{const e=n[0];if(!e.uri)return;this.textModelResolverService.createModelReference(e.uri).then((t=>{if(!t.object||!t.object.textEditorModel)return void t.dispose();const{object:{textEditorModel:o}}=t,{startLineNumber:i}=e.range;if(i<1||i>o.getLineCount())return void t.dispose();const n=this.getPreviewValue(o,i,e),s=this.languageService.guessLanguageIdByFilepathOrFirstLine(o.uri);this.addDecoration(r,n?(new h.W5).appendCodeblock(s||"",n):void 0),t.dispose()}))}}))}getPreviewValue(t,o,i){let n=i.range;return n.endLineNumber-n.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(n=this.getPreviewRangeBasedOnIndentation(t,o)),this.stripIndentationFromPreviewRange(t,o,n)}stripIndentationFromPreviewRange(e,t,o){let i=e.getLineFirstNonWhitespaceColumn(t);for(let n=t+1;n<o.endLineNumber;n++){const t=e.getLineFirstNonWhitespaceColumn(n);i=Math.min(i,t)}return e.getValueInRange(o).replace(new RegExp(`^\\s{${i-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,o){const i=t.getLineFirstNonWhitespaceColumn(o),n=Math.min(t.getLineCount(),o+e.MAX_SOURCE_PREVIEW_LINES);let r=o+1;for(;r<n&&i!==t.getLineFirstNonWhitespaceColumn(r);r++);return new s.e(o,1,r+1,1)}addDecoration(e,t){const o={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([o])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){var o;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&6===e.target.type&&!((null===(o=e.target.detail.injectedText)||void 0===o?void 0:o.options)instanceof Ke.HS)&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const o=this.editor.getModel();return o?ve(this.languageFeaturesService.definitionProvider,o,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext((e=>{const o=!t&&this.editor.getOption(86)&&!this.isInPeekEditor(e);return new Ee({openToSide:t,openInPeek:o,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(e)}))}isInPeekEditor(e){const t=e.get(O.i6);return H.Jy.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};Ge.ID="editor.contrib.gotodefinitionatposition",Ge.MAX_SOURCE_PREVIEW_LINES=8,Ge=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([ze(1,M.S),ze(2,c.O),ze(3,ge.p)],Ge),(0,r._K)(Ge.ID,Ge,2);var Ve=o(65321),je=o(82246);class Ze{constructor(e,t,o){this.value=e,this.isComplete=t,this.hasLoadingMessage=o}}class $e extends n.JT{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new N.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new d.pY((()=>this._triggerAsyncComputation()),0)),this._secondWaitScheduler=this._register(new d.pY((()=>this._triggerSyncComputation()),0)),this._loadingMessageScheduler=this._register(new d.pY((()=>this._triggerLoadingMessage()),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(59).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,d.zS)((e=>this._computer.computeAsync(e))),(()=>{var e,t,o,i;e=this,t=void 0,i=function*(){var e,t,o,i;try{try{for(var n,r=!0,s=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,o=e[Symbol.asyncIterator];return o?o.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(t){return new Promise((function(i,n){!function(e,t,o,i){Promise.resolve(i).then((function(t){e({value:t,done:o})}),t)}(i,n,(t=e[o](t)).done,t.value)}))}}}(this._asyncIterable);!(e=(n=yield s.next()).done);r=!0){i=n.value,r=!1;const e=i;e&&(this._result.push(e),this._fireResult())}}catch(e){t={error:e}}finally{try{r||e||!(o=s.return)||(yield o.call(s))}finally{if(t)throw t.error}}this._asyncIterableDone=!0,3!==this._state&&4!==this._state||this._setState(0)}catch(e){(0,l.dL)(e)}},new((o=void 0)||(o=Promise))((function(n,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const e=0===this._state,t=4===this._state;this._onResult.fire(new Ze(this._result.slice(0),e,t))}start(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class qe{constructor(e,t,o,i){this.priority=e,this.range=t,this.initialMousePosX=o,this.initialMousePosY=i,this.type=1}equals(e){return 1===e.type&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}const Qe=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};var Ye=o(17735);class Je extends n.JT{constructor(e,t=new Ve.Ro(10,10)){super(),this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new Ye.f),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=Ve.Ro.lift(t),this._resizableNode.layout(t.height,t.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize((e=>{this._resize(new Ve.Ro(e.dimension.width,e.dimension.height)),e.done&&(this._isResizing=!1)}))),this._register(this._resizableNode.onDidWillResize((()=>{this._isResizing=!0})))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var e;return(null===(e=this._contentPosition)||void 0===e?void 0:e.position)?V.L.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(e){const t=this._editor.getDomNode(),o=this._editor.getScrolledVisiblePosition(e);if(t&&o)return Ve.i(t).top+o.top-30}_availableVerticalSpaceBelow(e){const t=this._editor.getDomNode(),o=this._editor.getScrolledVisiblePosition(e);if(!t||!o)return;const i=Ve.i(t),n=Ve.D6(document.body),r=i.top+o.top+o.height;return n.height-r-24}_findPositionPreference(e,t){var o,i;const n=Math.min(null!==(o=this._availableVerticalSpaceBelow(t))&&void 0!==o?o:1/0,e),r=Math.min(null!==(i=this._availableVerticalSpaceAbove(t))&&void 0!==i?i:1/0,e),s=Math.min(Math.max(r,n),e),a=Math.min(e,s);let c;return c=this._editor.getOption(59).above?a<=r?1:2:a<=n?2:1,1===c?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),c}_resize(e){this._resizableNode.layout(e.height,e.width)}}var Xe=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},et=function(e,t){return function(o,i){t(o,i,e)}};const tt=Ve.$;let ot=class e extends n.JT{getWidgetContent(){const e=this._widget.getDomNode();if(e.textContent)return e.textContent}constructor(e,t,o){super(),this._editor=e,this._instantiationService=t,this._keybindingService=o,this._currentResult=null;const i=this._editor.getOption(65)+8,n=4/3*i,r=new Ve.Ro(n,i);this._widget=this._register(this._instantiationService.createInstance(st,this._editor,r)),this._participants=[];for(const e of Qe.getAll())this._participants.push(this._instantiationService.createInstance(e,this._editor));this._participants.sort(((e,t)=>e.hoverOrdinal-t.hoverOrdinal)),this._computer=new ct(this._editor,this._participants),this._hoverOperation=this._register(new $e(this._editor,this._computer)),this._register(this._hoverOperation.onResult((e=>{if(!this._computer.anchor)return;const t=e.hasLoadingMessage?this._addLoadingMessage(e.value):e.value;this._withResult(new it(this._computer.anchor,t,e.isComplete))}))),this._register(Ve.mu(this._widget.getDomNode(),"keydown",(e=>{e.equals(9)&&this.hide()}))),this._register(j.RW.onDidChange((()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)})))}get widget(){return this._widget}maybeShowAt(e){if(this._widget.isResizing)return!0;const t=[];for(const o of this._participants)if(o.suggestHoverAnchor){const i=o.suggestHoverAnchor(e);i&&t.push(i)}const o=e.target;if(6===o.type&&t.push(new qe(0,o.range,e.event.posx,e.event.posy)),7===o.type){const i=this._editor.getOption(49).typicalHalfwidthCharacterWidth/2;!o.detail.isAfterLines&&"number"==typeof o.detail.horizontalDistanceToText&&o.detail.horizontalDistanceToText<i&&t.push(new qe(0,o.range,e.event.posx,e.event.posy))}return 0===t.length?this._startShowingOrUpdateHover(null,0,0,!1,e):(t.sort(((e,t)=>t.priority-e.priority)),this._startShowingOrUpdateHover(t[0],0,0,!1,e))}startShowingAtRange(e,t,o,i){this._startShowingOrUpdateHover(new qe(0,e,void 0,void 0),t,o,i,null)}_startShowingOrUpdateHover(e,t,o,i,n){return this._widget.position&&this._currentResult?this._editor.getOption(59).sticky&&n&&this._widget.isMouseGettingCloser(n.event.posx,n.event.posy)?(e&&this._startHoverOperationIfNecessary(e,t,o,i,!0),!0):e?!(!e||!this._currentResult.anchor.equals(e))||(e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,o,i,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,o,i,!1),!0)):(this._setCurrentResult(null),!1):!!e&&(this._startHoverOperationIfNecessary(e,t,o,i,!1),!0)}_startHoverOperationIfNecessary(e,t,o,i,n){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=i,this._computer.source=o,this._computer.insistOnKeepingHoverVisible=n,this._hoverOperation.start(t))}_setCurrentResult(e){this._currentResult!==e&&(e&&0===e.messages.length&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(e){return!!e&&this._widget.getDomNode().contains(e)}_addLoadingMessage(e){if(this._computer.anchor)for(const t of this._participants)if(t.createLoadingMessage){const o=t.createLoadingMessage(this._computer.anchor);if(o)return e.slice(0).concat([o])}return e}_withResult(e){if(this._widget.position&&this._currentResult&&this._currentResult.isComplete){if(!e.isComplete)return;if(this._computer.insistOnKeepingHoverVisible&&0===e.messages.length)return}this._setCurrentResult(e)}_renderMessages(t,o){const{showAtPosition:i,showAtSecondaryPosition:r,highlightRange:s}=e.computeHoverRanges(this._editor,t.range,o),a=new n.SL,c=a.add(new at(this._keybindingService)),d=document.createDocumentFragment();let l=null;const h={fragment:d,statusBar:c,setColorPicker:e=>l=e,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:e=>this._widget.setMinimumDimensions(e),hide:()=>this.hide()};for(const e of this._participants){const t=o.filter((t=>t.owner===e));t.length>0&&a.add(e.renderHoverParts(h,t))}const u=o.some((e=>e.isBeforeContent));if(c.hasContent&&d.appendChild(c.hoverElement),d.hasChildNodes()){if(s){const t=this._editor.createDecorationsCollection();t.set([{range:s,options:e._DECORATION_OPTIONS}]),a.add((0,n.OF)((()=>{t.clear()})))}this._widget.showAt(d,new rt(l,i,r,this._editor.getOption(59).above,this._computer.shouldFocus,this._computer.source,u,t.initialMousePosX,t.initialMousePosY,a))}else a.dispose()}static computeHoverRanges(e,t,o){let i=1;if(e.hasModel()){const o=e._getViewModel(),n=o.coordinatesConverter,r=n.convertModelRangeToViewRange(t),s=new V.L(r.startLineNumber,o.getLineMinColumn(r.startLineNumber));i=n.convertViewPositionToModelPosition(s).column}const n=t.startLineNumber;let r=t.startColumn,a=o[0].range,c=null;for(const e of o)a=s.e.plusRange(a,e.range),e.range.startLineNumber===n&&e.range.endLineNumber===n&&(r=Math.max(Math.min(r,e.range.startColumn),i)),e.forceShowAtRange&&(c=e.range);return{showAtPosition:c?c.getStartPosition():new V.L(n,t.startColumn),showAtSecondaryPosition:c?c.getStartPosition():new V.L(n,r),highlightRange:a}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};ot._DECORATION_OPTIONS=Ke.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),ot=Xe([et(1,Y.TG),et(2,J.d)],ot);class it{constructor(e,t,o){this.anchor=e,this.messages=t,this.isComplete=o}filter(e){const t=this.messages.filter((t=>t.isValidForHoverAnchor(e)));return t.length===this.messages.length?this:new nt(this,this.anchor,t,this.isComplete)}}class nt extends it{constructor(e,t,o,i){super(t,o,i),this.original=e}filter(e){return this.original.filter(e)}}class rt{constructor(e,t,o,i,n,r,s,a,c,d){this.colorPicker=e,this.showAtPosition=t,this.showAtSecondaryPosition=o,this.preferAbove=i,this.stoleFocus=n,this.source=r,this.isBeforeContent=s,this.initialMousePosX=a,this.initialMousePosY=c,this.disposables=d,this.closestMouseDistance=void 0}}let st=class e extends Je{get isColorPickerVisible(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}get isVisibleFromKeyboard(){var e;return 1===(null===(e=this._visibleData)||void 0===e?void 0:e.source)}get isVisible(){var e;return null!==(e=this._hoverVisibleKey.get())&&void 0!==e&&e}get isFocused(){var e;return null!==(e=this._hoverFocusedKey.get())&&void 0!==e&&e}constructor(e,t,o){super(e,t),this._hover=this._register(new je.c),this._hoverVisibleKey=a.u.hoverVisible.bindTo(o),this._hoverFocusedKey=a.u.hoverFocused.bindTo(o),Ve.R3(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange((()=>this._layout()))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(49)&&this._updateFont()})));const i=this._register(Ve.go(this._resizableNode.domNode));this._register(i.onDidFocus((()=>{this._hoverFocusedKey.set(!0)}))),this._register(i.onDidBlur((()=>{this._hoverFocusedKey.set(!1)}))),this._setHoverData(void 0),this._layout(),this._editor.addContentWidget(this)}dispose(){var e;super.dispose(),null===(e=this._visibleData)||void 0===e||e.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return e.ID}static _applyDimensions(e,t,o){const i="number"==typeof t?`${t}px`:t,n="number"==typeof o?`${o}px`:o;e.style.width=i,e.style.height=n}_setContentsDomNodeDimensions(t,o){const i=this._hover.contentsDomNode;return e._applyDimensions(i,t,o)}_setContainerDomNodeDimensions(t,o){const i=this._hover.containerDomNode;return e._applyDimensions(i,t,o)}_setHoverWidgetDimensions(e,t){this._setContentsDomNodeDimensions(e,t),this._setContainerDomNodeDimensions(e,t),this._layoutContentWidget()}static _applyMaxDimensions(e,t,o){const i="number"==typeof t?`${t}px`:t,n="number"==typeof o?`${o}px`:o;e.style.maxWidth=i,e.style.maxHeight=n}_setHoverWidgetMaxDimensions(t,o){e._applyMaxDimensions(this._hover.contentsDomNode,t,o),e._applyMaxDimensions(this._hover.containerDomNode,t,o),this._hover.containerDomNode.style.setProperty("--hover-maxWidth","number"==typeof t?`${t}px`:t),this._layoutContentWidget()}_hasHorizontalScrollbar(){const e=this._hover.scrollbar.getScrollDimensions();return e.scrollWidth>e.width}_adjustContentsBottomPadding(){const e=this._hover.contentsDomNode,t=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;e.style.paddingBottom!==t&&(e.style.paddingBottom=t)}_setAdjustedHoverWidgetDimensions(e){this._setHoverWidgetMaxDimensions("none","none");const t=e.width,o=e.height;this._setHoverWidgetDimensions(t,o),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(t,o-10))}_setResizableNodeMaxDimensions(){var e,t;const o=null!==(e=this._findMaximumRenderingWidth())&&void 0!==e?e:1/0,i=null!==(t=this._findMaximumRenderingHeight())&&void 0!==t?t:1/0;this._resizableNode.maxSize=new Ve.Ro(o,i),this._setHoverWidgetMaxDimensions(o,i)}_resize(t){var o,i;e._lastDimensions=new Ve.Ro(t.width,t.height),this._setAdjustedHoverWidgetDimensions(t),this._resizableNode.layout(t.height,t.width),this._setResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),null===(i=null===(o=this._visibleData)||void 0===o?void 0:o.colorPicker)||void 0===i||i.layout()}_findAvailableSpaceVertically(){var e;const t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition;if(t)return 1===this._positionPreference?this._availableVerticalSpaceAbove(t):this._availableVerticalSpaceBelow(t)}_findMaximumRenderingHeight(){const e=this._findAvailableSpaceVertically();if(!e)return;let t=6;return Array.from(this._hover.contentsDomNode.children).forEach((e=>{t+=e.clientHeight})),this._hasHorizontalScrollbar()&&(t+=10),Math.min(e,t)}_findMaximumRenderingWidth(){if(this._editor&&this._editor.hasModel())return Ve.D6(document.body).width-14}isMouseGettingCloser(e,t){if(!this._visibleData)return!1;if(void 0===this._visibleData.initialMousePosX||void 0===this._visibleData.initialMousePosY)return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;const o=Ve.i(this.getDomNode());void 0===this._visibleData.closestMouseDistance&&(this._visibleData.closestMouseDistance=dt(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,o.left,o.top,o.width,o.height));const i=dt(e,t,o.left,o.top,o.width,o.height);return!(i>this._visibleData.closestMouseDistance+4||(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,i),0))}_setHoverData(e){var t;null===(t=this._visibleData)||void 0===t||t.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!e),this._hover.containerDomNode.classList.toggle("hidden",!e)}_layout(){const{fontSize:e,lineHeight:t}=this._editor.getOption(49),o=this._hover.contentsDomNode;o.style.fontSize=`${e}px`,o.style.lineHeight=""+t/e,this._updateMaxDimensions()}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e=>this._editor.applyFontInfo(e)))}_updateContent(e){const t=this._hover.contentsDomNode;t.style.paddingBottom="",t.textContent="",t.appendChild(e)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const t=Math.max(this._editor.getLayoutInfo().height/4,250,e._lastDimensions.height),o=Math.max(.66*this._editor.getLayoutInfo().width,500,e._lastDimensions.width);this._setHoverWidgetMaxDimensions(o,t)}_render(e,t){this._setHoverData(t),this._updateFont(),this._updateContent(e),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var e;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[null!==(e=this._positionPreference)&&void 0!==e?e:1]}:null}showAt(e,t){var o,i;if(!this._editor||!this._editor.hasModel())return;this._render(e,t);const n=Ve.wn(this._hover.containerDomNode),r=t.showAtPosition;this._positionPreference=null!==(o=this._findPositionPreference(n,r))&&void 0!==o?o:1,this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),null===(i=t.colorPicker)||void 0===i||i.layout()}hide(){if(!this._visibleData)return;const e=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new Ve.Ro(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}_removeConstraintsRenderNormally(){const e=this._editor.getLayoutInfo();this._resizableNode.layout(e.height,e.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(e){var t;const o=this._hover.containerDomNode,i=this._hover.contentsDomNode,n=null!==(t=this._findMaximumRenderingHeight())&&void 0!==t?t:1/0;this._setContainerDomNodeDimensions(Ve.w(o),Math.min(n,e)),this._setContentsDomNodeDimensions(Ve.w(i),Math.min(n,e-10))}setMinimumDimensions(e){this._resizableNode.minSize=e}onContentsChanged(){var e;this._removeConstraintsRenderNormally();const t=this._hover.containerDomNode;let o=Ve.wn(t),i=Ve.w(t);if(this._resizableNode.layout(o,i),this._setHoverWidgetDimensions(i,o),o=Ve.wn(t),i=Ve.w(t),this._resizableNode.layout(o,i),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(o)),null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition){const e=Ve.wn(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(e,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}scrollDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}scrollLeft(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-30})}scrollRight(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+30})}pageUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}pageDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};st.ID="editor.contrib.resizableContentHoverWidget",st._lastDimensions=new Ve.Ro(0,0),st=Xe([et(2,O.i6)],st);let at=class extends n.JT{get hasContent(){return this._hasContent}constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=tt("div.hover-row.status-bar"),this.actionsElement=Ve.R3(this.hoverElement,tt("div.actions"))}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),o=t?t.getLabel():null;return this._hasContent=!0,this._register(je.S.render(this.actionsElement,e,o))}append(e){const t=Ve.R3(this.actionsElement,e);return this._hasContent=!0,t}};at=Xe([et(0,J.d)],at);class ct{get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}get source(){return this._source}set source(e){this._source=e}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(e){this._insistOnKeepingHoverVisible=e}constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(e,t){if(1!==t.type&&!t.supportsMarkerHover)return[];const o=e.getModel(),i=t.range.startLineNumber;if(i>o.getLineCount())return[];const n=o.getLineMaxColumn(i);return e.getLineDecorations(i).filter((e=>{if(e.options.isWholeLine)return!0;const o=e.range.startLineNumber===i?e.range.startColumn:1,r=e.range.endLineNumber===i?e.range.endColumn:n;if(e.options.showIfCollapsed){if(o>t.range.startColumn+1||t.range.endColumn-1>r)return!1}else if(o>t.range.startColumn||t.range.endColumn>r)return!1;return!0}))}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return d.Aq.EMPTY;const o=ct._getLineDecorations(this._editor,t);return d.Aq.merge(this._participants.map((i=>i.computeAsync?i.computeAsync(t,o,e):d.Aq.EMPTY)))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=ct._getLineDecorations(this._editor,this._anchor);let t=[];for(const o of this._participants)t=t.concat(o.computeSync(this._anchor,e));return(0,he.kX)(t)}}function dt(e,t,o,i,n,r){const s=o+n/2,a=i+r/2,c=Math.max(Math.abs(e-s)-n/2,0),d=Math.max(Math.abs(t-a)-r/2,0);return Math.sqrt(c*c+d*d)}var lt=o(18806);const ht=Ve.$;class ut extends n.JT{constructor(e,t,o){super(),this._renderDisposeables=this._register(new n.SL),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new je.c),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new lt.$({editor:this._editor},t,o)),this._computer=new gt(this._editor),this._hoverOperation=this._register(new $e(this._editor,this._computer)),this._register(this._hoverOperation.onResult((e=>{this._withResult(e.value)}))),this._register(this._editor.onDidChangeModelDecorations((()=>this._onModelDecorationsChanged()))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(49)&&this._updateFont()}))),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ut.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e=>this._editor.applyFontInfo(e)))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const o=document.createDocumentFragment();for(const e of t){const t=ht("div.hover-row.markdown-hover"),i=Ve.R3(t,ht("div.hover-contents")),n=this._renderDisposeables.add(this._markdownRenderer.render(e.value));i.appendChild(n.element),o.appendChild(t)}this._updateContents(o),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),o=this._editor.getTopForLineNumber(e),i=this._editor.getScrollTop(),n=this._editor.getOption(65),r=o-i-(this._hover.containerDomNode.clientHeight-n)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(r),0)}px`}}ut.ID="editor.contrib.modesGlyphHoverWidget";class gt{get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}constructor(e){this._editor=e,this._lineNumber=-1}computeSync(){const e=e=>({value:e}),t=this._editor.getLineDecorations(this._lineNumber),o=[];if(!t)return o;for(const i of t){if(!i.options.glyphMarginClassName)continue;const t=i.options.glyphMarginHoverMessage;t&&!(0,h.CP)(t)&&o.push(...(0,he._2)(t).map(e))}return o}}var pt=o(31106),mt=o(50988),vt=o(73910),_t=o(97781);class ft{constructor(e,t,o){this.provider=e,this.hover=t,this.ordinal=o}}function Ct(e,t,o,i){const n=e.ordered(t).map(((e,n)=>function(e,t,o,i,n){return r=this,s=void 0,c=function*(){try{const r=yield Promise.resolve(e.provideHover(o,i,n));if(r&&function(e){const t=void 0!==e.range,o=void 0!==e.contents&&e.contents&&e.contents.length>0;return t&&o}(r))return new ft(e,r,t)}catch(e){(0,l.Cp)(e)}},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{n(c.next(e))}catch(e){t(e)}}function i(e){try{n(c.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,i)}n((c=c.apply(r,s||[])).next())}));var r,s,a,c}(e,n,t,o,i)));return d.Aq.fromPromises(n).coalesce()}(0,r.sb)("_executeHoverProvider",((e,t,o)=>function(e,t,o,i){return Ct(e,t,o,i).map((e=>e.hover)).toPromise()}(e.get(ge.p).hoverProvider,t,o,ue.T.None)));var At=o(33108),bt=function(e,t){return function(o,i){t(o,i,e)}};const yt=Ve.$;class wt{constructor(e,t,o,i,n){this.owner=e,this.range=t,this.contents=o,this.isBeforeContent=i,this.ordinal=n}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let kt=class{constructor(e,t,o,i,n){this._editor=e,this._languageService=t,this._openerService=o,this._configurationService=i,this._languageFeaturesService=n,this.hoverOrdinal=3}createLoadingMessage(e){return new wt(this,e.range,[(new h.W5).appendText(W.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const o=this._editor.getModel(),i=e.range.startLineNumber,n=o.getLineMaxColumn(i),r=[];let a=1e3;const c=o.getLineLength(i),d=o.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),l=this._editor.getOption(115),u=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:d});let g=!1;l>=0&&c>l&&e.range.startColumn>=l&&(g=!0,r.push(new wt(this,e.range,[{value:W.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,a++))),!g&&"number"==typeof u&&c>=u&&r.push(new wt(this,e.range,[{value:W.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,a++));let p=!1;for(const o of t){const t=o.range.startLineNumber===i?o.range.startColumn:1,c=o.range.endLineNumber===i?o.range.endColumn:n,d=o.options.hoverMessage;if(!d||(0,h.CP)(d))continue;o.options.beforeContentClassName&&(p=!0);const l=new s.e(e.range.startLineNumber,t,e.range.startLineNumber,c);r.push(new wt(this,l,(0,he._2)(d),p,a++))}return r}computeAsync(e,t,o){if(!this._editor.hasModel()||1!==e.type)return d.Aq.EMPTY;const i=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(i))return d.Aq.EMPTY;const n=new V.L(e.range.startLineNumber,e.range.startColumn);return Ct(this._languageFeaturesService.hoverProvider,i,n,o).filter((e=>!(0,h.CP)(e.hover.contents))).map((t=>{const o=t.hover.range?s.e.lift(t.hover.range):e.range;return new wt(this,o,t.hover.contents,!1,t.ordinal)}))}renderHoverParts(e,t){return function(e,t,o,i,r){t.sort(((e,t)=>e.ordinal-t.ordinal));const s=new n.SL;for(const n of t)for(const t of n.contents){if((0,h.CP)(t))continue;const n=yt("div.hover-row.markdown-hover"),a=Ve.R3(n,yt("div.hover-contents")),c=s.add(new lt.$({editor:o},i,r));s.add(c.onDidRenderAsync((()=>{a.className="hover-contents code-hover-contents",e.onContentsChanged()})));const d=s.add(c.render(t));a.appendChild(d.element),e.fragment.appendChild(n)}return s}(e,t,this._editor,this._languageService,this._openerService)}};kt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([bt(1,c.O),bt(2,mt.v4),bt(3,At.Ui),bt(4,ge.p)],kt);var xt=o(36357),Dt=o(75396),St=o(92069),Mt=o(87997),Nt=o(73046),Pt=o(91741),Bt=o(97295),It=o(98674),Lt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tt=function(e,t){return function(o,i){t(o,i,e)}};class Et{constructor(e,t,o){this.marker=e,this.index=t,this.total=o}}let Rt=class{constructor(e,t,o){this._markerService=t,this._configService=o,this._onDidChange=new N.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new n.SL,this._markers=[],this._nextIdx=-1,K.ov.isUri(e)?this._resourceFilter=t=>t.toString()===e.toString():e&&(this._resourceFilter=e);const i=this._configService.getValue("problems.sortOrder"),r=(e,t)=>{let o=(0,Bt.qu)(e.resource.toString(),t.resource.toString());return 0===o&&(o="position"===i?s.e.compareRangesUsingStarts(e,t)||It.ZL.compare(e.severity,t.severity):It.ZL.compare(e.severity,t.severity)||s.e.compareRangesUsingStarts(e,t)),o},a=()=>{this._markers=this._markerService.read({resource:K.ov.isUri(e)?e:void 0,severities:It.ZL.Error|It.ZL.Warning|It.ZL.Info}),"function"==typeof e&&(this._markers=this._markers.filter((e=>this._resourceFilter(e.resource)))),this._markers.sort(r)};a(),this._dispoables.add(t.onMarkerChanged((e=>{this._resourceFilter&&!e.some((e=>this._resourceFilter(e)))||(a(),this._nextIdx=-1,this._onDidChange.fire())})))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new Et(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,o){let i=!1,n=this._markers.findIndex((t=>t.resource.toString()===e.uri.toString()));n<0&&(n=(0,he.ry)(this._markers,{resource:e.uri},((e,t)=>(0,Bt.qu)(e.resource.toString(),t.resource.toString()))),n<0&&(n=~n));for(let o=n;o<this._markers.length;o++){let n=s.e.lift(this._markers[o]);if(n.isEmpty()){const t=e.getWordAtPosition(n.getStartPosition());t&&(n=new s.e(n.startLineNumber,t.startColumn,n.startLineNumber,t.endColumn))}if(t&&(n.containsPosition(t)||t.isBeforeOrEqual(n.getStartPosition()))){this._nextIdx=o,i=!0;break}if(this._markers[o].resource.toString()!==e.uri.toString())break}i||(this._nextIdx=o?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,o){if(0===this._markers.length)return!1;const i=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,o,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),i!==this._nextIdx}find(e,t){let o=this._markers.findIndex((t=>t.resource.toString()===e.toString()));if(!(o<0))for(;o<this._markers.length;o++)if(s.e.containsPosition(this._markers[o],t))return new Et(this._markers[o],o+1,this._markers.length)}};Rt=Lt([Tt(1,It.lT),Tt(2,At.Ui)],Rt);const Ht=(0,Y.yh)("IMarkerNavigationService");let Wt=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new Pt.S}registerProvider(e){const t=this._provider.unshift(e);return(0,n.OF)((()=>t()))}getMarkerList(e){for(const t of this._provider){const o=t.getMarkerList(e);if(o)return o}return new Rt(e,this._markerService,this._configService)}};Wt=Lt([Tt(0,It.lT),Tt(1,At.Ui)],Wt),(0,Q.z)(Ht,Wt,1);var Ot=o(59554),Ft=o(64117),Kt=o(41264),zt=o(35351),Ut={};Ut.styleTagTransform=k(),Ut.setAttributes=A(),Ut.insert=f().bind(null,"head"),Ut.domAPI=v(),Ut.insertStyleElement=y(),p()(zt.Z,Ut),zt.Z&&zt.Z.locals&&zt.Z.locals;var Gt=o(60961),Vt=o(44349),jt=o(75742),Zt=function(e,t){return function(o,i){t(o,i,e)}};class $t{constructor(e,t,o,i,r){this._openerService=i,this._labelService=r,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new n.SL,this._editor=t;const s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(Ve.mu(this._relatedBlock,"click",(e=>{e.preventDefault();const t=this._relatedDiagnostics.get(e.target);t&&o(t)}))),this._scrollable=new Ft.NB(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((e=>{s.style.left=`-${e.scrollLeft}px`,s.style.top=`-${e.scrollTop}px`}))),this._disposables.add(this._scrollable)}dispose(){(0,n.B9)(this._disposables)}update(e){const{source:t,message:o,relatedInformation:i,code:n}=e;let r=((null==t?void 0:t.length)||0)+2;n&&(r+="string"==typeof n?n.length:n.value.length);const s=(0,Bt.uq)(o);this._lines=s.length,this._longestLineLength=0;for(const e of s)this._longestLineLength=Math.max(e.length+r,this._longestLineLength);Ve.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(const e of s)a=document.createElement("div"),a.innerText=e,""===e&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||n){const e=document.createElement("span");if(e.classList.add("details"),a.appendChild(e),t){const o=document.createElement("span");o.innerText=t,o.classList.add("source"),e.appendChild(o)}if(n)if("string"==typeof n){const t=document.createElement("span");t.innerText=`(${n})`,t.classList.add("code"),e.appendChild(t)}else this._codeLink=Ve.$("a.code-link"),this._codeLink.setAttribute("href",`${n.target.toString()}`),this._codeLink.onclick=e=>{this._openerService.open(n.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()},Ve.R3(this._codeLink,Ve.$("span")).innerText=n.value,e.appendChild(this._codeLink)}if(Ve.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,he.Of)(i)){const e=this._relatedBlock.appendChild(document.createElement("div"));e.style.paddingTop=`${Math.floor(.66*this._editor.getOption(65))}px`,this._lines+=1;for(const t of i){const o=document.createElement("div"),i=document.createElement("a");i.classList.add("filename"),i.innerText=`${this._labelService.getUriBasenameLabel(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,i.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(i,t);const n=document.createElement("span");n.innerText=t.message,o.appendChild(i),o.appendChild(n),this._lines+=1,e.appendChild(o)}}const c=this._editor.getOption(49),d=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),l=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:l})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case It.ZL.Error:t=W.NC("Error","Error");break;case It.ZL.Warning:t=W.NC("Warning","Warning");break;case It.ZL.Info:t=W.NC("Info","Info");break;case It.ZL.Hint:t=W.NC("Hint","Hint")}let o=W.NC("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const i=this._editor.getModel();return i&&e.startLineNumber<=i.getLineCount()&&e.startLineNumber>=1&&(o=`${i.getLineContent(e.startLineNumber)}, ${o}`),o}}let qt=class e extends H.vk{constructor(e,t,o,i,r,s,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},r),this._themeService=t,this._openerService=o,this._menuService=i,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new n.SL,this._onDidSelectRelatedInformation=new N.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=It.ZL.Warning,this._backgroundColor=Kt.Il.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(ro);let t=Xt,o=eo;this._severity===It.ZL.Warning?(t=to,o=oo):this._severity===It.ZL.Info&&(t=io,o=no);const i=e.getColor(t),n=e.getColor(o);this.style({arrowColor:i,frameColor:i,headerBackgroundColor:n,primaryHeadingColor:e.getColor(H.IH),secondaryHeadingColor:e.getColor(H.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}focus(){this._parentContainer.focus()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun((e=>this.editor.focus())));const o=[],i=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);(0,Gt.vr)(i,void 0,o),this._actionbarWidget.push(o,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=Ve.R3(e,Ve.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new $t(this._container,this.editor,(e=>this._onDidSelectRelatedInformation.fire(e)),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,o){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const i=s.e.lift(e),n=this.editor.getPosition(),r=n&&i.containsPosition(n)?n:i.getStartPosition();super.show(r,this.computeRequiredHeight());const a=this.editor.getModel();if(a){const e=o>1?W.NC("problems","{0} of {1} problems",t,o):W.NC("change","{0} of {1} problem",t,o);this.setTitle((0,q.EZ)(a.uri),e)}this._icon.className=`codicon ${jt.j.className(It.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(r,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};qt.TitleMenu=new ce.eH("gotoErrorTitleMenu"),qt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([Zt(1,_t.XE),Zt(2,mt.v4),Zt(3,ce.co),Zt(4,Y.TG),Zt(5,O.i6),Zt(6,Vt.e)],qt);const Qt=(0,vt.kwl)(vt.lXJ,vt.b6y),Yt=(0,vt.kwl)(vt.uoC,vt.pW3),Jt=(0,vt.kwl)(vt.c63,vt.T83),Xt=(0,vt.P6G)("editorMarkerNavigationError.background",{dark:Qt,light:Qt,hcDark:vt.lRK,hcLight:vt.lRK},W.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),eo=(0,vt.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,vt.ZnX)(Xt,.1),light:(0,vt.ZnX)(Xt,.1),hcDark:null,hcLight:null},W.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),to=(0,vt.P6G)("editorMarkerNavigationWarning.background",{dark:Yt,light:Yt,hcDark:vt.lRK,hcLight:vt.lRK},W.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),oo=(0,vt.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,vt.ZnX)(to,.1),light:(0,vt.ZnX)(to,.1),hcDark:"#0C141F",hcLight:(0,vt.ZnX)(to,.2)},W.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),io=(0,vt.P6G)("editorMarkerNavigationInfo.background",{dark:Jt,light:Jt,hcDark:vt.lRK,hcLight:vt.lRK},W.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),no=(0,vt.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,vt.ZnX)(io,.1),light:(0,vt.ZnX)(io,.1),hcDark:null,hcLight:null},W.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),ro=(0,vt.P6G)("editorMarkerNavigation.background",{dark:vt.cvW,light:vt.cvW,hcDark:vt.cvW,hcLight:vt.cvW},W.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var so=function(e,t){return function(o,i){t(o,i,e)}},ao=function(e,t,o,i){return new(o||(o=Promise))((function(n,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};let co=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t,o,i,r){this._markerNavigationService=t,this._contextKeyService=o,this._editorService=i,this._instantiationService=r,this._sessionDispoables=new n.SL,this._editor=e,this._widgetVisible=go.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(qt,this._editor),this._widget.onDidClose((()=>this.close()),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((e=>{var t,o,i;(null===(t=this._model)||void 0===t?void 0:t.selected)&&s.e.containsPosition(null===(o=this._model)||void 0===o?void 0:o.selected.marker,e.position)||null===(i=this._model)||void 0===i||i.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((()=>{if(!this._widget||!this._widget.position||!this._model)return;const e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:s.e.lift(e).collapseToStart()}},this._editor),this.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((()=>this._cleanUp()))),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new V.L(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(t,o){var i,n;return ao(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const r=this._getOrCreateModel(o?void 0:this._editor.getModel().uri);if(r.move(t,this._editor.getModel(),this._editor.getPosition()),!r.selected)return;if(r.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const s=yield this._editorService.openCodeEditor({resource:r.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:r.selected.marker}},this._editor);s&&(null===(i=e.get(s))||void 0===i||i.close(),null===(n=e.get(s))||void 0===n||n.nagivate(t,o))}else this._widget.showAtMarker(r.selected.marker,r.selected.index,r.selected.total)}}))}};co.ID="editor.contrib.markerController",co=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([so(1,Ht),so(2,O.i6),so(3,U.$),so(4,Y.TG)],co);class lo extends r.R6{constructor(e,t,o){super(o),this._next=e,this._multiFile=t}run(e,t){var o;return ao(this,void 0,void 0,(function*(){t.hasModel()&&(null===(o=co.get(t))||void 0===o||o.nagivate(this._next,this._multiFile))}))}}class ho extends lo{constructor(){super(!0,!1,{id:ho.ID,label:ho.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:a.u.focus,primary:578,weight:100},menuOpts:{menuId:qt.TitleMenu,title:ho.LABEL,icon:(0,Ot.q5)("marker-navigation-next",Nt.lA.arrowDown,W.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}ho.ID="editor.action.marker.next",ho.LABEL=W.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class uo extends lo{constructor(){super(!1,!1,{id:uo.ID,label:uo.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:a.u.focus,primary:1602,weight:100},menuOpts:{menuId:qt.TitleMenu,title:uo.LABEL,icon:(0,Ot.q5)("marker-navigation-previous",Nt.lA.arrowUp,W.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}uo.ID="editor.action.marker.prev",uo.LABEL=W.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,r._K)(co.ID,co,4),(0,r.Qr)(ho),(0,r.Qr)(uo),(0,r.Qr)(class extends lo{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:W.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:a.u.focus,primary:66,weight:100},menuOpts:{menuId:ce.eH.MenubarGoMenu,title:W.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,r.Qr)(class extends lo{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:W.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:a.u.focus,primary:1090,weight:100},menuOpts:{menuId:ce.eH.MenubarGoMenu,title:W.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const go=new O.uy("markersNavigationVisible",!1),po=r._l.bindToContribution(co.get);(0,r.fK)(new po({id:"closeMarkersNavigation",precondition:go,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:a.u.focus,primary:9,secondary:[1033]}}));var mo=function(e,t){return function(o,i){t(o,i,e)}};const vo=Ve.$;class _o{constructor(e,t,o){this.owner=e,this.range=t,this.marker=o}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const fo={type:1,filter:{include:Mt.yN.QuickFix},triggerAction:Mt.aQ.QuickFixHover};let Co=class{constructor(e,t,o,i){this._editor=e,this._markerDecorationsService=t,this._openerService=o,this._languageFeaturesService=i,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type&&!e.supportsMarkerHover)return[];const o=this._editor.getModel(),i=e.range.startLineNumber,n=o.getLineMaxColumn(i),r=[];for(const a of t){const t=a.range.startLineNumber===i?a.range.startColumn:1,c=a.range.endLineNumber===i?a.range.endColumn:n,d=this._markerDecorationsService.getMarker(o.uri,a);if(!d)continue;const l=new s.e(e.range.startLineNumber,t,e.range.startLineNumber,c);r.push(new _o(this,l,d))}return r}renderHoverParts(e,t){if(!t.length)return n.JT.None;const o=new n.SL;t.forEach((t=>e.fragment.appendChild(this.renderMarkerHover(t,o))));const i=1===t.length?t[0]:t.sort(((e,t)=>It.ZL.compare(e.marker.severity,t.marker.severity)))[0];return this.renderMarkerStatusbar(e,i,o),o}renderMarkerHover(e,t){const o=vo("div.hover-row"),i=Ve.R3(o,vo("div.marker.hover-contents")),{source:n,message:r,code:s,relatedInformation:a}=e.marker;this._editor.applyFontInfo(i);const c=Ve.R3(i,vo("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=r,n||s)if(s&&"string"!=typeof s){const e=vo("span");n&&(Ve.R3(e,vo("span")).innerText=n);const o=Ve.R3(e,vo("a.code-link"));o.setAttribute("href",s.target.toString()),t.add(Ve.nm(o,"click",(e=>{this._openerService.open(s.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}))),Ve.R3(o,vo("span")).innerText=s.value;const r=Ve.R3(i,e);r.style.opacity="0.6",r.style.paddingLeft="6px"}else{const e=Ve.R3(i,vo("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=n&&s?`${n}(${s})`:n||`(${s})`}if((0,he.Of)(a))for(const{message:e,resource:o,startLineNumber:n,startColumn:r}of a){const s=Ve.R3(i,vo("div"));s.style.marginTop="8px";const a=Ve.R3(s,vo("a"));a.innerText=`${(0,q.EZ)(o)}(${n}, ${r}): `,a.style.cursor="pointer",t.add(Ve.nm(a,"click",(e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(o,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:n,startColumn:r}}}).catch(l.dL)})));const c=Ve.R3(s,vo("span"));c.innerText=e,this._editor.applyFontInfo(c)}return o}renderMarkerStatusbar(e,t,o){if(t.marker.severity!==It.ZL.Error&&t.marker.severity!==It.ZL.Warning&&t.marker.severity!==It.ZL.Info||e.statusBar.addAction({label:W.NC("view problem","View Problem"),commandId:ho.ID,run:()=>{var o;e.hide(),null===(o=co.get(this._editor))||void 0===o||o.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(89)){const i=e.statusBar.append(vo("div"));this.recentMarkerCodeActionsInfo&&(It.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===It.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(i.textContent=W.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?n.JT.None:o.add((0,d.Vg)((()=>i.textContent=W.NC("checkingForQuickFixes","Checking for quick fixes...")),200));i.textContent||(i.textContent=String.fromCharCode(160));const s=this.getCodeActions(t.marker);o.add((0,n.OF)((()=>s.cancel()))),s.then((s=>{if(r.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:s.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return s.dispose(),void(i.textContent=W.NC("noQuickFixes","No quick fixes available"));i.style.display="none";let a=!1;o.add((0,n.OF)((()=>{a||s.dispose()}))),e.statusBar.addAction({label:W.NC("quick fixes","Quick Fix..."),commandId:Dt.cz,run:t=>{a=!0;const o=St.G.get(this._editor),i=Ve.i(t);e.hide(),null==o||o.showCodeActions(fo,s,{x:i.left,y:i.top,width:i.width,height:i.height})}})}),l.dL)}}getCodeActions(e){return(0,d.PG)((t=>(0,Dt.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new s.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),fo,le.Ex.None,t)))}};Co=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([mo(1,xt.i),mo(2,mt.v4),mo(3,ge.p)],Co);var Ao=o(90317),bo=o(12983),yo=o(74741),wo=o(62142),ko=o(71013),xo=o(25670),Do=o(28300),So={};So.styleTagTransform=k(),So.setAttributes=A(),So.insert=f().bind(null,"head"),So.domAPI=v(),So.insertStyleElement=y(),p()(Do.Z,So),Do.Z&&Do.Z.locals&&Do.Z.locals;var Mo=o(59856),No=o(5606),Po=o(10829),Bo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Io=function(e,t){return function(o,i){t(o,i,e)}};let Lo=class extends n.JT{constructor(e,t,o){super(),this.editor=e,this.model=t,this.instantiationService=o,this.alwaysShowToolbar=(0,wo.rD)(this.editor.onDidChangeConfiguration,(()=>"always"===this.editor.getOption(61).showToolbar)),this.sessionPosition=void 0,this.position=(0,wo.nK)("position",(e=>{var t,o,i;const n=null===(t=this.model.read(e))||void 0===t?void 0:t.ghostText.read(e);if(!this.alwaysShowToolbar.read(e)||!n||0===n.parts.length)return this.sessionPosition=void 0,null;const r=n.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==n.lineNumber&&(this.sessionPosition=void 0);const s=new V.L(n.lineNumber,Math.min(r,null!==(i=null===(o=this.sessionPosition)||void 0===o?void 0:o.column)&&void 0!==i?i:Number.MAX_SAFE_INTEGER));return this.sessionPosition=s,s})),this._register((0,ko.b2)("setup content widget",((t,o)=>{const i=this.model.read(t);if(!i||!this.alwaysShowToolbar.read(t))return;const r=o.add(this.instantiationService.createInstance(Ro,this.editor,!0,this.position,i.selectedInlineCompletionIndex,i.inlineCompletionsCount,i.selectedInlineCompletion.map((e=>{var t;return null!==(t=null==e?void 0:e.inlineCompletion.source.inlineCompletions.commands)&&void 0!==t?t:[]}))));e.addContentWidget(r),o.add((0,n.OF)((()=>e.removeContentWidget(r)))),o.add((0,wo.EH)("request explicit",(e=>{this.position.read(e)&&i.lastTriggerKind.read(e)!==j.bw.Explicit&&i.triggerExplicitly()})))})))}};Lo=Bo([Io(2,Y.TG)],Lo);const To=(0,Ot.q5)("inline-suggestion-hints-next",Nt.lA.chevronRight,(0,W.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),Eo=(0,Ot.q5)("inline-suggestion-hints-previous",Nt.lA.chevronLeft,(0,W.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let Ro=class e extends n.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(e,t,o){const i=new yo.aU(e,t,o,!0,(()=>this._commandService.executeCommand(e))),n=this.keybindingService.lookupKeybinding(e,this._contextKeyService);let r=t;return n&&(r=(0,W.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",t,n.getLabel())),i.tooltip=r,i}constructor(t,o,i,n,r,s,a,c,l,h,u){super(),this.editor=t,this.withBorder=o,this._position=i,this._currentSuggestionIdx=n,this._suggestionCount=r,this._extraCommands=s,this._commandService=a,this.keybindingService=l,this._contextKeyService=h,this._menuService=u,this.id="InlineSuggestionHintsContentWidget"+e.id++,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,Ve.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,Ve.h)("div",{style:{display:"flex"}},[(0,Ve.h)("div@actionBar",{className:"custom-actions"}),(0,Ve.h)("div@toolBar")])]),this.previousAction=this.createCommandAction("editor.action.inlineSuggest.showPrevious",(0,W.NC)("previous","Previous"),xo.kS.asClassName(Eo)),this.availableSuggestionCountAction=new yo.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction("editor.action.inlineSuggest.showNext",(0,W.NC)("next","Next"),xo.kS.asClassName(To)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(ce.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new d.pY((()=>{this.availableSuggestionCountAction.label=""}),100)),this.disableButtonsDebounced=this._register(new d.pY((()=>{this.previousAction.enabled=this.nextAction.enabled=!1}),100)),this.lastCommands=[];const g=this._register(new Ao.o(this.nodes.actionBar));g.push(this.previousAction,{icon:!0,label:!1}),g.push(this.availableSuggestionCountAction),g.push(this.nextAction,{icon:!0,label:!1}),this.toolBar=this._register(c.createInstance(Wo,this.nodes.toolBar,ce.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:e=>e.startsWith("primary")},actionViewItemProvider:(e,t)=>e instanceof ce.U8?c.createInstance(Ho,e,void 0):void 0,telemetrySource:"InlineSuggestionToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility((t=>{e._dropDownVisible=t}))),this._register((0,wo.EH)("update position",(e=>{this._position.read(e),this.editor.layoutContentWidget(this)}))),this._register((0,wo.EH)("counts",(e=>{const t=this._suggestionCount.read(e),o=this._currentSuggestionIdx.read(e);void 0!==t?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${o+1}/${t}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),void 0!==t&&t>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()}))),this._register((0,wo.EH)("extra commands",(e=>{const t=this._extraCommands.read(e);if((0,he.fS)(this.lastCommands,t))return;this.lastCommands=t;const o=t.map((e=>({class:void 0,id:e.id,enabled:!0,tooltip:e.tooltip||"",label:e.title,run:t=>this._commandService.executeCommand(e.id)})));for(const[e,t]of this.inlineCompletionsActionsMenus.getActions())for(const e of t)e instanceof ce.U8&&o.push(e);o.length>0&&o.unshift(new yo.Z0),this.toolBar.setAdditionalSecondaryActions(o)})))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};Ro._dropDownVisible=!1,Ro.id=0,Ro=Bo([Io(6,de.H),Io(7,Y.TG),Io(8,J.d),Io(9,O.i6),Io(10,ce.co)],Ro);class Ho extends Gt.Mm{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=(0,Ve.h)("div.keybinding").root;new bo.e(t,P.OS,Object.assign({disableTitle:!0},bo.F)).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let Wo=class extends Mo.T{constructor(e,t,o,i,n,r,s,a){super(e,Object.assign({resetMenu:t},o),i,n,r,s,a),this.menuId=t,this.options2=o,this.menuService=i,this.contextKeyService=n,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this._store.add(this.menu.onDidChange((()=>this.updateToolbar()))),this.updateToolbar()}updateToolbar(){var e,t,o,i,n,r,s;const a=[],c=[];(0,Gt.vr)(this.menu,null===(e=this.options2)||void 0===e?void 0:e.menuOptions,{primary:a,secondary:c},null===(o=null===(t=this.options2)||void 0===t?void 0:t.toolbarOptions)||void 0===o?void 0:o.primaryGroup,null===(n=null===(i=this.options2)||void 0===i?void 0:i.toolbarOptions)||void 0===n?void 0:n.shouldInlineSubmenu,null===(s=null===(r=this.options2)||void 0===r?void 0:r.toolbarOptions)||void 0===s?void 0:s.useSeparatorsInPrimaryActions),c.push(...this.additionalActions),this.setActions(a,c)}setAdditionalSecondaryActions(e){(0,he.fS)(this.additionalActions,e,((e,t)=>e===t))||(this.additionalActions=e,this.updateToolbar())}};Wo=Bo([Io(3,ce.co),Io(4,O.i6),Io(5,No.i),Io(6,J.d),Io(7,Po.bU)],Wo);var Oo=o(41738),Fo={};Fo.styleTagTransform=k(),Fo.setAttributes=A(),Fo.insert=f().bind(null,"head"),Fo.domAPI=v(),Fo.insertStyleElement=y(),p()(Oo.Z,Fo),Oo.Z&&Oo.Z.locals&&Oo.Z.locals;var Ko=function(e,t){return function(o,i){t(o,i,e)}};let zo=class e{getWidgetContent(){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.getWidgetContent()}static get(t){return t.getContribution(e.ID)}constructor(e,t,o,i,r){this._editor=e,this._instantiationService=t,this._openerService=o,this._languageService=i,this._keybindingService=r,this._toUnhook=new n.SL,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((e=>{e.hasChanged(59)&&(this._unhookEvents(),this._hookEvents())}))}_hookEvents(){const e=this._editor.getOption(59);this._isHoverEnabled=e.enabled,this._isHoverSticky=e.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._toUnhook.add(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))):(this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))),this._toUnhook.add(this._editor.onMouseLeave((e=>this._onEditorMouseLeave(e)))),this._toUnhook.add(this._editor.onDidChangeModel((()=>this._hideWidgets()))),this._toUnhook.add(this._editor.onDidScrollChange((e=>this._onEditorScrollChanged(e))))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){var t;this._isMouseDown=!0;const o=e.target;9!==o.type||o.detail!==st.ID?12===o.type&&o.detail===ut.ID||(12!==o.type&&(this._hoverClicked=!1),(null===(t=this._contentWidget)||void 0===t?void 0:t.widget.isResizing)||this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseLeave(e){var t,o;const i=e.event.browserEvent.relatedTarget;(null===(t=this._contentWidget)||void 0===t?void 0:t.widget.isResizing)||(null===(o=this._contentWidget)||void 0===o?void 0:o.containsNode(i))||this._hideWidgets()}_onEditorMouseMove(e){var t,o,i,n,r,s,a,c,d,l,h;const u=e.target;if((null===(t=this._contentWidget)||void 0===t?void 0:t.isFocused)||(null===(o=this._contentWidget)||void 0===o?void 0:o.isResizing))return;if(this._isMouseDown&&this._hoverClicked)return;if(this._isHoverSticky&&9===u.type&&u.detail===st.ID)return;if(this._isHoverSticky&&(null===(i=this._contentWidget)||void 0===i?void 0:i.containsNode(null===(n=e.event.browserEvent.view)||void 0===n?void 0:n.document.activeElement))&&!(null===(s=null===(r=e.event.browserEvent.view)||void 0===r?void 0:r.getSelection())||void 0===s?void 0:s.isCollapsed))return;if(!this._isHoverSticky&&9===u.type&&u.detail===st.ID&&(null===(a=this._contentWidget)||void 0===a?void 0:a.isColorPickerVisible))return;if(this._isHoverSticky&&12===u.type&&u.detail===ut.ID)return;if(this._isHoverSticky&&(null===(c=this._contentWidget)||void 0===c?void 0:c.isVisibleFromKeyboard))return;const g=null===(d=u.element)||void 0===d?void 0:d.classList.contains("colorpicker-color-decoration"),p=this._editor.getOption(145);if(g&&("click"===p&&!this._hoverActivatedByColorDecoratorClick||"hover"===p&&!this._isHoverEnabled||"clickAndHover"===p&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!(g||this._isHoverEnabled||this._hoverActivatedByColorDecoratorClick))this._hideWidgets();else if(this._getOrCreateContentWidget().maybeShowAt(e))null===(l=this._glyphWidget)||void 0===l||l.hide();else{if(2===u.type&&u.position)return null===(h=this._contentWidget)||void 0===h||h.hide(),this._glyphWidget||(this._glyphWidget=new ut(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(u.position.lineNumber);this._hideWidgets()}}_onKeyDown(e){var t;if(!this._editor.hasModel())return;const o=this._keybindingService.softDispatch(e,this._editor.getDomNode()),i=1===o.kind||2===o.kind&&"editor.action.showHover"===o.commandId&&(null===(t=this._contentWidget)||void 0===t?void 0:t.isVisible);5===e.keyCode||6===e.keyCode||57===e.keyCode||4===e.keyCode||i||this._hideWidgets()}_hideWidgets(){var e,t,o;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible)||Ro.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(o=this._contentWidget)||void 0===o||o.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(ot,this._editor)),this._contentWidget}showContentHover(e,t,o,i,n=!1){this._hoverActivatedByColorDecoratorClick=n,this._getOrCreateContentWidget().startShowingAtRange(e,t,o,i)}focus(){var e;null===(e=this._contentWidget)||void 0===e||e.focus()}scrollUp(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollUp()}scrollDown(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollDown()}scrollLeft(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollLeft()}scrollRight(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollRight()}pageUp(){var e;null===(e=this._contentWidget)||void 0===e||e.pageUp()}pageDown(){var e;null===(e=this._contentWidget)||void 0===e||e.pageDown()}goToTop(){var e;null===(e=this._contentWidget)||void 0===e||e.goToTop()}goToBottom(){var e;null===(e=this._contentWidget)||void 0===e||e.goToBottom()}get isColorPickerVisible(){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible}get isHoverVisible(){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.isVisible}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}};zo.ID="editor.contrib.hover",zo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}([Ko(1,Y.TG),Ko(2,mt.v4),Ko(3,c.O),Ko(4,J.d)],zo);class Uo extends r.R6{constructor(){super({id:"editor.action.showHover",label:W.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:a.u.editorTextFocus,primary:(0,i.gx)(2089,2087),weight:100}})}run(e,t,o){var i;const n=e.get(At.Ui),r=e.get(pt.F7),a=e.get(J.d);if(!t.hasModel())return;const c=zo.get(t);if(!c)return;const d=t.getPosition(),l=new s.e(d.lineNumber,d.column,d.lineNumber,d.column),h=2===t.getOption(2)||!!(null==o?void 0:o.focus);if(c.isHoverVisible?c.focus():c.showContentHover(l,1,1,h),n.getValue("accessibility.verbosity.hover")&&r.isScreenReaderOptimized()){const e=null===(i=a.lookupKeybinding("editor.action.accessibleView"))||void 0===i?void 0:i.getAriaLabel(),t=e?W.NC("chatAccessibleViewHint","Inspect this in the accessible view with {0}",e):W.NC("chatAccessibleViewHintNoKb","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding");(0,F.i7)(t)}}}class Go extends r.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:W.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const o=zo.get(t);if(!o)return;const i=t.getPosition();if(!i)return;const n=new s.e(i.lineNumber,i.column,i.lineNumber,i.column),r=Ge.get(t);r&&r.startFindDefinitionFromCursor(i).then((()=>{o.showContentHover(n,1,1,!0)}))}}class Vo extends r.R6{constructor(){super({id:"editor.action.scrollUpHover",label:W.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:16,weight:100}})}run(e,t){const o=zo.get(t);o&&o.scrollUp()}}class jo extends r.R6{constructor(){super({id:"editor.action.scrollDownHover",label:W.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:18,weight:100}})}run(e,t){const o=zo.get(t);o&&o.scrollDown()}}class Zo extends r.R6{constructor(){super({id:"editor.action.scrollLeftHover",label:W.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:15,weight:100}})}run(e,t){const o=zo.get(t);o&&o.scrollLeft()}}class $o extends r.R6{constructor(){super({id:"editor.action.scrollRightHover",label:W.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:17,weight:100}})}run(e,t){const o=zo.get(t);o&&o.scrollRight()}}class qo extends r.R6{constructor(){super({id:"editor.action.pageUpHover",label:W.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:11,secondary:[528],weight:100}})}run(e,t){const o=zo.get(t);o&&o.pageUp()}}class Qo extends r.R6{constructor(){super({id:"editor.action.pageDownHover",label:W.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:12,secondary:[530],weight:100}})}run(e,t){const o=zo.get(t);o&&o.pageDown()}}class Yo extends r.R6{constructor(){super({id:"editor.action.goToTopHover",label:W.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(e,t){const o=zo.get(t);o&&o.goToTop()}}class Jo extends r.R6{constructor(){super({id:"editor.action.goToBottomHover",label:W.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(e,t){const o=zo.get(t);o&&o.goToBottom()}}(0,r._K)(zo.ID,zo,2),(0,r.Qr)(Uo),(0,r.Qr)(Go),(0,r.Qr)(Vo),(0,r.Qr)(jo),(0,r.Qr)(Zo),(0,r.Qr)($o),(0,r.Qr)(qo),(0,r.Qr)(Qo),(0,r.Qr)(Yo),(0,r.Qr)(Jo),Qe.register(kt),Qe.register(Co),(0,_t.Ic)(((e,t)=>{const o=e.getColor(vt.CNo);o&&(t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${o.transparent(.5)}; }`))}))}}]);
//# sourceMappingURL=708.bundle.js.map