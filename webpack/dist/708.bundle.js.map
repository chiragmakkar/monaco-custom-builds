{"version":3,"file":"708.bundle.js","mappings":"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","sources":["webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hover.css","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/media/gotoErrorWidget.css","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.css","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hover.css","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget.css","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hover.css?37e7","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hoverWidget.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.css?9cc9","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/symbolNavigation.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToSymbol.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToCommands.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hoverOperation.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hoverTypes.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/resizableContentWidget.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/contentHover.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/marginHover.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/getHover.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/markdownHoverParticipant.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/markerNavigationService.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/media/gotoErrorWidget.css?ecf8","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/gotoErrorWidget.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/gotoError.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/markerHoverParticipant.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget.css?e561","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/commandIds.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hover.css?c9ac","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hover.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tbox-sizing: border-box;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover:not(.disabled) {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: var(--hover-maxWidth, 500px);\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul,\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tmargin: 8px 0;\n}\n\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tline-height: 1.1;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .info {\n\tfont-style: italic;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-hover .hover-contents a.code-link > span:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hover.css\"],\"names\":[],\"mappings\":\"AAAA;;;+FAG+F;;AAE/F;CACC,eAAe;CACf,kBAAkB;CAClB,gBAAgB;CAChB,iBAAiB;CACjB,yBAAyB;CACzB,sBAAsB;CACtB,8BAA8B;CAC9B,kBAAkB;AACnB;;AAEA;CACC,aAAa;AACd;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,gBAAgB;AACjB;;AAEA;CACC,uCAAuC;CACvC,qBAAqB;AACtB;;AAEA;CACC,eAAe;AAChB;;AAEA;;;;;;;;;CASC,aAAa;AACd;;AAEA;;;;;;CAMC,gBAAgB;AACjB;;AAEA;CACC,yCAAyC;AAC1C;;AAEA;CACC,sBAAsB;CACtB,gBAAgB;CAChB,iBAAiB;CACjB,eAAe;CACf,mBAAmB;CACnB,iBAAiB;CACjB,kBAAkB;CAClB,WAAW;AACZ;;AAEA;;;CAGC,aAAa;AACd;;AAEA;;;CAGC,gBAAgB;AACjB;;AAEA,yBAAyB;AACzB;CACC,kBAAkB;AACnB;AACA;CACC,kBAAkB;AACnB;;AAEA;CACC,gBAAgB;AACjB;;AAEA;CACC,aAAa;AACd;;AAEA;CACC,kBAAkB;CAClB,gBAAgB;AACjB;;AAEA;CACC,qBAAqB;AACtB;;AAEA;CACC,eAAe;CACf,iBAAiB;AAClB;;AAEA;CACC,kBAAkB;CAClB,gBAAgB;AACjB;;AAEA;CACC,aAAa;CACb,gBAAgB;AACjB;;AAEA;CACC,kBAAkB;CAClB,eAAe;AAChB;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,cAAc;CACd,kBAAkB;CAClB,sBAAsB;AACvB;;AAEA;;CAEC,cAAc;AACf;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,0BAA0B;CAC1B,sCAAsC;CACtC,oCAAoC;CACpC,8BAA8B;CAC9B,wCAAwC;AACzC;;AAEA;CACC,8CAA8C;AAC/C;;AAEA,gIAAgI;AAChI;CACC,kBAAkB;CAClB,qBAAqB;AACtB;;AAEA;CACC,yBAAyB;CACzB,iBAAiB;AAClB;;AAEA;CACC,oBAAoB;CACpB,YAAY;CACZ,eAAe;AAChB\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\n *--------------------------------------------------------------------------------------------*/\\n\\n.monaco-hover {\\n\\tcursor: default;\\n\\tposition: absolute;\\n\\toverflow: hidden;\\n\\tuser-select: text;\\n\\t-webkit-user-select: text;\\n\\tbox-sizing: border-box;\\n\\tanimation: fadein 100ms linear;\\n\\tline-height: 1.5em;\\n}\\n\\n.monaco-hover.hidden {\\n\\tdisplay: none;\\n}\\n\\n.monaco-hover a:hover:not(.disabled) {\\n\\tcursor: pointer;\\n}\\n\\n.monaco-hover .hover-contents:not(.html-hover-contents) {\\n\\tpadding: 4px 8px;\\n}\\n\\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\\n\\tmax-width: var(--hover-maxWidth, 500px);\\n\\tword-wrap: break-word;\\n}\\n\\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\\n\\tmin-width: 100%;\\n}\\n\\n.monaco-hover p,\\n.monaco-hover .code,\\n.monaco-hover ul,\\n.monaco-hover h1,\\n.monaco-hover h2,\\n.monaco-hover h3,\\n.monaco-hover h4,\\n.monaco-hover h5,\\n.monaco-hover h6 {\\n\\tmargin: 8px 0;\\n}\\n\\n.monaco-hover h1,\\n.monaco-hover h2,\\n.monaco-hover h3,\\n.monaco-hover h4,\\n.monaco-hover h5,\\n.monaco-hover h6 {\\n\\tline-height: 1.1;\\n}\\n\\n.monaco-hover code {\\n\\tfont-family: var(--monaco-monospace-font);\\n}\\n\\n.monaco-hover hr {\\n\\tbox-sizing: border-box;\\n\\tborder-left: 0px;\\n\\tborder-right: 0px;\\n\\tmargin-top: 4px;\\n\\tmargin-bottom: -4px;\\n\\tmargin-left: -8px;\\n\\tmargin-right: -8px;\\n\\theight: 1px;\\n}\\n\\n.monaco-hover p:first-child,\\n.monaco-hover .code:first-child,\\n.monaco-hover ul:first-child {\\n\\tmargin-top: 0;\\n}\\n\\n.monaco-hover p:last-child,\\n.monaco-hover .code:last-child,\\n.monaco-hover ul:last-child {\\n\\tmargin-bottom: 0;\\n}\\n\\n/* MarkupContent Layout */\\n.monaco-hover ul {\\n\\tpadding-left: 20px;\\n}\\n.monaco-hover ol {\\n\\tpadding-left: 20px;\\n}\\n\\n.monaco-hover li > p {\\n\\tmargin-bottom: 0;\\n}\\n\\n.monaco-hover li > ul {\\n\\tmargin-top: 0;\\n}\\n\\n.monaco-hover code {\\n\\tborder-radius: 3px;\\n\\tpadding: 0 0.4em;\\n}\\n\\n.monaco-hover .monaco-tokenized-source {\\n\\twhite-space: pre-wrap;\\n}\\n\\n.monaco-hover .hover-row.status-bar {\\n\\tfont-size: 12px;\\n\\tline-height: 22px;\\n}\\n\\n.monaco-hover .hover-row.status-bar .info {\\n\\tfont-style: italic;\\n\\tpadding: 0px 8px;\\n}\\n\\n.monaco-hover .hover-row.status-bar .actions {\\n\\tdisplay: flex;\\n\\tpadding: 0px 8px;\\n}\\n\\n.monaco-hover .hover-row.status-bar .actions .action-container {\\n\\tmargin-right: 16px;\\n\\tcursor: pointer;\\n}\\n\\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\\n\\tpadding-right: 4px;\\n}\\n\\n.monaco-hover .markdown-hover .hover-contents .codicon {\\n\\tcolor: inherit;\\n\\tfont-size: inherit;\\n\\tvertical-align: middle;\\n}\\n\\n.monaco-hover .hover-contents a.code-link:hover,\\n.monaco-hover .hover-contents a.code-link {\\n\\tcolor: inherit;\\n}\\n\\n.monaco-hover .hover-contents a.code-link:before {\\n\\tcontent: '(';\\n}\\n\\n.monaco-hover .hover-contents a.code-link:after {\\n\\tcontent: ')';\\n}\\n\\n.monaco-hover .hover-contents a.code-link > span {\\n\\ttext-decoration: underline;\\n\\t/** Hack to force underline to show **/\\n\\tborder-bottom: 1px solid transparent;\\n\\ttext-underline-position: under;\\n\\tcolor: var(--vscode-textLink-foreground);\\n}\\n\\n.monaco-hover .hover-contents a.code-link > span:hover {\\n\\tcolor: var(--vscode-textLink-activeForeground);\\n}\\n\\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\\n\\tmargin-bottom: 4px;\\n\\tdisplay: inline-block;\\n}\\n\\n.monaco-hover-content .action-container a {\\n\\t-webkit-user-select: none;\\n\\tuser-select: none;\\n}\\n\\n.monaco-hover-content .action-container.disabled {\\n\\tpointer-events: none;\\n\\topacity: 0.4;\\n\\tcursor: default;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/media/gotoErrorWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;+FAG+F;;AAE/F,gBAAgB;;AAEhB;CACC,qBAAqB;CACrB,wBAAwB;CACxB,iBAAiB;AAClB;;AAEA;CACC,uBAAuB;CACvB,mBAAmB;AACpB;;AAEA;CACC,YAAY;CACZ,kBAAkB;AACnB;;AAEA;CACC,qBAAqB;CACrB,kBAAkB;AACnB;;AAEA;CACC,kBAAkB;CAClB,gBAAgB;CAChB,iBAAiB;CACjB,yBAAyB;CACzB,wBAAwB;AACzB;;AAEA;CACC,aAAa;CACb,sBAAsB;AACvB;;AAEA;CACC,iBAAiB;AAClB;;AAEA;;CAEC,YAAY;AACb;;AAEA;CACC,YAAY;CACZ,cAAc;AACf;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,0BAA0B;CAC1B,sCAAsC;CACtC,oCAAoC;CACpC,8BAA8B;CAC9B,wCAAwC;AACzC;;AAEA;CACC,8CAA8C;AAC/C;;AAEA;CACC,eAAe;AAChB\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\n *--------------------------------------------------------------------------------------------*/\\n\\n/* marker zone */\\n\\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\\n\\tdisplay: inline-block;\\n\\tvertical-align: text-top;\\n\\tmargin-right: 4px;\\n}\\n\\n.monaco-editor .marker-widget {\\n\\ttext-overflow: ellipsis;\\n\\twhite-space: nowrap;\\n}\\n\\n.monaco-editor .marker-widget > .stale {\\n\\topacity: 0.6;\\n\\tfont-style: italic;\\n}\\n\\n.monaco-editor .marker-widget .title {\\n\\tdisplay: inline-block;\\n\\tpadding-right: 5px;\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer {\\n\\tposition: absolute;\\n\\twhite-space: pre;\\n\\tuser-select: text;\\n\\t-webkit-user-select: text;\\n\\tpadding: 8px 12px 0 20px;\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer .message {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\\n\\tpadding-left: 6px;\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\\n\\topacity: 0.6;\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\\n\\topacity: 0.6;\\n\\tcolor: inherit;\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\\n\\tcontent: '(';\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\\n\\tcontent: ')';\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\\n\\ttext-decoration: underline;\\n\\t/** Hack to force underline to show **/\\n\\tborder-bottom: 1px solid transparent;\\n\\ttext-underline-position: under;\\n\\tcolor: var(--vscode-textLink-foreground);\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\\n\\tcolor: var(--vscode-textLink-activeForeground);\\n}\\n\\n.monaco-editor .marker-widget .descriptioncontainer .filename {\\n\\tcursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.css\"],\"names\":[],\"mappings\":\"AAAA;;;+FAG+F;;AAE/F;CACC,0BAA0B;CAC1B,eAAe;CACf,2DAA2D;AAC5D\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\n *--------------------------------------------------------------------------------------------*/\\n\\n.monaco-editor .goto-definition-link {\\n\\ttext-decoration: underline;\\n\\tcursor: pointer;\\n\\tcolor: var(--vscode-editorLink-activeForeground) !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .hoverHighlight {\n\tbackground-color: var(--vscode-editor-hoverHighlightBackground);\n}\n\n.monaco-editor .monaco-hover {\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n\tborder-radius: 3px;\n}\n\n.monaco-editor .monaco-hover a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .monaco-hover a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .monaco-hover .hover-row .actions {\n\tbackground-color: var(--vscode-editorHoverWidget-statusBarBackground);\n}\n\n.monaco-editor .monaco-hover code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hover.css\"],\"names\":[],\"mappings\":\"AAAA;;;+FAG+F;;AAE/F;CACC,+DAA+D;AAChE;;AAEA;CACC,iDAAiD;CACjD,4DAA4D;CAC5D,wDAAwD;CACxD,kBAAkB;AACnB;;AAEA;CACC,wCAAwC;AACzC;;AAEA;CACC,8CAA8C;AAC/C;;AAEA;CACC,qEAAqE;AACtE;;AAEA;CACC,wDAAwD;AACzD\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\n *--------------------------------------------------------------------------------------------*/\\n\\n.monaco-editor .hoverHighlight {\\n\\tbackground-color: var(--vscode-editor-hoverHighlightBackground);\\n}\\n\\n.monaco-editor .monaco-hover {\\n\\tcolor: var(--vscode-editorHoverWidget-foreground);\\n\\tbackground-color: var(--vscode-editorHoverWidget-background);\\n\\tborder: 1px solid var(--vscode-editorHoverWidget-border);\\n\\tborder-radius: 3px;\\n}\\n\\n.monaco-editor .monaco-hover a {\\n\\tcolor: var(--vscode-textLink-foreground);\\n}\\n\\n.monaco-editor .monaco-hover a:hover {\\n\\tcolor: var(--vscode-textLink-activeForeground);\\n}\\n\\n.monaco-editor .monaco-hover .hover-row .actions {\\n\\tbackground-color: var(--vscode-editorHoverWidget-statusBarBackground);\\n}\\n\\n.monaco-editor .monaco-hover code {\\n\\tbackground-color: var(--vscode-textCodeBlock-background);\\n}\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inlineSuggestionsHints.withBorder {\n\tz-index: 39;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .inlineSuggestionsHints a {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints a:hover {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\topacity: 0.6;\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding .monaco-keybinding-key {\n\tfont-size: 8px;\n\tpadding: 2px 3px;\n}\n\n.monaco-editor .inlineSuggestionsHints .custom-actions .action-item:nth-child(2) a {\n\tdisplay: flex;\n\tmin-width: 19px;\n\tjustify-content: center;\n}\n\n.monaco-editor .inlineSuggestionStatusBarItemLabel {\n\tmargin-right: 2px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;+FAG+F;;AAE/F;CACC,WAAW;CACX,iDAAiD;CACjD,4DAA4D;CAC5D,wDAAwD;AACzD;;AAEA;CACC,+BAA+B;AAChC;;AAEA;CACC,+BAA+B;AAChC;;AAEA;CACC,aAAa;CACb,gBAAgB;CAChB,YAAY;AACb;;AAEA;CACC,cAAc;CACd,gBAAgB;AACjB;;AAEA;CACC,aAAa;CACb,eAAe;CACf,uBAAuB;AACxB;;AAEA;CACC,iBAAiB;AAClB\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\n *--------------------------------------------------------------------------------------------*/\\n\\n.monaco-editor .inlineSuggestionsHints.withBorder {\\n\\tz-index: 39;\\n\\tcolor: var(--vscode-editorHoverWidget-foreground);\\n\\tbackground-color: var(--vscode-editorHoverWidget-background);\\n\\tborder: 1px solid var(--vscode-editorHoverWidget-border);\\n}\\n\\n.monaco-editor .inlineSuggestionsHints a {\\n\\tcolor: var(--vscode-foreground);\\n}\\n\\n.monaco-editor .inlineSuggestionsHints a:hover {\\n\\tcolor: var(--vscode-foreground);\\n}\\n\\n.monaco-editor .inlineSuggestionsHints .keybinding {\\n\\tdisplay: flex;\\n\\tmargin-left: 4px;\\n\\topacity: 0.6;\\n}\\n\\n.monaco-editor .inlineSuggestionsHints .keybinding .monaco-keybinding-key {\\n\\tfont-size: 8px;\\n\\tpadding: 2px 3px;\\n}\\n\\n.monaco-editor .inlineSuggestionsHints .custom-actions .action-item:nth-child(2) a {\\n\\tdisplay: flex;\\n\\tmin-width: 19px;\\n\\tjustify-content: center;\\n}\\n\\n.monaco-editor .inlineSuggestionStatusBarItemLabel {\\n\\tmargin-right: 2px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../css-loader/dist/cjs.js!./hover.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../css-loader/dist/cjs.js!./hover.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './hover.css';\nconst $ = dom.$;\nexport class HoverWidget extends Disposable {\n    constructor() {\n        super();\n        this.containerDomNode = document.createElement('div');\n        this.containerDomNode.className = 'monaco-hover';\n        this.containerDomNode.tabIndex = 0;\n        this.containerDomNode.setAttribute('role', 'tooltip');\n        this.contentsDomNode = document.createElement('div');\n        this.contentsDomNode.className = 'monaco-hover-content';\n        this.scrollbar = this._register(new DomScrollableElement(this.contentsDomNode, {\n            consumeMouseWheelIfScrollbarIsNeeded: true\n        }));\n        this.containerDomNode.appendChild(this.scrollbar.getDomNode());\n    }\n    onContentsChanged() {\n        this.scrollbar.scanDomNode();\n    }\n}\nexport class HoverAction extends Disposable {\n    static render(parent, actionOptions, keybindingLabel) {\n        return new HoverAction(parent, actionOptions, keybindingLabel);\n    }\n    constructor(parent, actionOptions, keybindingLabel) {\n        super();\n        this.actionContainer = dom.append(parent, $('div.action-container'));\n        this.actionContainer.setAttribute('tabindex', '0');\n        this.action = dom.append(this.actionContainer, $('a.action'));\n        this.action.setAttribute('role', 'button');\n        if (actionOptions.iconClass) {\n            dom.append(this.action, $(`span.icon.${actionOptions.iconClass}`));\n        }\n        const label = dom.append(this.action, $('span'));\n        label.textContent = keybindingLabel ? `${actionOptions.label} (${keybindingLabel})` : actionOptions.label;\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.CLICK, e => {\n            e.stopPropagation();\n            e.preventDefault();\n            actionOptions.run(this.actionContainer);\n        }));\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */)) {\n                e.stopPropagation();\n                e.preventDefault();\n                actionOptions.run(this.actionContainer);\n            }\n        }));\n        this.setEnabled(true);\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.actionContainer.classList.remove('disabled');\n            this.actionContainer.removeAttribute('aria-disabled');\n        }\n        else {\n            this.actionContainer.classList.add('disabled');\n            this.actionContainer.setAttribute('aria-disabled', 'true');\n        }\n    }\n}\n","\n      import API from \"!../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../css-loader/dist/cjs.js!./goToDefinitionAtPosition.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../css-loader/dist/cjs.js!./goToDefinitionAtPosition.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../../base/common/platform.js';\nfunction hasModifier(e, modifier) {\n    return !!e[modifier];\n}\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkMouseEvent {\n    constructor(source, opts) {\n        this.target = source.target;\n        this.isLeftClick = source.event.leftButton;\n        this.isMiddleClick = source.event.middleButton;\n        this.isRightClick = source.event.rightButton;\n        this.hasTriggerModifier = hasModifier(source.event, opts.triggerModifier);\n        this.hasSideBySideModifier = hasModifier(source.event, opts.triggerSideBySideModifier);\n        this.isNoneOrSingleMouseDown = (source.event.detail <= 1);\n    }\n}\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkKeyboardEvent {\n    constructor(source, opts) {\n        this.keyCodeIsTriggerKey = (source.keyCode === opts.triggerKey);\n        this.keyCodeIsSideBySideKey = (source.keyCode === opts.triggerSideBySideKey);\n        this.hasTriggerModifier = hasModifier(source, opts.triggerModifier);\n    }\n}\nexport class ClickLinkOptions {\n    constructor(triggerKey, triggerModifier, triggerSideBySideKey, triggerSideBySideModifier) {\n        this.triggerKey = triggerKey;\n        this.triggerModifier = triggerModifier;\n        this.triggerSideBySideKey = triggerSideBySideKey;\n        this.triggerSideBySideModifier = triggerSideBySideModifier;\n    }\n    equals(other) {\n        return (this.triggerKey === other.triggerKey\n            && this.triggerModifier === other.triggerModifier\n            && this.triggerSideBySideKey === other.triggerSideBySideKey\n            && this.triggerSideBySideModifier === other.triggerSideBySideModifier);\n    }\n}\nfunction createOptions(multiCursorModifier) {\n    if (multiCursorModifier === 'altKey') {\n        if (platform.isMacintosh) {\n            return new ClickLinkOptions(57 /* KeyCode.Meta */, 'metaKey', 6 /* KeyCode.Alt */, 'altKey');\n        }\n        return new ClickLinkOptions(5 /* KeyCode.Ctrl */, 'ctrlKey', 6 /* KeyCode.Alt */, 'altKey');\n    }\n    if (platform.isMacintosh) {\n        return new ClickLinkOptions(6 /* KeyCode.Alt */, 'altKey', 57 /* KeyCode.Meta */, 'metaKey');\n    }\n    return new ClickLinkOptions(6 /* KeyCode.Alt */, 'altKey', 5 /* KeyCode.Ctrl */, 'ctrlKey');\n}\nexport class ClickLinkGesture extends Disposable {\n    constructor(editor, alwaysFireOnMouseUp) {\n        super();\n        this._onMouseMoveOrRelevantKeyDown = this._register(new Emitter());\n        this.onMouseMoveOrRelevantKeyDown = this._onMouseMoveOrRelevantKeyDown.event;\n        this._onExecute = this._register(new Emitter());\n        this.onExecute = this._onExecute.event;\n        this._onCancel = this._register(new Emitter());\n        this.onCancel = this._onCancel.event;\n        this._editor = editor;\n        this._alwaysFireExecuteOnMouseUp = alwaysFireOnMouseUp;\n        this._opts = createOptions(this._editor.getOption(76 /* EditorOption.multiCursorModifier */));\n        this._lastMouseMoveEvent = null;\n        this._hasTriggerKeyOnMouseDown = false;\n        this._lineNumberOnMouseDown = 0;\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(76 /* EditorOption.multiCursorModifier */)) {\n                const newOpts = createOptions(this._editor.getOption(76 /* EditorOption.multiCursorModifier */));\n                if (this._opts.equals(newOpts)) {\n                    return;\n                }\n                this._opts = newOpts;\n                this._lastMouseMoveEvent = null;\n                this._hasTriggerKeyOnMouseDown = false;\n                this._lineNumberOnMouseDown = 0;\n                this._onCancel.fire();\n            }\n        }));\n        this._register(this._editor.onMouseMove((e) => this._onEditorMouseMove(new ClickLinkMouseEvent(e, this._opts))));\n        this._register(this._editor.onMouseDown((e) => this._onEditorMouseDown(new ClickLinkMouseEvent(e, this._opts))));\n        this._register(this._editor.onMouseUp((e) => this._onEditorMouseUp(new ClickLinkMouseEvent(e, this._opts))));\n        this._register(this._editor.onKeyDown((e) => this._onEditorKeyDown(new ClickLinkKeyboardEvent(e, this._opts))));\n        this._register(this._editor.onKeyUp((e) => this._onEditorKeyUp(new ClickLinkKeyboardEvent(e, this._opts))));\n        this._register(this._editor.onMouseDrag(() => this._resetHandler()));\n        this._register(this._editor.onDidChangeCursorSelection((e) => this._onDidChangeCursorSelection(e)));\n        this._register(this._editor.onDidChangeModel((e) => this._resetHandler()));\n        this._register(this._editor.onDidChangeModelContent(() => this._resetHandler()));\n        this._register(this._editor.onDidScrollChange((e) => {\n            if (e.scrollTopChanged || e.scrollLeftChanged) {\n                this._resetHandler();\n            }\n        }));\n    }\n    _onDidChangeCursorSelection(e) {\n        if (e.selection && e.selection.startColumn !== e.selection.endColumn) {\n            this._resetHandler(); // immediately stop this feature if the user starts to select (https://github.com/microsoft/vscode/issues/7827)\n        }\n    }\n    _onEditorMouseMove(mouseEvent) {\n        this._lastMouseMoveEvent = mouseEvent;\n        this._onMouseMoveOrRelevantKeyDown.fire([mouseEvent, null]);\n    }\n    _onEditorMouseDown(mouseEvent) {\n        // We need to record if we had the trigger key on mouse down because someone might select something in the editor\n        // holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then\n        // release the mouse button without wanting to do the navigation.\n        // With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.\n        this._hasTriggerKeyOnMouseDown = mouseEvent.hasTriggerModifier;\n        this._lineNumberOnMouseDown = mouseEvent.target.position ? mouseEvent.target.position.lineNumber : 0;\n    }\n    _onEditorMouseUp(mouseEvent) {\n        const currentLineNumber = mouseEvent.target.position ? mouseEvent.target.position.lineNumber : 0;\n        if (this._hasTriggerKeyOnMouseDown && this._lineNumberOnMouseDown && this._lineNumberOnMouseDown === currentLineNumber || this._alwaysFireExecuteOnMouseUp) {\n            this._onExecute.fire(mouseEvent);\n        }\n    }\n    _onEditorKeyDown(e) {\n        if (this._lastMouseMoveEvent\n            && (e.keyCodeIsTriggerKey // User just pressed Ctrl/Cmd (normal goto definition)\n                || (e.keyCodeIsSideBySideKey && e.hasTriggerModifier) // User pressed Ctrl/Cmd+Alt (goto definition to the side)\n            )) {\n            this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent, e]);\n        }\n        else if (e.hasTriggerModifier) {\n            this._onCancel.fire(); // remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration\n        }\n    }\n    _onEditorKeyUp(e) {\n        if (e.keyCodeIsTriggerKey) {\n            this._onCancel.fire();\n        }\n    }\n    _resetHandler() {\n        this._lastMouseMoveEvent = null;\n        this._hasTriggerKeyOnMouseDown = false;\n        this._onCancel.fire();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Emitter } from '../../../../base/common/event.js';\nimport { combinedDisposable, DisposableStore, dispose } from '../../../../base/common/lifecycle.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { EditorCommand, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Range } from '../../../common/core/range.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { KeybindingsRegistry } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nexport const ctxHasSymbols = new RawContextKey('hasSymbols', false, localize('hasSymbols', \"Whether there are symbol locations that can be navigated via keyboard-only.\"));\nexport const ISymbolNavigationService = createDecorator('ISymbolNavigationService');\nlet SymbolNavigationService = class SymbolNavigationService {\n    constructor(contextKeyService, _editorService, _notificationService, _keybindingService) {\n        this._editorService = _editorService;\n        this._notificationService = _notificationService;\n        this._keybindingService = _keybindingService;\n        this._currentModel = undefined;\n        this._currentIdx = -1;\n        this._ignoreEditorChange = false;\n        this._ctxHasSymbols = ctxHasSymbols.bindTo(contextKeyService);\n    }\n    reset() {\n        var _a, _b;\n        this._ctxHasSymbols.reset();\n        (_a = this._currentState) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._currentMessage) === null || _b === void 0 ? void 0 : _b.dispose();\n        this._currentModel = undefined;\n        this._currentIdx = -1;\n    }\n    put(anchor) {\n        const refModel = anchor.parent.parent;\n        if (refModel.references.length <= 1) {\n            this.reset();\n            return;\n        }\n        this._currentModel = refModel;\n        this._currentIdx = refModel.references.indexOf(anchor);\n        this._ctxHasSymbols.set(true);\n        this._showMessage();\n        const editorState = new EditorState(this._editorService);\n        const listener = editorState.onDidChange(_ => {\n            if (this._ignoreEditorChange) {\n                return;\n            }\n            const editor = this._editorService.getActiveCodeEditor();\n            if (!editor) {\n                return;\n            }\n            const model = editor.getModel();\n            const position = editor.getPosition();\n            if (!model || !position) {\n                return;\n            }\n            let seenUri = false;\n            let seenPosition = false;\n            for (const reference of refModel.references) {\n                if (isEqual(reference.uri, model.uri)) {\n                    seenUri = true;\n                    seenPosition = seenPosition || Range.containsPosition(reference.range, position);\n                }\n                else if (seenUri) {\n                    break;\n                }\n            }\n            if (!seenUri || !seenPosition) {\n                this.reset();\n            }\n        });\n        this._currentState = combinedDisposable(editorState, listener);\n    }\n    revealNext(source) {\n        if (!this._currentModel) {\n            return Promise.resolve();\n        }\n        // get next result and advance\n        this._currentIdx += 1;\n        this._currentIdx %= this._currentModel.references.length;\n        const reference = this._currentModel.references[this._currentIdx];\n        // status\n        this._showMessage();\n        // open editor, ignore events while that happens\n        this._ignoreEditorChange = true;\n        return this._editorService.openCodeEditor({\n            resource: reference.uri,\n            options: {\n                selection: Range.collapseToStart(reference.range),\n                selectionRevealType: 3 /* TextEditorSelectionRevealType.NearTopIfOutsideViewport */\n            }\n        }, source).finally(() => {\n            this._ignoreEditorChange = false;\n        });\n    }\n    _showMessage() {\n        var _a;\n        (_a = this._currentMessage) === null || _a === void 0 ? void 0 : _a.dispose();\n        const kb = this._keybindingService.lookupKeybinding('editor.gotoNextSymbolFromResult');\n        const message = kb\n            ? localize('location.kb', \"Symbol {0} of {1}, {2} for next\", this._currentIdx + 1, this._currentModel.references.length, kb.getLabel())\n            : localize('location', \"Symbol {0} of {1}\", this._currentIdx + 1, this._currentModel.references.length);\n        this._currentMessage = this._notificationService.status(message);\n    }\n};\nSymbolNavigationService = __decorate([\n    __param(0, IContextKeyService),\n    __param(1, ICodeEditorService),\n    __param(2, INotificationService),\n    __param(3, IKeybindingService)\n], SymbolNavigationService);\nregisterSingleton(ISymbolNavigationService, SymbolNavigationService, 1 /* InstantiationType.Delayed */);\nregisterEditorCommand(new class extends EditorCommand {\n    constructor() {\n        super({\n            id: 'editor.gotoNextSymbolFromResult',\n            precondition: ctxHasSymbols,\n            kbOpts: {\n                weight: 100 /* KeybindingWeight.EditorContrib */,\n                primary: 70 /* KeyCode.F12 */\n            }\n        });\n    }\n    runEditorCommand(accessor, editor) {\n        return accessor.get(ISymbolNavigationService).revealNext(editor);\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'editor.gotoNextSymbolFromResult.cancel',\n    weight: 100 /* KeybindingWeight.EditorContrib */,\n    when: ctxHasSymbols,\n    primary: 9 /* KeyCode.Escape */,\n    handler(accessor) {\n        accessor.get(ISymbolNavigationService).reset();\n    }\n});\n//\nlet EditorState = class EditorState {\n    constructor(editorService) {\n        this._listener = new Map();\n        this._disposables = new DisposableStore();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._disposables.add(editorService.onCodeEditorRemove(this._onDidRemoveEditor, this));\n        this._disposables.add(editorService.onCodeEditorAdd(this._onDidAddEditor, this));\n        editorService.listCodeEditors().forEach(this._onDidAddEditor, this);\n    }\n    dispose() {\n        this._disposables.dispose();\n        this._onDidChange.dispose();\n        dispose(this._listener.values());\n    }\n    _onDidAddEditor(editor) {\n        this._listener.set(editor, combinedDisposable(editor.onDidChangeCursorPosition(_ => this._onDidChange.fire({ editor })), editor.onDidChangeModelContent(_ => this._onDidChange.fire({ editor }))));\n    }\n    _onDidRemoveEditor(editor) {\n        var _a;\n        (_a = this._listener.get(editor)) === null || _a === void 0 ? void 0 : _a.dispose();\n        this._listener.delete(editor);\n    }\n};\nEditorState = __decorate([\n    __param(0, ICodeEditorService)\n], EditorState);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ReferencesModel } from './referencesModel.js';\nfunction getLocationLinks(model, position, registry, provide) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const provider = registry.ordered(model);\n        // get results\n        const promises = provider.map((provider) => {\n            return Promise.resolve(provide(provider, model, position)).then(undefined, err => {\n                onUnexpectedExternalError(err);\n                return undefined;\n            });\n        });\n        const values = yield Promise.all(promises);\n        return coalesce(values.flat());\n    });\n}\nexport function getDefinitionsAtPosition(registry, model, position, token) {\n    return getLocationLinks(model, position, registry, (provider, model, position) => {\n        return provider.provideDefinition(model, position, token);\n    });\n}\nexport function getDeclarationsAtPosition(registry, model, position, token) {\n    return getLocationLinks(model, position, registry, (provider, model, position) => {\n        return provider.provideDeclaration(model, position, token);\n    });\n}\nexport function getImplementationsAtPosition(registry, model, position, token) {\n    return getLocationLinks(model, position, registry, (provider, model, position) => {\n        return provider.provideImplementation(model, position, token);\n    });\n}\nexport function getTypeDefinitionsAtPosition(registry, model, position, token) {\n    return getLocationLinks(model, position, registry, (provider, model, position) => {\n        return provider.provideTypeDefinition(model, position, token);\n    });\n}\nexport function getReferencesAtPosition(registry, model, position, compact, token) {\n    return getLocationLinks(model, position, registry, (provider, model, position) => __awaiter(this, void 0, void 0, function* () {\n        const result = yield provider.provideReferences(model, position, { includeDeclaration: true }, token);\n        if (!compact || !result || result.length !== 2) {\n            return result;\n        }\n        const resultWithoutDeclaration = yield provider.provideReferences(model, position, { includeDeclaration: false }, token);\n        if (resultWithoutDeclaration && resultWithoutDeclaration.length === 1) {\n            return resultWithoutDeclaration;\n        }\n        return result;\n    }));\n}\n// -- API commands ----\nfunction _sortedAndDeduped(callback) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const rawLinks = yield callback();\n        const model = new ReferencesModel(rawLinks, '');\n        const modelLinks = model.references.map(ref => ref.link);\n        model.dispose();\n        return modelLinks;\n    });\n}\nregisterModelAndPositionCommand('_executeDefinitionProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeDeclarationProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeReferenceProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeImplementationProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar _a, _b, _c, _d, _e, _f, _g, _h;\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { isCodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction2 } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/embeddedCodeEditorWidget.js';\nimport * as corePosition from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { isLocationLink } from '../../../common/languages.js';\nimport { ReferencesController } from './peek/referencesController.js';\nimport { ReferencesModel } from './referencesModel.js';\nimport { ISymbolNavigationService } from './symbolNavigation.js';\nimport { MessageController } from '../../message/browser/messageController.js';\nimport { PeekContext } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../../platform/progress/common/progress.js';\nimport { getDeclarationsAtPosition, getDefinitionsAtPosition, getImplementationsAtPosition, getReferencesAtPosition, getTypeDefinitionsAtPosition } from './goToSymbol.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { IsWebContext } from '../../../../platform/contextkey/common/contextkeys.js';\nMenuRegistry.appendMenuItem(MenuId.EditorContext, {\n    submenu: MenuId.EditorContextPeek,\n    title: nls.localize('peek.submenu', \"Peek\"),\n    group: 'navigation',\n    order: 100\n});\nexport class SymbolNavigationAnchor {\n    static is(thing) {\n        if (!thing || typeof thing !== 'object') {\n            return false;\n        }\n        if (thing instanceof SymbolNavigationAnchor) {\n            return true;\n        }\n        if (corePosition.Position.isIPosition(thing.position) && thing.model) {\n            return true;\n        }\n        return false;\n    }\n    constructor(model, position) {\n        this.model = model;\n        this.position = position;\n    }\n}\nexport class SymbolNavigationAction extends EditorAction2 {\n    static all() {\n        return SymbolNavigationAction._allSymbolNavigationCommands.values();\n    }\n    static _patchConfig(opts) {\n        const result = Object.assign(Object.assign({}, opts), { f1: true });\n        // patch context menu when clause\n        if (result.menu) {\n            for (const item of Iterable.wrap(result.menu)) {\n                if (item.id === MenuId.EditorContext || item.id === MenuId.EditorContextPeek) {\n                    item.when = ContextKeyExpr.and(opts.precondition, item.when);\n                }\n            }\n        }\n        return result;\n    }\n    constructor(configuration, opts) {\n        super(SymbolNavigationAction._patchConfig(opts));\n        this.configuration = configuration;\n        SymbolNavigationAction._allSymbolNavigationCommands.set(opts.id, this);\n    }\n    runEditorCommand(accessor, editor, arg, range) {\n        if (!editor.hasModel()) {\n            return Promise.resolve(undefined);\n        }\n        const notificationService = accessor.get(INotificationService);\n        const editorService = accessor.get(ICodeEditorService);\n        const progressService = accessor.get(IEditorProgressService);\n        const symbolNavService = accessor.get(ISymbolNavigationService);\n        const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n        const instaService = accessor.get(IInstantiationService);\n        const model = editor.getModel();\n        const position = editor.getPosition();\n        const anchor = SymbolNavigationAnchor.is(arg) ? arg : new SymbolNavigationAnchor(model, position);\n        const cts = new EditorStateCancellationTokenSource(editor, 1 /* CodeEditorStateFlag.Value */ | 4 /* CodeEditorStateFlag.Position */);\n        const promise = raceCancellation(this._getLocationModel(languageFeaturesService, anchor.model, anchor.position, cts.token), cts.token).then((references) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            if (!references || cts.token.isCancellationRequested) {\n                return;\n            }\n            alert(references.ariaMessage);\n            let altAction;\n            if (references.referenceAt(model.uri, position)) {\n                const altActionId = this._getAlternativeCommand(editor);\n                if (!SymbolNavigationAction._activeAlternativeCommands.has(altActionId) && SymbolNavigationAction._allSymbolNavigationCommands.has(altActionId)) {\n                    altAction = SymbolNavigationAction._allSymbolNavigationCommands.get(altActionId);\n                }\n            }\n            const referenceCount = references.references.length;\n            if (referenceCount === 0) {\n                // no result -> show message\n                if (!this.configuration.muteMessage) {\n                    const info = model.getWordAtPosition(position);\n                    (_j = MessageController.get(editor)) === null || _j === void 0 ? void 0 : _j.showMessage(this._getNoResultFoundMessage(info), position);\n                }\n            }\n            else if (referenceCount === 1 && altAction) {\n                // already at the only result, run alternative\n                SymbolNavigationAction._activeAlternativeCommands.add(this.desc.id);\n                instaService.invokeFunction((accessor) => altAction.runEditorCommand(accessor, editor, arg, range).finally(() => {\n                    SymbolNavigationAction._activeAlternativeCommands.delete(this.desc.id);\n                }));\n            }\n            else {\n                // normal results handling\n                return this._onResult(editorService, symbolNavService, editor, references, range);\n            }\n        }), (err) => {\n            // report an error\n            notificationService.error(err);\n        }).finally(() => {\n            cts.dispose();\n        });\n        progressService.showWhile(promise, 250);\n        return promise;\n    }\n    _onResult(editorService, symbolNavService, editor, model, range) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const gotoLocation = this._getGoToPreference(editor);\n            if (!(editor instanceof EmbeddedCodeEditorWidget) && (this.configuration.openInPeek || (gotoLocation === 'peek' && model.references.length > 1))) {\n                this._openInPeek(editor, model, range);\n            }\n            else {\n                const next = model.firstReference();\n                const peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\n                const targetEditor = yield this._openReference(editor, editorService, next, this.configuration.openToSide, !peek);\n                if (peek && targetEditor) {\n                    this._openInPeek(targetEditor, model, range);\n                }\n                else {\n                    model.dispose();\n                }\n                // keep remaining locations around when using\n                // 'goto'-mode\n                if (gotoLocation === 'goto') {\n                    symbolNavService.put(next);\n                }\n            }\n        });\n    }\n    _openReference(editor, editorService, reference, sideBySide, highlight) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // range is the target-selection-range when we have one\n            // and the fallback is the 'full' range\n            let range = undefined;\n            if (isLocationLink(reference)) {\n                range = reference.targetSelectionRange;\n            }\n            if (!range) {\n                range = reference.range;\n            }\n            if (!range) {\n                return undefined;\n            }\n            const targetEditor = yield editorService.openCodeEditor({\n                resource: reference.uri,\n                options: {\n                    selection: Range.collapseToStart(range),\n                    selectionRevealType: 3 /* TextEditorSelectionRevealType.NearTopIfOutsideViewport */,\n                    selectionSource: \"code.jump\" /* TextEditorSelectionSource.JUMP */\n                }\n            }, editor, sideBySide);\n            if (!targetEditor) {\n                return undefined;\n            }\n            if (highlight) {\n                const modelNow = targetEditor.getModel();\n                const decorations = targetEditor.createDecorationsCollection([{ range, options: { description: 'symbol-navigate-action-highlight', className: 'symbolHighlight' } }]);\n                setTimeout(() => {\n                    if (targetEditor.getModel() === modelNow) {\n                        decorations.clear();\n                    }\n                }, 350);\n            }\n            return targetEditor;\n        });\n    }\n    _openInPeek(target, model, range) {\n        const controller = ReferencesController.get(target);\n        if (controller && target.hasModel()) {\n            controller.toggleWidget(range !== null && range !== void 0 ? range : target.getSelection(), createCancelablePromise(_ => Promise.resolve(model)), this.configuration.openInPeek);\n        }\n        else {\n            model.dispose();\n        }\n    }\n}\nSymbolNavigationAction._allSymbolNavigationCommands = new Map();\nSymbolNavigationAction._activeAlternativeCommands = new Set();\n//#region --- DEFINITION\nexport class DefinitionAction extends SymbolNavigationAction {\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, token), nls.localize('def.title', 'Definitions'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\n            : nls.localize('generic.noResults', \"No definition found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).alternativeDefinitionCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).multipleDefinitions;\n    }\n}\nregisterAction2((_a = class GoToDefinitionAction extends DefinitionAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: GoToDefinitionAction.id,\n                title: {\n                    value: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\n                    original: 'Go to Definition',\n                    mnemonicTitle: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\")\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: [{\n                        when: EditorContextKeys.editorTextFocus,\n                        primary: 70 /* KeyCode.F12 */,\n                        weight: 100 /* KeybindingWeight.EditorContrib */\n                    }, {\n                        when: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n                        primary: 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */,\n                        weight: 100 /* KeybindingWeight.EditorContrib */\n                    }],\n                menu: [{\n                        id: MenuId.EditorContext,\n                        group: 'navigation',\n                        order: 1.1\n                    }, {\n                        id: MenuId.MenubarGoMenu,\n                        precondition: null,\n                        group: '4_symbol_nav',\n                        order: 2,\n                    }]\n            });\n            CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\n        }\n    },\n    _a.id = 'editor.action.revealDefinition',\n    _a));\nregisterAction2((_b = class OpenDefinitionToSideAction extends DefinitionAction {\n        constructor() {\n            super({\n                openToSide: true,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: OpenDefinitionToSideAction.id,\n                title: {\n                    value: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n                    original: 'Open Definition to the Side'\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: [{\n                        when: EditorContextKeys.editorTextFocus,\n                        primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 70 /* KeyCode.F12 */),\n                        weight: 100 /* KeybindingWeight.EditorContrib */\n                    }, {\n                        when: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n                        primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */),\n                        weight: 100 /* KeybindingWeight.EditorContrib */\n                    }]\n            });\n            CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\n        }\n    },\n    _b.id = 'editor.action.revealDefinitionAside',\n    _b));\nregisterAction2((_c = class PeekDefinitionAction extends DefinitionAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: true,\n                muteMessage: false\n            }, {\n                id: PeekDefinitionAction.id,\n                title: {\n                    value: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\n                    original: 'Peek Definition'\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: {\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: 512 /* KeyMod.Alt */ | 70 /* KeyCode.F12 */,\n                    linux: { primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 68 /* KeyCode.F10 */ },\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                },\n                menu: {\n                    id: MenuId.EditorContextPeek,\n                    group: 'peek',\n                    order: 2\n                }\n            });\n            CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\n        }\n    },\n    _c.id = 'editor.action.peekDefinition',\n    _c));\n//#endregion\n//#region --- DECLARATION\nclass DeclarationAction extends SymbolNavigationAction {\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, token), nls.localize('decl.title', 'Declarations'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n            : nls.localize('decl.generic.noResults', \"No declaration found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).alternativeDeclarationCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).multipleDeclarations;\n    }\n}\nregisterAction2((_d = class GoToDeclarationAction extends DeclarationAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: GoToDeclarationAction.id,\n                title: {\n                    value: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\n                    original: 'Go to Declaration',\n                    mnemonicTitle: nls.localize({ key: 'miGotoDeclaration', comment: ['&& denotes a mnemonic'] }, \"Go to &&Declaration\")\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                menu: [{\n                        id: MenuId.EditorContext,\n                        group: 'navigation',\n                        order: 1.3\n                    }, {\n                        id: MenuId.MenubarGoMenu,\n                        precondition: null,\n                        group: '4_symbol_nav',\n                        order: 3,\n                    }],\n            });\n        }\n        _getNoResultFoundMessage(info) {\n            return info && info.word\n                ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n                : nls.localize('decl.generic.noResults', \"No declaration found\");\n        }\n    },\n    _d.id = 'editor.action.revealDeclaration',\n    _d));\nregisterAction2(class PeekDeclarationAction extends DeclarationAction {\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: true,\n            muteMessage: false\n        }, {\n            id: 'editor.action.peekDeclaration',\n            title: {\n                value: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\n                original: 'Peek Declaration'\n            },\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n            menu: {\n                id: MenuId.EditorContextPeek,\n                group: 'peek',\n                order: 3\n            }\n        });\n    }\n});\n//#endregion\n//#region --- TYPE DEFINITION\nclass TypeDefinitionAction extends SymbolNavigationAction {\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, token), nls.localize('typedef.title', 'Type Definitions'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\n            : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).alternativeTypeDefinitionCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).multipleTypeDefinitions;\n    }\n}\nregisterAction2((_e = class GoToTypeDefinitionAction extends TypeDefinitionAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: GoToTypeDefinitionAction.ID,\n                title: {\n                    value: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n                    original: 'Go to Type Definition',\n                    mnemonicTitle: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\")\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: {\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: 0,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                },\n                menu: [{\n                        id: MenuId.EditorContext,\n                        group: 'navigation',\n                        order: 1.4\n                    }, {\n                        id: MenuId.MenubarGoMenu,\n                        precondition: null,\n                        group: '4_symbol_nav',\n                        order: 3,\n                    }]\n            });\n        }\n    },\n    _e.ID = 'editor.action.goToTypeDefinition',\n    _e));\nregisterAction2((_f = class PeekTypeDefinitionAction extends TypeDefinitionAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: true,\n                muteMessage: false\n            }, {\n                id: PeekTypeDefinitionAction.ID,\n                title: {\n                    value: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n                    original: 'Peek Type Definition'\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                menu: {\n                    id: MenuId.EditorContextPeek,\n                    group: 'peek',\n                    order: 4\n                }\n            });\n        }\n    },\n    _f.ID = 'editor.action.peekTypeDefinition',\n    _f));\n//#endregion\n//#region --- IMPLEMENTATION\nclass ImplementationAction extends SymbolNavigationAction {\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, token), nls.localize('impl.title', 'Implementations'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\n            : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).alternativeImplementationCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).multipleImplementations;\n    }\n}\nregisterAction2((_g = class GoToImplementationAction extends ImplementationAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: GoToImplementationAction.ID,\n                title: {\n                    value: nls.localize('actions.goToImplementation.label', \"Go to Implementations\"),\n                    original: 'Go to Implementations',\n                    mnemonicTitle: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementations\")\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: {\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                },\n                menu: [{\n                        id: MenuId.EditorContext,\n                        group: 'navigation',\n                        order: 1.45\n                    }, {\n                        id: MenuId.MenubarGoMenu,\n                        precondition: null,\n                        group: '4_symbol_nav',\n                        order: 4,\n                    }]\n            });\n        }\n    },\n    _g.ID = 'editor.action.goToImplementation',\n    _g));\nregisterAction2((_h = class PeekImplementationAction extends ImplementationAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: true,\n                muteMessage: false\n            }, {\n                id: PeekImplementationAction.ID,\n                title: {\n                    value: nls.localize('actions.peekImplementation.label', \"Peek Implementations\"),\n                    original: 'Peek Implementations'\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: {\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                },\n                menu: {\n                    id: MenuId.EditorContextPeek,\n                    group: 'peek',\n                    order: 5\n                }\n            });\n        }\n    },\n    _h.ID = 'editor.action.peekImplementation',\n    _h));\n//#endregion\n//#region --- REFERENCES\nclass ReferencesAction extends SymbolNavigationAction {\n    _getNoResultFoundMessage(info) {\n        return info\n            ? nls.localize('references.no', \"No references found for '{0}'\", info.word)\n            : nls.localize('references.noGeneric', \"No references found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).alternativeReferenceCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(57 /* EditorOption.gotoLocation */).multipleReferences;\n    }\n}\nregisterAction2(class GoToReferencesAction extends ReferencesAction {\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: false,\n            muteMessage: false\n        }, {\n            id: 'editor.action.goToReferences',\n            title: {\n                value: nls.localize('goToReferences.label', \"Go to References\"),\n                original: 'Go to References',\n                mnemonicTitle: nls.localize({ key: 'miGotoReference', comment: ['&& denotes a mnemonic'] }, \"Go to &&References\")\n            },\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n            keybinding: {\n                when: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menu: [{\n                    id: MenuId.EditorContext,\n                    group: 'navigation',\n                    order: 1.45\n                }, {\n                    id: MenuId.MenubarGoMenu,\n                    precondition: null,\n                    group: '4_symbol_nav',\n                    order: 5,\n                }]\n        });\n    }\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, true, token), nls.localize('ref.title', 'References'));\n        });\n    }\n});\nregisterAction2(class PeekReferencesAction extends ReferencesAction {\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: true,\n            muteMessage: false\n        }, {\n            id: 'editor.action.referenceSearch.trigger',\n            title: {\n                value: nls.localize('references.action.label', \"Peek References\"),\n                original: 'Peek References'\n            },\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n            menu: {\n                id: MenuId.EditorContextPeek,\n                group: 'peek',\n                order: 6\n            }\n        });\n    }\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, token), nls.localize('ref.title', 'References'));\n        });\n    }\n});\n//#endregion\n//#region --- GENERIC goto symbols command\nclass GenericGoToLocationAction extends SymbolNavigationAction {\n    constructor(config, _references, _gotoMultipleBehaviour) {\n        super(config, {\n            id: 'editor.action.goToLocation',\n            title: {\n                value: nls.localize('label.generic', \"Go to Any Symbol\"),\n                original: 'Go to Any Symbol'\n            },\n            precondition: ContextKeyExpr.and(PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n        });\n        this._references = _references;\n        this._gotoMultipleBehaviour = _gotoMultipleBehaviour;\n    }\n    _getLocationModel(languageFeaturesService, _model, _position, _token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\n    }\n    _getGoToPreference(editor) {\n        var _j;\n        return (_j = this._gotoMultipleBehaviour) !== null && _j !== void 0 ? _j : editor.getOption(57 /* EditorOption.gotoLocation */).multipleReferences;\n    }\n    _getAlternativeCommand() { return ''; }\n}\nCommandsRegistry.registerCommand({\n    id: 'editor.action.goToLocations',\n    description: {\n        description: 'Go to locations from a position in a file',\n        args: [\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\n            { name: 'noResultsMessage', description: 'Human readable message that shows when locations is empty.' },\n        ]\n    },\n    handler: (accessor, resource, position, references, multiple, noResultsMessage, openInPeek) => __awaiter(void 0, void 0, void 0, function* () {\n        assertType(URI.isUri(resource));\n        assertType(corePosition.Position.isIPosition(position));\n        assertType(Array.isArray(references));\n        assertType(typeof multiple === 'undefined' || typeof multiple === 'string');\n        assertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\n        const editorService = accessor.get(ICodeEditorService);\n        const editor = yield editorService.openCodeEditor({ resource }, editorService.getFocusedCodeEditor());\n        if (isCodeEditor(editor)) {\n            editor.setPosition(position);\n            editor.revealPositionInCenterIfOutsideViewport(position, 0 /* ScrollType.Smooth */);\n            return editor.invokeWithinContext(accessor => {\n                const command = new class extends GenericGoToLocationAction {\n                    _getNoResultFoundMessage(info) {\n                        return noResultsMessage || super._getNoResultFoundMessage(info);\n                    }\n                }({\n                    muteMessage: !Boolean(noResultsMessage),\n                    openInPeek: Boolean(openInPeek),\n                    openToSide: false\n                }, references, multiple);\n                accessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\n            });\n        }\n    })\n});\nCommandsRegistry.registerCommand({\n    id: 'editor.action.peekLocations',\n    description: {\n        description: 'Peek locations from a position in a file',\n        args: [\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\n        ]\n    },\n    handler: (accessor, resource, position, references, multiple) => __awaiter(void 0, void 0, void 0, function* () {\n        accessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, undefined, true);\n    })\n});\n//#endregion\n//#region --- REFERENCE search special commands\nCommandsRegistry.registerCommand({\n    id: 'editor.action.findReferences',\n    handler: (accessor, resource, position) => {\n        assertType(URI.isUri(resource));\n        assertType(corePosition.Position.isIPosition(position));\n        const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n        const codeEditorService = accessor.get(ICodeEditorService);\n        return codeEditorService.openCodeEditor({ resource }, codeEditorService.getFocusedCodeEditor()).then(control => {\n            if (!isCodeEditor(control) || !control.hasModel()) {\n                return undefined;\n            }\n            const controller = ReferencesController.get(control);\n            if (!controller) {\n                return undefined;\n            }\n            const references = createCancelablePromise(token => getReferencesAtPosition(languageFeaturesService.referenceProvider, control.getModel(), corePosition.Position.lift(position), false, token).then(references => new ReferencesModel(references, nls.localize('ref.title', 'References'))));\n            const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n            return Promise.resolve(controller.toggleWidget(range, references, false));\n        });\n    }\n});\n// use NEW command\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { createCancelablePromise } from '../../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../../base/common/errors.js';\nimport { MarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { withNullAsUndefined } from '../../../../../base/common/types.js';\nimport './goToDefinitionAtPosition.css';\nimport { EditorState } from '../../../editorState/browser/editorState.js';\nimport { registerEditorContribution } from '../../../../browser/editorExtensions.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { ILanguageService } from '../../../../common/languages/language.js';\nimport { ITextModelService } from '../../../../common/services/resolverService.js';\nimport { ClickLinkGesture } from './clickLinkGesture.js';\nimport { PeekContext } from '../../../peekView/browser/peekView.js';\nimport * as nls from '../../../../../nls.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { DefinitionAction } from '../goToCommands.js';\nimport { getDefinitionsAtPosition } from '../goToSymbol.js';\nimport { ILanguageFeaturesService } from '../../../../common/services/languageFeatures.js';\nimport { ModelDecorationInjectedTextOptions } from '../../../../common/model/textModel.js';\nlet GotoDefinitionAtPositionEditorContribution = class GotoDefinitionAtPositionEditorContribution {\n    constructor(editor, textModelResolverService, languageService, languageFeaturesService) {\n        this.textModelResolverService = textModelResolverService;\n        this.languageService = languageService;\n        this.languageFeaturesService = languageFeaturesService;\n        this.toUnhook = new DisposableStore();\n        this.toUnhookForKeyboard = new DisposableStore();\n        this.currentWordAtPosition = null;\n        this.previousPromise = null;\n        this.editor = editor;\n        this.linkDecorations = this.editor.createDecorationsCollection();\n        const linkGesture = new ClickLinkGesture(editor);\n        this.toUnhook.add(linkGesture);\n        this.toUnhook.add(linkGesture.onMouseMoveOrRelevantKeyDown(([mouseEvent, keyboardEvent]) => {\n            this.startFindDefinitionFromMouse(mouseEvent, withNullAsUndefined(keyboardEvent));\n        }));\n        this.toUnhook.add(linkGesture.onExecute((mouseEvent) => {\n            if (this.isEnabled(mouseEvent)) {\n                this.gotoDefinition(mouseEvent.target.position, mouseEvent.hasSideBySideModifier)\n                    .catch((error) => {\n                    onUnexpectedError(error);\n                })\n                    .finally(() => {\n                    this.removeLinkDecorations();\n                });\n            }\n        }));\n        this.toUnhook.add(linkGesture.onCancel(() => {\n            this.removeLinkDecorations();\n            this.currentWordAtPosition = null;\n        }));\n    }\n    static get(editor) {\n        return editor.getContribution(GotoDefinitionAtPositionEditorContribution.ID);\n    }\n    startFindDefinitionFromCursor(position) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // For issue: https://github.com/microsoft/vscode/issues/46257\n            // equivalent to mouse move with meta/ctrl key\n            // First find the definition and add decorations\n            // to the editor to be shown with the content hover widget\n            yield this.startFindDefinition(position);\n            // Add listeners for editor cursor move and key down events\n            // Dismiss the \"extended\" editor decorations when the user hides\n            // the hover widget. There is no event for the widget itself so these\n            // serve as a best effort. After removing the link decorations, the hover\n            // widget is clean and will only show declarations per next request.\n            this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(() => {\n                this.currentWordAtPosition = null;\n                this.removeLinkDecorations();\n                this.toUnhookForKeyboard.clear();\n            }));\n            this.toUnhookForKeyboard.add(this.editor.onKeyDown((e) => {\n                if (e) {\n                    this.currentWordAtPosition = null;\n                    this.removeLinkDecorations();\n                    this.toUnhookForKeyboard.clear();\n                }\n            }));\n        });\n    }\n    startFindDefinitionFromMouse(mouseEvent, withKey) {\n        // check if we are active and on a content widget\n        if (mouseEvent.target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && this.linkDecorations.length > 0) {\n            return;\n        }\n        if (!this.editor.hasModel() || !this.isEnabled(mouseEvent, withKey)) {\n            this.currentWordAtPosition = null;\n            this.removeLinkDecorations();\n            return;\n        }\n        const position = mouseEvent.target.position;\n        this.startFindDefinition(position);\n    }\n    startFindDefinition(position) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            // Dispose listeners for updating decorations when using keyboard to show definition hover\n            this.toUnhookForKeyboard.clear();\n            // Find word at mouse position\n            const word = position ? (_a = this.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getWordAtPosition(position) : null;\n            if (!word) {\n                this.currentWordAtPosition = null;\n                this.removeLinkDecorations();\n                return;\n            }\n            // Return early if word at position is still the same\n            if (this.currentWordAtPosition && this.currentWordAtPosition.startColumn === word.startColumn && this.currentWordAtPosition.endColumn === word.endColumn && this.currentWordAtPosition.word === word.word) {\n                return;\n            }\n            this.currentWordAtPosition = word;\n            // Find definition and decorate word if found\n            const state = new EditorState(this.editor, 4 /* CodeEditorStateFlag.Position */ | 1 /* CodeEditorStateFlag.Value */ | 2 /* CodeEditorStateFlag.Selection */ | 8 /* CodeEditorStateFlag.Scroll */);\n            if (this.previousPromise) {\n                this.previousPromise.cancel();\n                this.previousPromise = null;\n            }\n            this.previousPromise = createCancelablePromise(token => this.findDefinition(position, token));\n            let results;\n            try {\n                results = yield this.previousPromise;\n            }\n            catch (error) {\n                onUnexpectedError(error);\n                return;\n            }\n            if (!results || !results.length || !state.validate(this.editor)) {\n                this.removeLinkDecorations();\n                return;\n            }\n            const linkRange = results[0].originSelectionRange\n                ? Range.lift(results[0].originSelectionRange)\n                : new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);\n            // Multiple results\n            if (results.length > 1) {\n                let combinedRange = linkRange;\n                for (const { originSelectionRange } of results) {\n                    if (originSelectionRange) {\n                        combinedRange = Range.plusRange(combinedRange, originSelectionRange);\n                    }\n                }\n                this.addDecoration(combinedRange, new MarkdownString().appendText(nls.localize('multipleResults', \"Click to show {0} definitions.\", results.length)));\n            }\n            else {\n                // Single result\n                const result = results[0];\n                if (!result.uri) {\n                    return;\n                }\n                this.textModelResolverService.createModelReference(result.uri).then(ref => {\n                    if (!ref.object || !ref.object.textEditorModel) {\n                        ref.dispose();\n                        return;\n                    }\n                    const { object: { textEditorModel } } = ref;\n                    const { startLineNumber } = result.range;\n                    if (startLineNumber < 1 || startLineNumber > textEditorModel.getLineCount()) {\n                        // invalid range\n                        ref.dispose();\n                        return;\n                    }\n                    const previewValue = this.getPreviewValue(textEditorModel, startLineNumber, result);\n                    const languageId = this.languageService.guessLanguageIdByFilepathOrFirstLine(textEditorModel.uri);\n                    this.addDecoration(linkRange, previewValue ? new MarkdownString().appendCodeblock(languageId ? languageId : '', previewValue) : undefined);\n                    ref.dispose();\n                });\n            }\n        });\n    }\n    getPreviewValue(textEditorModel, startLineNumber, result) {\n        let rangeToUse = result.range;\n        const numberOfLinesInRange = rangeToUse.endLineNumber - rangeToUse.startLineNumber;\n        if (numberOfLinesInRange >= GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES) {\n            rangeToUse = this.getPreviewRangeBasedOnIndentation(textEditorModel, startLineNumber);\n        }\n        const previewValue = this.stripIndentationFromPreviewRange(textEditorModel, startLineNumber, rangeToUse);\n        return previewValue;\n    }\n    stripIndentationFromPreviewRange(textEditorModel, startLineNumber, previewRange) {\n        const startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\n        let minIndent = startIndent;\n        for (let endLineNumber = startLineNumber + 1; endLineNumber < previewRange.endLineNumber; endLineNumber++) {\n            const endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\n            minIndent = Math.min(minIndent, endIndent);\n        }\n        const previewValue = textEditorModel.getValueInRange(previewRange).replace(new RegExp(`^\\\\s{${minIndent - 1}}`, 'gm'), '').trim();\n        return previewValue;\n    }\n    getPreviewRangeBasedOnIndentation(textEditorModel, startLineNumber) {\n        const startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\n        const maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES);\n        let endLineNumber = startLineNumber + 1;\n        for (; endLineNumber < maxLineNumber; endLineNumber++) {\n            const endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\n            if (startIndent === endIndent) {\n                break;\n            }\n        }\n        return new Range(startLineNumber, 1, endLineNumber + 1, 1);\n    }\n    addDecoration(range, hoverMessage) {\n        const newDecorations = {\n            range: range,\n            options: {\n                description: 'goto-definition-link',\n                inlineClassName: 'goto-definition-link',\n                hoverMessage\n            }\n        };\n        this.linkDecorations.set([newDecorations]);\n    }\n    removeLinkDecorations() {\n        this.linkDecorations.clear();\n    }\n    isEnabled(mouseEvent, withKey) {\n        var _a;\n        return this.editor.hasModel()\n            && mouseEvent.isLeftClick\n            && mouseEvent.isNoneOrSingleMouseDown\n            && mouseEvent.target.type === 6 /* MouseTargetType.CONTENT_TEXT */\n            && !(((_a = mouseEvent.target.detail.injectedText) === null || _a === void 0 ? void 0 : _a.options) instanceof ModelDecorationInjectedTextOptions)\n            && (mouseEvent.hasTriggerModifier || (withKey ? withKey.keyCodeIsTriggerKey : false))\n            && this.languageFeaturesService.definitionProvider.has(this.editor.getModel());\n    }\n    findDefinition(position, token) {\n        const model = this.editor.getModel();\n        if (!model) {\n            return Promise.resolve(null);\n        }\n        return getDefinitionsAtPosition(this.languageFeaturesService.definitionProvider, model, position, token);\n    }\n    gotoDefinition(position, openToSide) {\n        this.editor.setPosition(position);\n        return this.editor.invokeWithinContext((accessor) => {\n            const canPeek = !openToSide && this.editor.getOption(86 /* EditorOption.definitionLinkOpensInPeek */) && !this.isInPeekEditor(accessor);\n            const action = new DefinitionAction({ openToSide, openInPeek: canPeek, muteMessage: true }, { title: { value: '', original: '' }, id: '', precondition: undefined });\n            return action.run(accessor);\n        });\n    }\n    isInPeekEditor(accessor) {\n        const contextKeyService = accessor.get(IContextKeyService);\n        return PeekContext.inPeekEditor.getValue(contextKeyService);\n    }\n    dispose() {\n        this.toUnhook.dispose();\n        this.toUnhookForKeyboard.dispose();\n    }\n};\nGotoDefinitionAtPositionEditorContribution.ID = 'editor.contrib.gotodefinitionatposition';\nGotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES = 8;\nGotoDefinitionAtPositionEditorContribution = __decorate([\n    __param(1, ITextModelService),\n    __param(2, ILanguageService),\n    __param(3, ILanguageFeaturesService)\n], GotoDefinitionAtPositionEditorContribution);\nexport { GotoDefinitionAtPositionEditorContribution };\nregisterEditorContribution(GotoDefinitionAtPositionEditorContribution.ID, GotoDefinitionAtPositionEditorContribution, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nimport { createCancelableAsyncIterable, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nexport class HoverResult {\n    constructor(value, isComplete, hasLoadingMessage) {\n        this.value = value;\n        this.isComplete = isComplete;\n        this.hasLoadingMessage = hasLoadingMessage;\n    }\n}\n/**\n * Computing the hover is very fine tuned.\n *\n * Suppose the hover delay is 300ms (the default). Then, when resting the mouse at an anchor:\n * - at 150ms, the async computation is triggered (i.e. semantic hover)\n *   - if async results already come in, they are not rendered yet.\n * - at 300ms, the sync computation is triggered (i.e. decorations, markers)\n *   - if there are sync or async results, they are rendered.\n * - at 900ms, if the async computation hasn't finished, a \"Loading...\" result is added.\n */\nexport class HoverOperation extends Disposable {\n    constructor(_editor, _computer) {\n        super();\n        this._editor = _editor;\n        this._computer = _computer;\n        this._onResult = this._register(new Emitter());\n        this.onResult = this._onResult.event;\n        this._firstWaitScheduler = this._register(new RunOnceScheduler(() => this._triggerAsyncComputation(), 0));\n        this._secondWaitScheduler = this._register(new RunOnceScheduler(() => this._triggerSyncComputation(), 0));\n        this._loadingMessageScheduler = this._register(new RunOnceScheduler(() => this._triggerLoadingMessage(), 0));\n        this._state = 0 /* HoverOperationState.Idle */;\n        this._asyncIterable = null;\n        this._asyncIterableDone = false;\n        this._result = [];\n    }\n    dispose() {\n        if (this._asyncIterable) {\n            this._asyncIterable.cancel();\n            this._asyncIterable = null;\n        }\n        super.dispose();\n    }\n    get _hoverTime() {\n        return this._editor.getOption(59 /* EditorOption.hover */).delay;\n    }\n    get _firstWaitTime() {\n        return this._hoverTime / 2;\n    }\n    get _secondWaitTime() {\n        return this._hoverTime - this._firstWaitTime;\n    }\n    get _loadingMessageTime() {\n        return 3 * this._hoverTime;\n    }\n    _setState(state, fireResult = true) {\n        this._state = state;\n        if (fireResult) {\n            this._fireResult();\n        }\n    }\n    _triggerAsyncComputation() {\n        this._setState(2 /* HoverOperationState.SecondWait */);\n        this._secondWaitScheduler.schedule(this._secondWaitTime);\n        if (this._computer.computeAsync) {\n            this._asyncIterableDone = false;\n            this._asyncIterable = createCancelableAsyncIterable(token => this._computer.computeAsync(token));\n            (() => __awaiter(this, void 0, void 0, function* () {\n                var _a, e_1, _b, _c;\n                try {\n                    try {\n                        for (var _d = true, _e = __asyncValues(this._asyncIterable), _f; _f = yield _e.next(), _a = _f.done, !_a; _d = true) {\n                            _c = _f.value;\n                            _d = false;\n                            const item = _c;\n                            if (item) {\n                                this._result.push(item);\n                                this._fireResult();\n                            }\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (!_d && !_a && (_b = _e.return)) yield _b.call(_e);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                    this._asyncIterableDone = true;\n                    if (this._state === 3 /* HoverOperationState.WaitingForAsync */ || this._state === 4 /* HoverOperationState.WaitingForAsyncShowingLoading */) {\n                        this._setState(0 /* HoverOperationState.Idle */);\n                    }\n                }\n                catch (e) {\n                    onUnexpectedError(e);\n                }\n            }))();\n        }\n        else {\n            this._asyncIterableDone = true;\n        }\n    }\n    _triggerSyncComputation() {\n        if (this._computer.computeSync) {\n            this._result = this._result.concat(this._computer.computeSync());\n        }\n        this._setState(this._asyncIterableDone ? 0 /* HoverOperationState.Idle */ : 3 /* HoverOperationState.WaitingForAsync */);\n    }\n    _triggerLoadingMessage() {\n        if (this._state === 3 /* HoverOperationState.WaitingForAsync */) {\n            this._setState(4 /* HoverOperationState.WaitingForAsyncShowingLoading */);\n        }\n    }\n    _fireResult() {\n        if (this._state === 1 /* HoverOperationState.FirstWait */ || this._state === 2 /* HoverOperationState.SecondWait */) {\n            // Do not send out results before the hover time\n            return;\n        }\n        const isComplete = (this._state === 0 /* HoverOperationState.Idle */);\n        const hasLoadingMessage = (this._state === 4 /* HoverOperationState.WaitingForAsyncShowingLoading */);\n        this._onResult.fire(new HoverResult(this._result.slice(0), isComplete, hasLoadingMessage));\n    }\n    start(mode) {\n        if (mode === 0 /* HoverStartMode.Delayed */) {\n            if (this._state === 0 /* HoverOperationState.Idle */) {\n                this._setState(1 /* HoverOperationState.FirstWait */);\n                this._firstWaitScheduler.schedule(this._firstWaitTime);\n                this._loadingMessageScheduler.schedule(this._loadingMessageTime);\n            }\n        }\n        else {\n            switch (this._state) {\n                case 0 /* HoverOperationState.Idle */:\n                    this._triggerAsyncComputation();\n                    this._secondWaitScheduler.cancel();\n                    this._triggerSyncComputation();\n                    break;\n                case 2 /* HoverOperationState.SecondWait */:\n                    this._secondWaitScheduler.cancel();\n                    this._triggerSyncComputation();\n                    break;\n            }\n        }\n    }\n    cancel() {\n        this._firstWaitScheduler.cancel();\n        this._secondWaitScheduler.cancel();\n        this._loadingMessageScheduler.cancel();\n        if (this._asyncIterable) {\n            this._asyncIterable.cancel();\n            this._asyncIterable = null;\n        }\n        this._result = [];\n        this._setState(0 /* HoverOperationState.Idle */, false);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class HoverRangeAnchor {\n    constructor(priority, range, initialMousePosX, initialMousePosY) {\n        this.priority = priority;\n        this.range = range;\n        this.initialMousePosX = initialMousePosX;\n        this.initialMousePosY = initialMousePosY;\n        this.type = 1 /* HoverAnchorType.Range */;\n    }\n    equals(other) {\n        return (other.type === 1 /* HoverAnchorType.Range */ && this.range.equalsRange(other.range));\n    }\n    canAdoptVisibleHover(lastAnchor, showAtPosition) {\n        return (lastAnchor.type === 1 /* HoverAnchorType.Range */ && showAtPosition.lineNumber === this.range.startLineNumber);\n    }\n}\nexport class HoverForeignElementAnchor {\n    constructor(priority, owner, range, initialMousePosX, initialMousePosY, supportsMarkerHover) {\n        this.priority = priority;\n        this.owner = owner;\n        this.range = range;\n        this.initialMousePosX = initialMousePosX;\n        this.initialMousePosY = initialMousePosY;\n        this.supportsMarkerHover = supportsMarkerHover;\n        this.type = 2 /* HoverAnchorType.ForeignElement */;\n    }\n    equals(other) {\n        return (other.type === 2 /* HoverAnchorType.ForeignElement */ && this.owner === other.owner);\n    }\n    canAdoptVisibleHover(lastAnchor, showAtPosition) {\n        return (lastAnchor.type === 2 /* HoverAnchorType.ForeignElement */ && this.owner === lastAnchor.owner);\n    }\n}\nexport const HoverParticipantRegistry = (new class HoverParticipantRegistry {\n    constructor() {\n        this._participants = [];\n    }\n    register(ctor) {\n        this._participants.push(ctor);\n    }\n    getAll() {\n        return this._participants;\n    }\n}());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { ResizableHTMLElement } from '../../../../base/browser/ui/resizable/resizable.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Position } from '../../../common/core/position.js';\nimport * as dom from '../../../../base/browser/dom.js';\nconst TOP_HEIGHT = 30;\nconst BOTTOM_HEIGHT = 24;\nexport class ResizableContentWidget extends Disposable {\n    constructor(_editor, minimumSize = new dom.Dimension(10, 10)) {\n        super();\n        this._editor = _editor;\n        this.allowEditorOverflow = true;\n        this.suppressMouseDown = false;\n        this._resizableNode = this._register(new ResizableHTMLElement());\n        this._contentPosition = null;\n        this._isResizing = false;\n        this._resizableNode.domNode.style.position = 'absolute';\n        this._resizableNode.minSize = dom.Dimension.lift(minimumSize);\n        this._resizableNode.layout(minimumSize.height, minimumSize.width);\n        this._resizableNode.enableSashes(true, true, true, true);\n        this._register(this._resizableNode.onDidResize(e => {\n            this._resize(new dom.Dimension(e.dimension.width, e.dimension.height));\n            if (e.done) {\n                this._isResizing = false;\n            }\n        }));\n        this._register(this._resizableNode.onDidWillResize(() => {\n            this._isResizing = true;\n        }));\n    }\n    get isResizing() {\n        return this._isResizing;\n    }\n    getDomNode() {\n        return this._resizableNode.domNode;\n    }\n    getPosition() {\n        return this._contentPosition;\n    }\n    get position() {\n        var _a;\n        return ((_a = this._contentPosition) === null || _a === void 0 ? void 0 : _a.position) ? Position.lift(this._contentPosition.position) : undefined;\n    }\n    _availableVerticalSpaceAbove(position) {\n        const editorDomNode = this._editor.getDomNode();\n        const mouseBox = this._editor.getScrolledVisiblePosition(position);\n        if (!editorDomNode || !mouseBox) {\n            return;\n        }\n        const editorBox = dom.getDomNodePagePosition(editorDomNode);\n        return editorBox.top + mouseBox.top - TOP_HEIGHT;\n    }\n    _availableVerticalSpaceBelow(position) {\n        const editorDomNode = this._editor.getDomNode();\n        const mouseBox = this._editor.getScrolledVisiblePosition(position);\n        if (!editorDomNode || !mouseBox) {\n            return;\n        }\n        const editorBox = dom.getDomNodePagePosition(editorDomNode);\n        const bodyBox = dom.getClientArea(document.body);\n        const mouseBottom = editorBox.top + mouseBox.top + mouseBox.height;\n        return bodyBox.height - mouseBottom - BOTTOM_HEIGHT;\n    }\n    _findPositionPreference(widgetHeight, showAtPosition) {\n        var _a, _b;\n        const maxHeightBelow = Math.min((_a = this._availableVerticalSpaceBelow(showAtPosition)) !== null && _a !== void 0 ? _a : Infinity, widgetHeight);\n        const maxHeightAbove = Math.min((_b = this._availableVerticalSpaceAbove(showAtPosition)) !== null && _b !== void 0 ? _b : Infinity, widgetHeight);\n        const maxHeight = Math.min(Math.max(maxHeightAbove, maxHeightBelow), widgetHeight);\n        const height = Math.min(widgetHeight, maxHeight);\n        let renderingAbove;\n        if (this._editor.getOption(59 /* EditorOption.hover */).above) {\n            renderingAbove = height <= maxHeightAbove ? 1 /* ContentWidgetPositionPreference.ABOVE */ : 2 /* ContentWidgetPositionPreference.BELOW */;\n        }\n        else {\n            renderingAbove = height <= maxHeightBelow ? 2 /* ContentWidgetPositionPreference.BELOW */ : 1 /* ContentWidgetPositionPreference.ABOVE */;\n        }\n        if (renderingAbove === 1 /* ContentWidgetPositionPreference.ABOVE */) {\n            this._resizableNode.enableSashes(true, true, false, false);\n        }\n        else {\n            this._resizableNode.enableSashes(false, true, true, false);\n        }\n        return renderingAbove;\n    }\n    _resize(dimension) {\n        this._resizableNode.layout(dimension.height, dimension.width);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { HoverAction, HoverWidget } from '../../../../base/browser/ui/hover/hoverWidget.js';\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { TokenizationRegistry } from '../../../common/languages.js';\nimport { HoverOperation } from './hoverOperation.js';\nimport { HoverParticipantRegistry, HoverRangeAnchor } from './hoverTypes.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { AsyncIterableObject } from '../../../../base/common/async.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ResizableContentWidget } from './resizableContentWidget.js';\nconst $ = dom.$;\nlet ContentHoverController = class ContentHoverController extends Disposable {\n    getWidgetContent() {\n        const node = this._widget.getDomNode();\n        if (!node.textContent) {\n            return undefined;\n        }\n        return node.textContent;\n    }\n    constructor(_editor, _instantiationService, _keybindingService) {\n        super();\n        this._editor = _editor;\n        this._instantiationService = _instantiationService;\n        this._keybindingService = _keybindingService;\n        this._currentResult = null;\n        const minimumHeight = this._editor.getOption(65 /* EditorOption.lineHeight */) + 8;\n        const minimumWidth = 4 / 3 * minimumHeight;\n        const minimumSize = new dom.Dimension(minimumWidth, minimumHeight);\n        this._widget = this._register(this._instantiationService.createInstance(ContentHoverWidget, this._editor, minimumSize));\n        // Instantiate participants and sort them by `hoverOrdinal` which is relevant for rendering order.\n        this._participants = [];\n        for (const participant of HoverParticipantRegistry.getAll()) {\n            this._participants.push(this._instantiationService.createInstance(participant, this._editor));\n        }\n        this._participants.sort((p1, p2) => p1.hoverOrdinal - p2.hoverOrdinal);\n        this._computer = new ContentHoverComputer(this._editor, this._participants);\n        this._hoverOperation = this._register(new HoverOperation(this._editor, this._computer));\n        this._register(this._hoverOperation.onResult((result) => {\n            if (!this._computer.anchor) {\n                // invalid state, ignore result\n                return;\n            }\n            const messages = (result.hasLoadingMessage ? this._addLoadingMessage(result.value) : result.value);\n            this._withResult(new HoverResult(this._computer.anchor, messages, result.isComplete));\n        }));\n        this._register(dom.addStandardDisposableListener(this._widget.getDomNode(), 'keydown', (e) => {\n            if (e.equals(9 /* KeyCode.Escape */)) {\n                this.hide();\n            }\n        }));\n        this._register(TokenizationRegistry.onDidChange(() => {\n            if (this._widget.position && this._currentResult) {\n                this._setCurrentResult(this._currentResult); // render again\n            }\n        }));\n    }\n    get widget() {\n        return this._widget;\n    }\n    /**\n     * Returns true if the hover shows now or will show.\n     */\n    maybeShowAt(mouseEvent) {\n        if (this._widget.isResizing) {\n            return true;\n        }\n        const anchorCandidates = [];\n        for (const participant of this._participants) {\n            if (participant.suggestHoverAnchor) {\n                const anchor = participant.suggestHoverAnchor(mouseEvent);\n                if (anchor) {\n                    anchorCandidates.push(anchor);\n                }\n            }\n        }\n        const target = mouseEvent.target;\n        if (target.type === 6 /* MouseTargetType.CONTENT_TEXT */) {\n            anchorCandidates.push(new HoverRangeAnchor(0, target.range, mouseEvent.event.posx, mouseEvent.event.posy));\n        }\n        if (target.type === 7 /* MouseTargetType.CONTENT_EMPTY */) {\n            const epsilon = this._editor.getOption(49 /* EditorOption.fontInfo */).typicalHalfwidthCharacterWidth / 2;\n            if (!target.detail.isAfterLines && typeof target.detail.horizontalDistanceToText === 'number' && target.detail.horizontalDistanceToText < epsilon) {\n                // Let hover kick in even when the mouse is technically in the empty area after a line, given the distance is small enough\n                anchorCandidates.push(new HoverRangeAnchor(0, target.range, mouseEvent.event.posx, mouseEvent.event.posy));\n            }\n        }\n        if (anchorCandidates.length === 0) {\n            return this._startShowingOrUpdateHover(null, 0 /* HoverStartMode.Delayed */, 0 /* HoverStartSource.Mouse */, false, mouseEvent);\n        }\n        anchorCandidates.sort((a, b) => b.priority - a.priority);\n        return this._startShowingOrUpdateHover(anchorCandidates[0], 0 /* HoverStartMode.Delayed */, 0 /* HoverStartSource.Mouse */, false, mouseEvent);\n    }\n    startShowingAtRange(range, mode, source, focus) {\n        this._startShowingOrUpdateHover(new HoverRangeAnchor(0, range, undefined, undefined), mode, source, focus, null);\n    }\n    /**\n     * Returns true if the hover shows now or will show.\n     */\n    _startShowingOrUpdateHover(anchor, mode, source, focus, mouseEvent) {\n        if (!this._widget.position || !this._currentResult) {\n            // The hover is not visible\n            if (anchor) {\n                this._startHoverOperationIfNecessary(anchor, mode, source, focus, false);\n                return true;\n            }\n            return false;\n        }\n        // The hover is currently visible\n        const hoverIsSticky = this._editor.getOption(59 /* EditorOption.hover */).sticky;\n        const isGettingCloser = (hoverIsSticky && mouseEvent && this._widget.isMouseGettingCloser(mouseEvent.event.posx, mouseEvent.event.posy));\n        if (isGettingCloser) {\n            // The mouse is getting closer to the hover, so we will keep the hover untouched\n            // But we will kick off a hover update at the new anchor, insisting on keeping the hover visible.\n            if (anchor) {\n                this._startHoverOperationIfNecessary(anchor, mode, source, focus, true);\n            }\n            return true;\n        }\n        if (!anchor) {\n            this._setCurrentResult(null);\n            return false;\n        }\n        if (anchor && this._currentResult.anchor.equals(anchor)) {\n            // The widget is currently showing results for the exact same anchor, so no update is needed\n            return true;\n        }\n        if (!anchor.canAdoptVisibleHover(this._currentResult.anchor, this._widget.position)) {\n            // The new anchor is not compatible with the previous anchor\n            this._setCurrentResult(null);\n            this._startHoverOperationIfNecessary(anchor, mode, source, focus, false);\n            return true;\n        }\n        // We aren't getting any closer to the hover, so we will filter existing results\n        // and keep those which also apply to the new anchor.\n        this._setCurrentResult(this._currentResult.filter(anchor));\n        this._startHoverOperationIfNecessary(anchor, mode, source, focus, false);\n        return true;\n    }\n    _startHoverOperationIfNecessary(anchor, mode, source, focus, insistOnKeepingHoverVisible) {\n        if (this._computer.anchor && this._computer.anchor.equals(anchor)) {\n            // We have to start a hover operation at the exact same anchor as before, so no work is needed\n            return;\n        }\n        this._hoverOperation.cancel();\n        this._computer.anchor = anchor;\n        this._computer.shouldFocus = focus;\n        this._computer.source = source;\n        this._computer.insistOnKeepingHoverVisible = insistOnKeepingHoverVisible;\n        this._hoverOperation.start(mode);\n    }\n    _setCurrentResult(hoverResult) {\n        if (this._currentResult === hoverResult) {\n            // avoid updating the DOM to avoid resetting the user selection\n            return;\n        }\n        if (hoverResult && hoverResult.messages.length === 0) {\n            hoverResult = null;\n        }\n        this._currentResult = hoverResult;\n        if (this._currentResult) {\n            this._renderMessages(this._currentResult.anchor, this._currentResult.messages);\n        }\n        else {\n            this._widget.hide();\n        }\n    }\n    hide() {\n        this._computer.anchor = null;\n        this._hoverOperation.cancel();\n        this._setCurrentResult(null);\n    }\n    get isColorPickerVisible() {\n        return this._widget.isColorPickerVisible;\n    }\n    get isVisibleFromKeyboard() {\n        return this._widget.isVisibleFromKeyboard;\n    }\n    get isVisible() {\n        return this._widget.isVisible;\n    }\n    get isFocused() {\n        return this._widget.isFocused;\n    }\n    get isResizing() {\n        return this._widget.isResizing;\n    }\n    containsNode(node) {\n        return (node ? this._widget.getDomNode().contains(node) : false);\n    }\n    _addLoadingMessage(result) {\n        if (this._computer.anchor) {\n            for (const participant of this._participants) {\n                if (participant.createLoadingMessage) {\n                    const loadingMessage = participant.createLoadingMessage(this._computer.anchor);\n                    if (loadingMessage) {\n                        return result.slice(0).concat([loadingMessage]);\n                    }\n                }\n            }\n        }\n        return result;\n    }\n    _withResult(hoverResult) {\n        if (this._widget.position && this._currentResult && this._currentResult.isComplete) {\n            // The hover is visible with a previous complete result.\n            if (!hoverResult.isComplete) {\n                // Instead of rendering the new partial result, we wait for the result to be complete.\n                return;\n            }\n            if (this._computer.insistOnKeepingHoverVisible && hoverResult.messages.length === 0) {\n                // The hover would now hide normally, so we'll keep the previous messages\n                return;\n            }\n        }\n        this._setCurrentResult(hoverResult);\n    }\n    _renderMessages(anchor, messages) {\n        const { showAtPosition, showAtSecondaryPosition, highlightRange } = ContentHoverController.computeHoverRanges(this._editor, anchor.range, messages);\n        const disposables = new DisposableStore();\n        const statusBar = disposables.add(new EditorHoverStatusBar(this._keybindingService));\n        const fragment = document.createDocumentFragment();\n        let colorPicker = null;\n        const context = {\n            fragment,\n            statusBar,\n            setColorPicker: (widget) => colorPicker = widget,\n            onContentsChanged: () => this._widget.onContentsChanged(),\n            setMinimumDimensions: (dimensions) => this._widget.setMinimumDimensions(dimensions),\n            hide: () => this.hide()\n        };\n        for (const participant of this._participants) {\n            const hoverParts = messages.filter(msg => msg.owner === participant);\n            if (hoverParts.length > 0) {\n                disposables.add(participant.renderHoverParts(context, hoverParts));\n            }\n        }\n        const isBeforeContent = messages.some(m => m.isBeforeContent);\n        if (statusBar.hasContent) {\n            fragment.appendChild(statusBar.hoverElement);\n        }\n        if (fragment.hasChildNodes()) {\n            if (highlightRange) {\n                const highlightDecoration = this._editor.createDecorationsCollection();\n                highlightDecoration.set([{\n                        range: highlightRange,\n                        options: ContentHoverController._DECORATION_OPTIONS\n                    }]);\n                disposables.add(toDisposable(() => {\n                    highlightDecoration.clear();\n                }));\n            }\n            this._widget.showAt(fragment, new ContentHoverVisibleData(colorPicker, showAtPosition, showAtSecondaryPosition, this._editor.getOption(59 /* EditorOption.hover */).above, this._computer.shouldFocus, this._computer.source, isBeforeContent, anchor.initialMousePosX, anchor.initialMousePosY, disposables));\n        }\n        else {\n            disposables.dispose();\n        }\n    }\n    static computeHoverRanges(editor, anchorRange, messages) {\n        let startColumnBoundary = 1;\n        if (editor.hasModel()) {\n            // Ensure the range is on the current view line\n            const viewModel = editor._getViewModel();\n            const coordinatesConverter = viewModel.coordinatesConverter;\n            const anchorViewRange = coordinatesConverter.convertModelRangeToViewRange(anchorRange);\n            const anchorViewRangeStart = new Position(anchorViewRange.startLineNumber, viewModel.getLineMinColumn(anchorViewRange.startLineNumber));\n            startColumnBoundary = coordinatesConverter.convertViewPositionToModelPosition(anchorViewRangeStart).column;\n        }\n        // The anchor range is always on a single line\n        const anchorLineNumber = anchorRange.startLineNumber;\n        let renderStartColumn = anchorRange.startColumn;\n        let highlightRange = messages[0].range;\n        let forceShowAtRange = null;\n        for (const msg of messages) {\n            highlightRange = Range.plusRange(highlightRange, msg.range);\n            if (msg.range.startLineNumber === anchorLineNumber && msg.range.endLineNumber === anchorLineNumber) {\n                // this message has a range that is completely sitting on the line of the anchor\n                renderStartColumn = Math.max(Math.min(renderStartColumn, msg.range.startColumn), startColumnBoundary);\n            }\n            if (msg.forceShowAtRange) {\n                forceShowAtRange = msg.range;\n            }\n        }\n        return {\n            showAtPosition: forceShowAtRange ? forceShowAtRange.getStartPosition() : new Position(anchorLineNumber, anchorRange.startColumn),\n            showAtSecondaryPosition: forceShowAtRange ? forceShowAtRange.getStartPosition() : new Position(anchorLineNumber, renderStartColumn),\n            highlightRange\n        };\n    }\n    focus() {\n        this._widget.focus();\n    }\n    scrollUp() {\n        this._widget.scrollUp();\n    }\n    scrollDown() {\n        this._widget.scrollDown();\n    }\n    scrollLeft() {\n        this._widget.scrollLeft();\n    }\n    scrollRight() {\n        this._widget.scrollRight();\n    }\n    pageUp() {\n        this._widget.pageUp();\n    }\n    pageDown() {\n        this._widget.pageDown();\n    }\n    goToTop() {\n        this._widget.goToTop();\n    }\n    goToBottom() {\n        this._widget.goToBottom();\n    }\n};\nContentHoverController._DECORATION_OPTIONS = ModelDecorationOptions.register({\n    description: 'content-hover-highlight',\n    className: 'hoverHighlight'\n});\nContentHoverController = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IKeybindingService)\n], ContentHoverController);\nexport { ContentHoverController };\nclass HoverResult {\n    constructor(anchor, messages, isComplete) {\n        this.anchor = anchor;\n        this.messages = messages;\n        this.isComplete = isComplete;\n    }\n    filter(anchor) {\n        const filteredMessages = this.messages.filter((m) => m.isValidForHoverAnchor(anchor));\n        if (filteredMessages.length === this.messages.length) {\n            return this;\n        }\n        return new FilteredHoverResult(this, this.anchor, filteredMessages, this.isComplete);\n    }\n}\nclass FilteredHoverResult extends HoverResult {\n    constructor(original, anchor, messages, isComplete) {\n        super(anchor, messages, isComplete);\n        this.original = original;\n    }\n    filter(anchor) {\n        return this.original.filter(anchor);\n    }\n}\nclass ContentHoverVisibleData {\n    constructor(colorPicker, showAtPosition, showAtSecondaryPosition, preferAbove, stoleFocus, source, isBeforeContent, initialMousePosX, initialMousePosY, disposables) {\n        this.colorPicker = colorPicker;\n        this.showAtPosition = showAtPosition;\n        this.showAtSecondaryPosition = showAtSecondaryPosition;\n        this.preferAbove = preferAbove;\n        this.stoleFocus = stoleFocus;\n        this.source = source;\n        this.isBeforeContent = isBeforeContent;\n        this.initialMousePosX = initialMousePosX;\n        this.initialMousePosY = initialMousePosY;\n        this.disposables = disposables;\n        this.closestMouseDistance = undefined;\n    }\n}\nconst HORIZONTAL_SCROLLING_BY = 30;\nconst SCROLLBAR_WIDTH = 10;\nconst CONTAINER_HEIGHT_PADDING = 6;\nlet ContentHoverWidget = class ContentHoverWidget extends ResizableContentWidget {\n    get isColorPickerVisible() {\n        var _a;\n        return Boolean((_a = this._visibleData) === null || _a === void 0 ? void 0 : _a.colorPicker);\n    }\n    get isVisibleFromKeyboard() {\n        var _a;\n        return (((_a = this._visibleData) === null || _a === void 0 ? void 0 : _a.source) === 1 /* HoverStartSource.Keyboard */);\n    }\n    get isVisible() {\n        var _a;\n        return (_a = this._hoverVisibleKey.get()) !== null && _a !== void 0 ? _a : false;\n    }\n    get isFocused() {\n        var _a;\n        return (_a = this._hoverFocusedKey.get()) !== null && _a !== void 0 ? _a : false;\n    }\n    constructor(editor, minimumSize, contextKeyService) {\n        super(editor, minimumSize);\n        this._hover = this._register(new HoverWidget());\n        this._hoverVisibleKey = EditorContextKeys.hoverVisible.bindTo(contextKeyService);\n        this._hoverFocusedKey = EditorContextKeys.hoverFocused.bindTo(contextKeyService);\n        dom.append(this._resizableNode.domNode, this._hover.containerDomNode);\n        this._resizableNode.domNode.style.zIndex = '50';\n        this._register(this._editor.onDidLayoutChange(() => this._layout()));\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(49 /* EditorOption.fontInfo */)) {\n                this._updateFont();\n            }\n        }));\n        const focusTracker = this._register(dom.trackFocus(this._resizableNode.domNode));\n        this._register(focusTracker.onDidFocus(() => {\n            this._hoverFocusedKey.set(true);\n        }));\n        this._register(focusTracker.onDidBlur(() => {\n            this._hoverFocusedKey.set(false);\n        }));\n        this._setHoverData(undefined);\n        this._layout();\n        this._editor.addContentWidget(this);\n    }\n    dispose() {\n        var _a;\n        super.dispose();\n        (_a = this._visibleData) === null || _a === void 0 ? void 0 : _a.disposables.dispose();\n        this._editor.removeContentWidget(this);\n    }\n    getId() {\n        return ContentHoverWidget.ID;\n    }\n    static _applyDimensions(container, width, height) {\n        const transformedWidth = typeof width === 'number' ? `${width}px` : width;\n        const transformedHeight = typeof height === 'number' ? `${height}px` : height;\n        container.style.width = transformedWidth;\n        container.style.height = transformedHeight;\n    }\n    _setContentsDomNodeDimensions(width, height) {\n        const contentsDomNode = this._hover.contentsDomNode;\n        return ContentHoverWidget._applyDimensions(contentsDomNode, width, height);\n    }\n    _setContainerDomNodeDimensions(width, height) {\n        const containerDomNode = this._hover.containerDomNode;\n        return ContentHoverWidget._applyDimensions(containerDomNode, width, height);\n    }\n    _setHoverWidgetDimensions(width, height) {\n        this._setContentsDomNodeDimensions(width, height);\n        this._setContainerDomNodeDimensions(width, height);\n        this._layoutContentWidget();\n    }\n    static _applyMaxDimensions(container, width, height) {\n        const transformedWidth = typeof width === 'number' ? `${width}px` : width;\n        const transformedHeight = typeof height === 'number' ? `${height}px` : height;\n        container.style.maxWidth = transformedWidth;\n        container.style.maxHeight = transformedHeight;\n    }\n    _setHoverWidgetMaxDimensions(width, height) {\n        ContentHoverWidget._applyMaxDimensions(this._hover.contentsDomNode, width, height);\n        ContentHoverWidget._applyMaxDimensions(this._hover.containerDomNode, width, height);\n        this._hover.containerDomNode.style.setProperty('--hover-maxWidth', typeof width === 'number' ? `${width}px` : width);\n        this._layoutContentWidget();\n    }\n    _hasHorizontalScrollbar() {\n        const scrollDimensions = this._hover.scrollbar.getScrollDimensions();\n        const hasHorizontalScrollbar = scrollDimensions.scrollWidth > scrollDimensions.width;\n        return hasHorizontalScrollbar;\n    }\n    _adjustContentsBottomPadding() {\n        const contentsDomNode = this._hover.contentsDomNode;\n        const extraBottomPadding = `${this._hover.scrollbar.options.horizontalScrollbarSize}px`;\n        if (contentsDomNode.style.paddingBottom !== extraBottomPadding) {\n            contentsDomNode.style.paddingBottom = extraBottomPadding;\n        }\n    }\n    _setAdjustedHoverWidgetDimensions(size) {\n        this._setHoverWidgetMaxDimensions('none', 'none');\n        const width = size.width;\n        const height = size.height;\n        this._setHoverWidgetDimensions(width, height);\n        // measure if widget has horizontal scrollbar after setting the dimensions\n        if (this._hasHorizontalScrollbar()) {\n            this._adjustContentsBottomPadding();\n            this._setContentsDomNodeDimensions(width, height - SCROLLBAR_WIDTH);\n        }\n    }\n    _setResizableNodeMaxDimensions() {\n        var _a, _b;\n        const maxRenderingWidth = (_a = this._findMaximumRenderingWidth()) !== null && _a !== void 0 ? _a : Infinity;\n        const maxRenderingHeight = (_b = this._findMaximumRenderingHeight()) !== null && _b !== void 0 ? _b : Infinity;\n        this._resizableNode.maxSize = new dom.Dimension(maxRenderingWidth, maxRenderingHeight);\n        this._setHoverWidgetMaxDimensions(maxRenderingWidth, maxRenderingHeight);\n    }\n    _resize(size) {\n        var _a, _b;\n        ContentHoverWidget._lastDimensions = new dom.Dimension(size.width, size.height);\n        this._setAdjustedHoverWidgetDimensions(size);\n        this._resizableNode.layout(size.height, size.width);\n        this._setResizableNodeMaxDimensions();\n        this._hover.scrollbar.scanDomNode();\n        this._editor.layoutContentWidget(this);\n        (_b = (_a = this._visibleData) === null || _a === void 0 ? void 0 : _a.colorPicker) === null || _b === void 0 ? void 0 : _b.layout();\n    }\n    _findAvailableSpaceVertically() {\n        var _a;\n        const position = (_a = this._visibleData) === null || _a === void 0 ? void 0 : _a.showAtPosition;\n        if (!position) {\n            return;\n        }\n        return this._positionPreference === 1 /* ContentWidgetPositionPreference.ABOVE */ ? this._availableVerticalSpaceAbove(position) : this._availableVerticalSpaceBelow(position);\n    }\n    _findMaximumRenderingHeight() {\n        const availableSpace = this._findAvailableSpaceVertically();\n        if (!availableSpace) {\n            return;\n        }\n        // Padding needed in order to stop the resizing down to a smaller height\n        let maximumHeight = CONTAINER_HEIGHT_PADDING;\n        Array.from(this._hover.contentsDomNode.children).forEach((hoverPart) => {\n            maximumHeight += hoverPart.clientHeight;\n        });\n        if (this._hasHorizontalScrollbar()) {\n            maximumHeight += SCROLLBAR_WIDTH;\n        }\n        return Math.min(availableSpace, maximumHeight);\n    }\n    _findMaximumRenderingWidth() {\n        if (!this._editor || !this._editor.hasModel()) {\n            return;\n        }\n        const bodyBoxWidth = dom.getClientArea(document.body).width;\n        const horizontalPadding = 14;\n        return bodyBoxWidth - horizontalPadding;\n    }\n    isMouseGettingCloser(posx, posy) {\n        if (!this._visibleData) {\n            return false;\n        }\n        if (typeof this._visibleData.initialMousePosX === 'undefined' || typeof this._visibleData.initialMousePosY === 'undefined') {\n            this._visibleData.initialMousePosX = posx;\n            this._visibleData.initialMousePosY = posy;\n            return false;\n        }\n        const widgetRect = dom.getDomNodePagePosition(this.getDomNode());\n        if (typeof this._visibleData.closestMouseDistance === 'undefined') {\n            this._visibleData.closestMouseDistance = computeDistanceFromPointToRectangle(this._visibleData.initialMousePosX, this._visibleData.initialMousePosY, widgetRect.left, widgetRect.top, widgetRect.width, widgetRect.height);\n        }\n        const distance = computeDistanceFromPointToRectangle(posx, posy, widgetRect.left, widgetRect.top, widgetRect.width, widgetRect.height);\n        if (distance > this._visibleData.closestMouseDistance + 4 /* tolerance of 4 pixels */) {\n            // The mouse is getting farther away\n            return false;\n        }\n        this._visibleData.closestMouseDistance = Math.min(this._visibleData.closestMouseDistance, distance);\n        return true;\n    }\n    _setHoverData(hoverData) {\n        var _a;\n        (_a = this._visibleData) === null || _a === void 0 ? void 0 : _a.disposables.dispose();\n        this._visibleData = hoverData;\n        this._hoverVisibleKey.set(!!hoverData);\n        this._hover.containerDomNode.classList.toggle('hidden', !hoverData);\n    }\n    _layout() {\n        const { fontSize, lineHeight } = this._editor.getOption(49 /* EditorOption.fontInfo */);\n        const contentsDomNode = this._hover.contentsDomNode;\n        contentsDomNode.style.fontSize = `${fontSize}px`;\n        contentsDomNode.style.lineHeight = `${lineHeight / fontSize}`;\n        this._updateMaxDimensions();\n    }\n    _updateFont() {\n        const codeClasses = Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName('code'));\n        codeClasses.forEach(node => this._editor.applyFontInfo(node));\n    }\n    _updateContent(node) {\n        const contentsDomNode = this._hover.contentsDomNode;\n        contentsDomNode.style.paddingBottom = '';\n        contentsDomNode.textContent = '';\n        contentsDomNode.appendChild(node);\n    }\n    _layoutContentWidget() {\n        this._editor.layoutContentWidget(this);\n        this._hover.onContentsChanged();\n    }\n    _updateMaxDimensions() {\n        const height = Math.max(this._editor.getLayoutInfo().height / 4, 250, ContentHoverWidget._lastDimensions.height);\n        const width = Math.max(this._editor.getLayoutInfo().width * 0.66, 500, ContentHoverWidget._lastDimensions.width);\n        this._setHoverWidgetMaxDimensions(width, height);\n    }\n    _render(node, hoverData) {\n        this._setHoverData(hoverData);\n        this._updateFont();\n        this._updateContent(node);\n        this._updateMaxDimensions();\n        this.onContentsChanged();\n        // Simply force a synchronous render on the editor\n        // such that the widget does not really render with left = '0px'\n        this._editor.render();\n    }\n    getPosition() {\n        var _a;\n        if (!this._visibleData) {\n            return null;\n        }\n        return {\n            position: this._visibleData.showAtPosition,\n            secondaryPosition: this._visibleData.showAtSecondaryPosition,\n            positionAffinity: this._visibleData.isBeforeContent ? 3 /* PositionAffinity.LeftOfInjectedText */ : undefined,\n            preference: [(_a = this._positionPreference) !== null && _a !== void 0 ? _a : 1 /* ContentWidgetPositionPreference.ABOVE */]\n        };\n    }\n    showAt(node, hoverData) {\n        var _a, _b;\n        if (!this._editor || !this._editor.hasModel()) {\n            return;\n        }\n        this._render(node, hoverData);\n        const widgetHeight = dom.getTotalHeight(this._hover.containerDomNode);\n        const widgetPosition = hoverData.showAtPosition;\n        this._positionPreference = (_a = this._findPositionPreference(widgetHeight, widgetPosition)) !== null && _a !== void 0 ? _a : 1 /* ContentWidgetPositionPreference.ABOVE */;\n        // See https://github.com/microsoft/vscode/issues/140339\n        // TODO: Doing a second layout of the hover after force rendering the editor\n        this.onContentsChanged();\n        if (hoverData.stoleFocus) {\n            this._hover.containerDomNode.focus();\n        }\n        (_b = hoverData.colorPicker) === null || _b === void 0 ? void 0 : _b.layout();\n    }\n    hide() {\n        if (!this._visibleData) {\n            return;\n        }\n        const stoleFocus = this._visibleData.stoleFocus || this._hoverFocusedKey.get();\n        this._setHoverData(undefined);\n        this._resizableNode.maxSize = new dom.Dimension(Infinity, Infinity);\n        this._resizableNode.clearSashHoverState();\n        this._hoverFocusedKey.set(false);\n        this._editor.layoutContentWidget(this);\n        if (stoleFocus) {\n            this._editor.focus();\n        }\n    }\n    _removeConstraintsRenderNormally() {\n        // Added because otherwise the initial size of the hover content is smaller than should be\n        const layoutInfo = this._editor.getLayoutInfo();\n        this._resizableNode.layout(layoutInfo.height, layoutInfo.width);\n        this._setHoverWidgetDimensions('auto', 'auto');\n    }\n    _adjustHoverHeightForScrollbar(height) {\n        var _a;\n        const containerDomNode = this._hover.containerDomNode;\n        const contentsDomNode = this._hover.contentsDomNode;\n        const maxRenderingHeight = (_a = this._findMaximumRenderingHeight()) !== null && _a !== void 0 ? _a : Infinity;\n        this._setContainerDomNodeDimensions(dom.getTotalWidth(containerDomNode), Math.min(maxRenderingHeight, height));\n        this._setContentsDomNodeDimensions(dom.getTotalWidth(contentsDomNode), Math.min(maxRenderingHeight, height - SCROLLBAR_WIDTH));\n    }\n    setMinimumDimensions(dimensions) {\n        this._resizableNode.minSize = dimensions;\n    }\n    onContentsChanged() {\n        var _a;\n        this._removeConstraintsRenderNormally();\n        const containerDomNode = this._hover.containerDomNode;\n        let height = dom.getTotalHeight(containerDomNode);\n        let width = dom.getTotalWidth(containerDomNode);\n        this._resizableNode.layout(height, width);\n        this._setHoverWidgetDimensions(width, height);\n        height = dom.getTotalHeight(containerDomNode);\n        width = dom.getTotalWidth(containerDomNode);\n        this._resizableNode.layout(height, width);\n        if (this._hasHorizontalScrollbar()) {\n            this._adjustContentsBottomPadding();\n            this._adjustHoverHeightForScrollbar(height);\n        }\n        if ((_a = this._visibleData) === null || _a === void 0 ? void 0 : _a.showAtPosition) {\n            const widgetHeight = dom.getTotalHeight(this._hover.containerDomNode);\n            this._positionPreference = this._findPositionPreference(widgetHeight, this._visibleData.showAtPosition);\n        }\n        this._layoutContentWidget();\n    }\n    focus() {\n        this._hover.containerDomNode.focus();\n    }\n    scrollUp() {\n        const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n        const fontInfo = this._editor.getOption(49 /* EditorOption.fontInfo */);\n        this._hover.scrollbar.setScrollPosition({ scrollTop: scrollTop - fontInfo.lineHeight });\n    }\n    scrollDown() {\n        const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n        const fontInfo = this._editor.getOption(49 /* EditorOption.fontInfo */);\n        this._hover.scrollbar.setScrollPosition({ scrollTop: scrollTop + fontInfo.lineHeight });\n    }\n    scrollLeft() {\n        const scrollLeft = this._hover.scrollbar.getScrollPosition().scrollLeft;\n        this._hover.scrollbar.setScrollPosition({ scrollLeft: scrollLeft - HORIZONTAL_SCROLLING_BY });\n    }\n    scrollRight() {\n        const scrollLeft = this._hover.scrollbar.getScrollPosition().scrollLeft;\n        this._hover.scrollbar.setScrollPosition({ scrollLeft: scrollLeft + HORIZONTAL_SCROLLING_BY });\n    }\n    pageUp() {\n        const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n        const scrollHeight = this._hover.scrollbar.getScrollDimensions().height;\n        this._hover.scrollbar.setScrollPosition({ scrollTop: scrollTop - scrollHeight });\n    }\n    pageDown() {\n        const scrollTop = this._hover.scrollbar.getScrollPosition().scrollTop;\n        const scrollHeight = this._hover.scrollbar.getScrollDimensions().height;\n        this._hover.scrollbar.setScrollPosition({ scrollTop: scrollTop + scrollHeight });\n    }\n    goToTop() {\n        this._hover.scrollbar.setScrollPosition({ scrollTop: 0 });\n    }\n    goToBottom() {\n        this._hover.scrollbar.setScrollPosition({ scrollTop: this._hover.scrollbar.getScrollDimensions().scrollHeight });\n    }\n};\nContentHoverWidget.ID = 'editor.contrib.resizableContentHoverWidget';\nContentHoverWidget._lastDimensions = new dom.Dimension(0, 0);\nContentHoverWidget = __decorate([\n    __param(2, IContextKeyService)\n], ContentHoverWidget);\nexport { ContentHoverWidget };\nlet EditorHoverStatusBar = class EditorHoverStatusBar extends Disposable {\n    get hasContent() {\n        return this._hasContent;\n    }\n    constructor(_keybindingService) {\n        super();\n        this._keybindingService = _keybindingService;\n        this._hasContent = false;\n        this.hoverElement = $('div.hover-row.status-bar');\n        this.actionsElement = dom.append(this.hoverElement, $('div.actions'));\n    }\n    addAction(actionOptions) {\n        const keybinding = this._keybindingService.lookupKeybinding(actionOptions.commandId);\n        const keybindingLabel = keybinding ? keybinding.getLabel() : null;\n        this._hasContent = true;\n        return this._register(HoverAction.render(this.actionsElement, actionOptions, keybindingLabel));\n    }\n    append(element) {\n        const result = dom.append(this.actionsElement, element);\n        this._hasContent = true;\n        return result;\n    }\n};\nEditorHoverStatusBar = __decorate([\n    __param(0, IKeybindingService)\n], EditorHoverStatusBar);\nexport { EditorHoverStatusBar };\nclass ContentHoverComputer {\n    get anchor() { return this._anchor; }\n    set anchor(value) { this._anchor = value; }\n    get shouldFocus() { return this._shouldFocus; }\n    set shouldFocus(value) { this._shouldFocus = value; }\n    get source() { return this._source; }\n    set source(value) { this._source = value; }\n    get insistOnKeepingHoverVisible() { return this._insistOnKeepingHoverVisible; }\n    set insistOnKeepingHoverVisible(value) { this._insistOnKeepingHoverVisible = value; }\n    constructor(_editor, _participants) {\n        this._editor = _editor;\n        this._participants = _participants;\n        this._anchor = null;\n        this._shouldFocus = false;\n        this._source = 0 /* HoverStartSource.Mouse */;\n        this._insistOnKeepingHoverVisible = false;\n    }\n    static _getLineDecorations(editor, anchor) {\n        if (anchor.type !== 1 /* HoverAnchorType.Range */ && !anchor.supportsMarkerHover) {\n            return [];\n        }\n        const model = editor.getModel();\n        const lineNumber = anchor.range.startLineNumber;\n        if (lineNumber > model.getLineCount()) {\n            // invalid line\n            return [];\n        }\n        const maxColumn = model.getLineMaxColumn(lineNumber);\n        return editor.getLineDecorations(lineNumber).filter((d) => {\n            if (d.options.isWholeLine) {\n                return true;\n            }\n            const startColumn = (d.range.startLineNumber === lineNumber) ? d.range.startColumn : 1;\n            const endColumn = (d.range.endLineNumber === lineNumber) ? d.range.endColumn : maxColumn;\n            if (d.options.showIfCollapsed) {\n                // Relax check around `showIfCollapsed` decorations to also include +/- 1 character\n                if (startColumn > anchor.range.startColumn + 1 || anchor.range.endColumn - 1 > endColumn) {\n                    return false;\n                }\n            }\n            else {\n                if (startColumn > anchor.range.startColumn || anchor.range.endColumn > endColumn) {\n                    return false;\n                }\n            }\n            return true;\n        });\n    }\n    computeAsync(token) {\n        const anchor = this._anchor;\n        if (!this._editor.hasModel() || !anchor) {\n            return AsyncIterableObject.EMPTY;\n        }\n        const lineDecorations = ContentHoverComputer._getLineDecorations(this._editor, anchor);\n        return AsyncIterableObject.merge(this._participants.map((participant) => {\n            if (!participant.computeAsync) {\n                return AsyncIterableObject.EMPTY;\n            }\n            return participant.computeAsync(anchor, lineDecorations, token);\n        }));\n    }\n    computeSync() {\n        if (!this._editor.hasModel() || !this._anchor) {\n            return [];\n        }\n        const lineDecorations = ContentHoverComputer._getLineDecorations(this._editor, this._anchor);\n        let result = [];\n        for (const participant of this._participants) {\n            result = result.concat(participant.computeSync(this._anchor, lineDecorations));\n        }\n        return coalesce(result);\n    }\n}\nfunction computeDistanceFromPointToRectangle(pointX, pointY, left, top, width, height) {\n    const x = (left + width / 2); // x center of rectangle\n    const y = (top + height / 2); // y center of rectangle\n    const dx = Math.max(Math.abs(pointX - x) - width / 2, 0);\n    const dy = Math.max(Math.abs(pointY - y) - height / 2, 0);\n    return Math.sqrt(dx * dx + dy * dy);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { asArray } from '../../../../base/common/arrays.js';\nimport { isEmptyMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { HoverOperation } from './hoverOperation.js';\nimport { HoverWidget } from '../../../../base/browser/ui/hover/hoverWidget.js';\nconst $ = dom.$;\nexport class MarginHoverWidget extends Disposable {\n    constructor(editor, languageService, openerService) {\n        super();\n        this._renderDisposeables = this._register(new DisposableStore());\n        this._editor = editor;\n        this._isVisible = false;\n        this._messages = [];\n        this._hover = this._register(new HoverWidget());\n        this._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);\n        this._markdownRenderer = this._register(new MarkdownRenderer({ editor: this._editor }, languageService, openerService));\n        this._computer = new MarginHoverComputer(this._editor);\n        this._hoverOperation = this._register(new HoverOperation(this._editor, this._computer));\n        this._register(this._hoverOperation.onResult((result) => {\n            this._withResult(result.value);\n        }));\n        this._register(this._editor.onDidChangeModelDecorations(() => this._onModelDecorationsChanged()));\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(49 /* EditorOption.fontInfo */)) {\n                this._updateFont();\n            }\n        }));\n        this._editor.addOverlayWidget(this);\n    }\n    dispose() {\n        this._editor.removeOverlayWidget(this);\n        super.dispose();\n    }\n    getId() {\n        return MarginHoverWidget.ID;\n    }\n    getDomNode() {\n        return this._hover.containerDomNode;\n    }\n    getPosition() {\n        return null;\n    }\n    _updateFont() {\n        const codeClasses = Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName('code'));\n        codeClasses.forEach(node => this._editor.applyFontInfo(node));\n    }\n    _onModelDecorationsChanged() {\n        if (this._isVisible) {\n            // The decorations have changed and the hover is visible,\n            // we need to recompute the displayed text\n            this._hoverOperation.cancel();\n            this._hoverOperation.start(0 /* HoverStartMode.Delayed */);\n        }\n    }\n    startShowingAt(lineNumber) {\n        if (this._computer.lineNumber === lineNumber) {\n            // We have to show the widget at the exact same line number as before, so no work is needed\n            return;\n        }\n        this._hoverOperation.cancel();\n        this.hide();\n        this._computer.lineNumber = lineNumber;\n        this._hoverOperation.start(0 /* HoverStartMode.Delayed */);\n    }\n    hide() {\n        this._computer.lineNumber = -1;\n        this._hoverOperation.cancel();\n        if (!this._isVisible) {\n            return;\n        }\n        this._isVisible = false;\n        this._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);\n    }\n    _withResult(result) {\n        this._messages = result;\n        if (this._messages.length > 0) {\n            this._renderMessages(this._computer.lineNumber, this._messages);\n        }\n        else {\n            this.hide();\n        }\n    }\n    _renderMessages(lineNumber, messages) {\n        this._renderDisposeables.clear();\n        const fragment = document.createDocumentFragment();\n        for (const msg of messages) {\n            const markdownHoverElement = $('div.hover-row.markdown-hover');\n            const hoverContentsElement = dom.append(markdownHoverElement, $('div.hover-contents'));\n            const renderedContents = this._renderDisposeables.add(this._markdownRenderer.render(msg.value));\n            hoverContentsElement.appendChild(renderedContents.element);\n            fragment.appendChild(markdownHoverElement);\n        }\n        this._updateContents(fragment);\n        this._showAt(lineNumber);\n    }\n    _updateContents(node) {\n        this._hover.contentsDomNode.textContent = '';\n        this._hover.contentsDomNode.appendChild(node);\n        this._updateFont();\n    }\n    _showAt(lineNumber) {\n        if (!this._isVisible) {\n            this._isVisible = true;\n            this._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);\n        }\n        const editorLayout = this._editor.getLayoutInfo();\n        const topForLineNumber = this._editor.getTopForLineNumber(lineNumber);\n        const editorScrollTop = this._editor.getScrollTop();\n        const lineHeight = this._editor.getOption(65 /* EditorOption.lineHeight */);\n        const nodeHeight = this._hover.containerDomNode.clientHeight;\n        const top = topForLineNumber - editorScrollTop - ((nodeHeight - lineHeight) / 2);\n        this._hover.containerDomNode.style.left = `${editorLayout.glyphMarginLeft + editorLayout.glyphMarginWidth}px`;\n        this._hover.containerDomNode.style.top = `${Math.max(Math.round(top), 0)}px`;\n    }\n}\nMarginHoverWidget.ID = 'editor.contrib.modesGlyphHoverWidget';\nclass MarginHoverComputer {\n    get lineNumber() {\n        return this._lineNumber;\n    }\n    set lineNumber(value) {\n        this._lineNumber = value;\n    }\n    constructor(_editor) {\n        this._editor = _editor;\n        this._lineNumber = -1;\n    }\n    computeSync() {\n        const toHoverMessage = (contents) => {\n            return {\n                value: contents\n            };\n        };\n        const lineDecorations = this._editor.getLineDecorations(this._lineNumber);\n        const result = [];\n        if (!lineDecorations) {\n            return result;\n        }\n        for (const d of lineDecorations) {\n            if (!d.options.glyphMarginClassName) {\n                continue;\n            }\n            const hoverMessage = d.options.glyphMarginHoverMessage;\n            if (!hoverMessage || isEmptyMarkdownString(hoverMessage)) {\n                continue;\n            }\n            result.push(...asArray(hoverMessage).map(toHoverMessage));\n        }\n        return result;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AsyncIterableObject } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class HoverProviderResult {\n    constructor(provider, hover, ordinal) {\n        this.provider = provider;\n        this.hover = hover;\n        this.ordinal = ordinal;\n    }\n}\nfunction executeProvider(provider, ordinal, model, position, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            const result = yield Promise.resolve(provider.provideHover(model, position, token));\n            if (result && isValid(result)) {\n                return new HoverProviderResult(provider, result, ordinal);\n            }\n        }\n        catch (err) {\n            onUnexpectedExternalError(err);\n        }\n        return undefined;\n    });\n}\nexport function getHover(registry, model, position, token) {\n    const providers = registry.ordered(model);\n    const promises = providers.map((provider, index) => executeProvider(provider, index, model, position, token));\n    return AsyncIterableObject.fromPromises(promises).coalesce();\n}\nexport function getHoverPromise(registry, model, position, token) {\n    return getHover(registry, model, position, token).map(item => item.hover).toPromise();\n}\nregisterModelAndPositionCommand('_executeHoverProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    return getHoverPromise(languageFeaturesService.hoverProvider, model, position, CancellationToken.None);\n});\nfunction isValid(result) {\n    const hasRange = (typeof result.range !== 'undefined');\n    const hasHtmlContent = typeof result.contents !== 'undefined' && result.contents && result.contents.length > 0;\n    return hasRange && hasHtmlContent;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { asArray } from '../../../../base/common/arrays.js';\nimport { AsyncIterableObject } from '../../../../base/common/async.js';\nimport { isEmptyMarkdownString, MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { getHover } from './getHover.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nconst $ = dom.$;\nexport class MarkdownHover {\n    constructor(owner, range, contents, isBeforeContent, ordinal) {\n        this.owner = owner;\n        this.range = range;\n        this.contents = contents;\n        this.isBeforeContent = isBeforeContent;\n        this.ordinal = ordinal;\n    }\n    isValidForHoverAnchor(anchor) {\n        return (anchor.type === 1 /* HoverAnchorType.Range */\n            && this.range.startColumn <= anchor.range.startColumn\n            && this.range.endColumn >= anchor.range.endColumn);\n    }\n}\nlet MarkdownHoverParticipant = class MarkdownHoverParticipant {\n    constructor(_editor, _languageService, _openerService, _configurationService, _languageFeaturesService) {\n        this._editor = _editor;\n        this._languageService = _languageService;\n        this._openerService = _openerService;\n        this._configurationService = _configurationService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this.hoverOrdinal = 3;\n    }\n    createLoadingMessage(anchor) {\n        return new MarkdownHover(this, anchor.range, [new MarkdownString().appendText(nls.localize('modesContentHover.loading', \"Loading...\"))], false, 2000);\n    }\n    computeSync(anchor, lineDecorations) {\n        if (!this._editor.hasModel() || anchor.type !== 1 /* HoverAnchorType.Range */) {\n            return [];\n        }\n        const model = this._editor.getModel();\n        const lineNumber = anchor.range.startLineNumber;\n        const maxColumn = model.getLineMaxColumn(lineNumber);\n        const result = [];\n        let index = 1000;\n        const lineLength = model.getLineLength(lineNumber);\n        const languageId = model.getLanguageIdAtPosition(anchor.range.startLineNumber, anchor.range.startColumn);\n        const stopRenderingLineAfter = this._editor.getOption(115 /* EditorOption.stopRenderingLineAfter */);\n        const maxTokenizationLineLength = this._configurationService.getValue('editor.maxTokenizationLineLength', {\n            overrideIdentifier: languageId\n        });\n        let stopRenderingMessage = false;\n        if (stopRenderingLineAfter >= 0 && lineLength > stopRenderingLineAfter && anchor.range.startColumn >= stopRenderingLineAfter) {\n            stopRenderingMessage = true;\n            result.push(new MarkdownHover(this, anchor.range, [{\n                    value: nls.localize('stopped rendering', \"Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.\")\n                }], false, index++));\n        }\n        if (!stopRenderingMessage && typeof maxTokenizationLineLength === 'number' && lineLength >= maxTokenizationLineLength) {\n            result.push(new MarkdownHover(this, anchor.range, [{\n                    value: nls.localize('too many characters', \"Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.\")\n                }], false, index++));\n        }\n        let isBeforeContent = false;\n        for (const d of lineDecorations) {\n            const startColumn = (d.range.startLineNumber === lineNumber) ? d.range.startColumn : 1;\n            const endColumn = (d.range.endLineNumber === lineNumber) ? d.range.endColumn : maxColumn;\n            const hoverMessage = d.options.hoverMessage;\n            if (!hoverMessage || isEmptyMarkdownString(hoverMessage)) {\n                continue;\n            }\n            if (d.options.beforeContentClassName) {\n                isBeforeContent = true;\n            }\n            const range = new Range(anchor.range.startLineNumber, startColumn, anchor.range.startLineNumber, endColumn);\n            result.push(new MarkdownHover(this, range, asArray(hoverMessage), isBeforeContent, index++));\n        }\n        return result;\n    }\n    computeAsync(anchor, lineDecorations, token) {\n        if (!this._editor.hasModel() || anchor.type !== 1 /* HoverAnchorType.Range */) {\n            return AsyncIterableObject.EMPTY;\n        }\n        const model = this._editor.getModel();\n        if (!this._languageFeaturesService.hoverProvider.has(model)) {\n            return AsyncIterableObject.EMPTY;\n        }\n        const position = new Position(anchor.range.startLineNumber, anchor.range.startColumn);\n        return getHover(this._languageFeaturesService.hoverProvider, model, position, token)\n            .filter(item => !isEmptyMarkdownString(item.hover.contents))\n            .map(item => {\n            const rng = item.hover.range ? Range.lift(item.hover.range) : anchor.range;\n            return new MarkdownHover(this, rng, item.hover.contents, false, item.ordinal);\n        });\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderMarkdownHovers(context, hoverParts, this._editor, this._languageService, this._openerService);\n    }\n};\nMarkdownHoverParticipant = __decorate([\n    __param(1, ILanguageService),\n    __param(2, IOpenerService),\n    __param(3, IConfigurationService),\n    __param(4, ILanguageFeaturesService)\n], MarkdownHoverParticipant);\nexport { MarkdownHoverParticipant };\nexport function renderMarkdownHovers(context, hoverParts, editor, languageService, openerService) {\n    // Sort hover parts to keep them stable since they might come in async, out-of-order\n    hoverParts.sort((a, b) => a.ordinal - b.ordinal);\n    const disposables = new DisposableStore();\n    for (const hoverPart of hoverParts) {\n        for (const contents of hoverPart.contents) {\n            if (isEmptyMarkdownString(contents)) {\n                continue;\n            }\n            const markdownHoverElement = $('div.hover-row.markdown-hover');\n            const hoverContentsElement = dom.append(markdownHoverElement, $('div.hover-contents'));\n            const renderer = disposables.add(new MarkdownRenderer({ editor }, languageService, openerService));\n            disposables.add(renderer.onDidRenderAsync(() => {\n                hoverContentsElement.className = 'hover-contents code-hover-contents';\n                context.onContentsChanged();\n            }));\n            const renderedContents = disposables.add(renderer.render(contents));\n            hoverContentsElement.appendChild(renderedContents.element);\n            context.fragment.appendChild(markdownHoverElement);\n        }\n    }\n    return disposables;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { binarySearch } from '../../../../base/common/arrays.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../../base/common/linkedList.js';\nimport { compare } from '../../../../base/common/strings.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Range } from '../../../common/core/range.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IMarkerService, MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nexport class MarkerCoordinate {\n    constructor(marker, index, total) {\n        this.marker = marker;\n        this.index = index;\n        this.total = total;\n    }\n}\nlet MarkerList = class MarkerList {\n    constructor(resourceFilter, _markerService, _configService) {\n        this._markerService = _markerService;\n        this._configService = _configService;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._dispoables = new DisposableStore();\n        this._markers = [];\n        this._nextIdx = -1;\n        if (URI.isUri(resourceFilter)) {\n            this._resourceFilter = uri => uri.toString() === resourceFilter.toString();\n        }\n        else if (resourceFilter) {\n            this._resourceFilter = resourceFilter;\n        }\n        const compareOrder = this._configService.getValue('problems.sortOrder');\n        const compareMarker = (a, b) => {\n            let res = compare(a.resource.toString(), b.resource.toString());\n            if (res === 0) {\n                if (compareOrder === 'position') {\n                    res = Range.compareRangesUsingStarts(a, b) || MarkerSeverity.compare(a.severity, b.severity);\n                }\n                else {\n                    res = MarkerSeverity.compare(a.severity, b.severity) || Range.compareRangesUsingStarts(a, b);\n                }\n            }\n            return res;\n        };\n        const updateMarker = () => {\n            this._markers = this._markerService.read({\n                resource: URI.isUri(resourceFilter) ? resourceFilter : undefined,\n                severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info\n            });\n            if (typeof resourceFilter === 'function') {\n                this._markers = this._markers.filter(m => this._resourceFilter(m.resource));\n            }\n            this._markers.sort(compareMarker);\n        };\n        updateMarker();\n        this._dispoables.add(_markerService.onMarkerChanged(uris => {\n            if (!this._resourceFilter || uris.some(uri => this._resourceFilter(uri))) {\n                updateMarker();\n                this._nextIdx = -1;\n                this._onDidChange.fire();\n            }\n        }));\n    }\n    dispose() {\n        this._dispoables.dispose();\n        this._onDidChange.dispose();\n    }\n    matches(uri) {\n        if (!this._resourceFilter && !uri) {\n            return true;\n        }\n        if (!this._resourceFilter || !uri) {\n            return false;\n        }\n        return this._resourceFilter(uri);\n    }\n    get selected() {\n        const marker = this._markers[this._nextIdx];\n        return marker && new MarkerCoordinate(marker, this._nextIdx + 1, this._markers.length);\n    }\n    _initIdx(model, position, fwd) {\n        let found = false;\n        let idx = this._markers.findIndex(marker => marker.resource.toString() === model.uri.toString());\n        if (idx < 0) {\n            idx = binarySearch(this._markers, { resource: model.uri }, (a, b) => compare(a.resource.toString(), b.resource.toString()));\n            if (idx < 0) {\n                idx = ~idx;\n            }\n        }\n        for (let i = idx; i < this._markers.length; i++) {\n            let range = Range.lift(this._markers[i]);\n            if (range.isEmpty()) {\n                const word = model.getWordAtPosition(range.getStartPosition());\n                if (word) {\n                    range = new Range(range.startLineNumber, word.startColumn, range.startLineNumber, word.endColumn);\n                }\n            }\n            if (position && (range.containsPosition(position) || position.isBeforeOrEqual(range.getStartPosition()))) {\n                this._nextIdx = i;\n                found = true;\n                break;\n            }\n            if (this._markers[i].resource.toString() !== model.uri.toString()) {\n                break;\n            }\n        }\n        if (!found) {\n            // after the last change\n            this._nextIdx = fwd ? 0 : this._markers.length - 1;\n        }\n        if (this._nextIdx < 0) {\n            this._nextIdx = this._markers.length - 1;\n        }\n    }\n    resetIndex() {\n        this._nextIdx = -1;\n    }\n    move(fwd, model, position) {\n        if (this._markers.length === 0) {\n            return false;\n        }\n        const oldIdx = this._nextIdx;\n        if (this._nextIdx === -1) {\n            this._initIdx(model, position, fwd);\n        }\n        else if (fwd) {\n            this._nextIdx = (this._nextIdx + 1) % this._markers.length;\n        }\n        else if (!fwd) {\n            this._nextIdx = (this._nextIdx - 1 + this._markers.length) % this._markers.length;\n        }\n        if (oldIdx !== this._nextIdx) {\n            return true;\n        }\n        return false;\n    }\n    find(uri, position) {\n        let idx = this._markers.findIndex(marker => marker.resource.toString() === uri.toString());\n        if (idx < 0) {\n            return undefined;\n        }\n        for (; idx < this._markers.length; idx++) {\n            if (Range.containsPosition(this._markers[idx], position)) {\n                return new MarkerCoordinate(this._markers[idx], idx + 1, this._markers.length);\n            }\n        }\n        return undefined;\n    }\n};\nMarkerList = __decorate([\n    __param(1, IMarkerService),\n    __param(2, IConfigurationService)\n], MarkerList);\nexport { MarkerList };\nexport const IMarkerNavigationService = createDecorator('IMarkerNavigationService');\nlet MarkerNavigationService = class MarkerNavigationService {\n    constructor(_markerService, _configService) {\n        this._markerService = _markerService;\n        this._configService = _configService;\n        this._provider = new LinkedList();\n    }\n    registerProvider(provider) {\n        const remove = this._provider.unshift(provider);\n        return toDisposable(() => remove());\n    }\n    getMarkerList(resource) {\n        for (const provider of this._provider) {\n            const result = provider.getMarkerList(resource);\n            if (result) {\n                return result;\n            }\n        }\n        // default\n        return new MarkerList(resource, this._markerService, this._configService);\n    }\n};\nMarkerNavigationService = __decorate([\n    __param(0, IMarkerService),\n    __param(1, IConfigurationService)\n], MarkerNavigationService);\nregisterSingleton(IMarkerNavigationService, MarkerNavigationService, 1 /* InstantiationType.Delayed */);\n","\n      import API from \"!../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../css-loader/dist/cjs.js!./gotoErrorWidget.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../css-loader/dist/cjs.js!./gotoErrorWidget.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { DisposableStore, dispose } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { splitLines } from '../../../../base/common/strings.js';\nimport './media/gotoErrorWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { peekViewTitleForeground, peekViewTitleInfoForeground, PeekViewWidget } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { createAndFillInActionBarActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { SeverityIcon } from '../../../../platform/severityIcon/browser/severityIcon.js';\nimport { contrastBorder, editorBackground, editorErrorBorder, editorErrorForeground, editorInfoBorder, editorInfoForeground, editorWarningBorder, editorWarningForeground, oneOf, registerColor, transparent } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nclass MessageWidget {\n    constructor(parent, editor, onRelatedInformation, _openerService, _labelService) {\n        this._openerService = _openerService;\n        this._labelService = _labelService;\n        this._lines = 0;\n        this._longestLineLength = 0;\n        this._relatedDiagnostics = new WeakMap();\n        this._disposables = new DisposableStore();\n        this._editor = editor;\n        const domNode = document.createElement('div');\n        domNode.className = 'descriptioncontainer';\n        this._messageBlock = document.createElement('div');\n        this._messageBlock.classList.add('message');\n        this._messageBlock.setAttribute('aria-live', 'assertive');\n        this._messageBlock.setAttribute('role', 'alert');\n        domNode.appendChild(this._messageBlock);\n        this._relatedBlock = document.createElement('div');\n        domNode.appendChild(this._relatedBlock);\n        this._disposables.add(dom.addStandardDisposableListener(this._relatedBlock, 'click', event => {\n            event.preventDefault();\n            const related = this._relatedDiagnostics.get(event.target);\n            if (related) {\n                onRelatedInformation(related);\n            }\n        }));\n        this._scrollable = new ScrollableElement(domNode, {\n            horizontal: 1 /* ScrollbarVisibility.Auto */,\n            vertical: 1 /* ScrollbarVisibility.Auto */,\n            useShadows: false,\n            horizontalScrollbarSize: 6,\n            verticalScrollbarSize: 6\n        });\n        parent.appendChild(this._scrollable.getDomNode());\n        this._disposables.add(this._scrollable.onScroll(e => {\n            domNode.style.left = `-${e.scrollLeft}px`;\n            domNode.style.top = `-${e.scrollTop}px`;\n        }));\n        this._disposables.add(this._scrollable);\n    }\n    dispose() {\n        dispose(this._disposables);\n    }\n    update(marker) {\n        const { source, message, relatedInformation, code } = marker;\n        let sourceAndCodeLength = ((source === null || source === void 0 ? void 0 : source.length) || 0) + '()'.length;\n        if (code) {\n            if (typeof code === 'string') {\n                sourceAndCodeLength += code.length;\n            }\n            else {\n                sourceAndCodeLength += code.value.length;\n            }\n        }\n        const lines = splitLines(message);\n        this._lines = lines.length;\n        this._longestLineLength = 0;\n        for (const line of lines) {\n            this._longestLineLength = Math.max(line.length + sourceAndCodeLength, this._longestLineLength);\n        }\n        dom.clearNode(this._messageBlock);\n        this._messageBlock.setAttribute('aria-label', this.getAriaLabel(marker));\n        this._editor.applyFontInfo(this._messageBlock);\n        let lastLineElement = this._messageBlock;\n        for (const line of lines) {\n            lastLineElement = document.createElement('div');\n            lastLineElement.innerText = line;\n            if (line === '') {\n                lastLineElement.style.height = this._messageBlock.style.lineHeight;\n            }\n            this._messageBlock.appendChild(lastLineElement);\n        }\n        if (source || code) {\n            const detailsElement = document.createElement('span');\n            detailsElement.classList.add('details');\n            lastLineElement.appendChild(detailsElement);\n            if (source) {\n                const sourceElement = document.createElement('span');\n                sourceElement.innerText = source;\n                sourceElement.classList.add('source');\n                detailsElement.appendChild(sourceElement);\n            }\n            if (code) {\n                if (typeof code === 'string') {\n                    const codeElement = document.createElement('span');\n                    codeElement.innerText = `(${code})`;\n                    codeElement.classList.add('code');\n                    detailsElement.appendChild(codeElement);\n                }\n                else {\n                    this._codeLink = dom.$('a.code-link');\n                    this._codeLink.setAttribute('href', `${code.target.toString()}`);\n                    this._codeLink.onclick = (e) => {\n                        this._openerService.open(code.target, { allowCommands: true });\n                        e.preventDefault();\n                        e.stopPropagation();\n                    };\n                    const codeElement = dom.append(this._codeLink, dom.$('span'));\n                    codeElement.innerText = code.value;\n                    detailsElement.appendChild(this._codeLink);\n                }\n            }\n        }\n        dom.clearNode(this._relatedBlock);\n        this._editor.applyFontInfo(this._relatedBlock);\n        if (isNonEmptyArray(relatedInformation)) {\n            const relatedInformationNode = this._relatedBlock.appendChild(document.createElement('div'));\n            relatedInformationNode.style.paddingTop = `${Math.floor(this._editor.getOption(65 /* EditorOption.lineHeight */) * 0.66)}px`;\n            this._lines += 1;\n            for (const related of relatedInformation) {\n                const container = document.createElement('div');\n                const relatedResource = document.createElement('a');\n                relatedResource.classList.add('filename');\n                relatedResource.innerText = `${this._labelService.getUriBasenameLabel(related.resource)}(${related.startLineNumber}, ${related.startColumn}): `;\n                relatedResource.title = this._labelService.getUriLabel(related.resource);\n                this._relatedDiagnostics.set(relatedResource, related);\n                const relatedMessage = document.createElement('span');\n                relatedMessage.innerText = related.message;\n                container.appendChild(relatedResource);\n                container.appendChild(relatedMessage);\n                this._lines += 1;\n                relatedInformationNode.appendChild(container);\n            }\n        }\n        const fontInfo = this._editor.getOption(49 /* EditorOption.fontInfo */);\n        const scrollWidth = Math.ceil(fontInfo.typicalFullwidthCharacterWidth * this._longestLineLength * 0.75);\n        const scrollHeight = fontInfo.lineHeight * this._lines;\n        this._scrollable.setScrollDimensions({ scrollWidth, scrollHeight });\n    }\n    layout(height, width) {\n        this._scrollable.getDomNode().style.height = `${height}px`;\n        this._scrollable.getDomNode().style.width = `${width}px`;\n        this._scrollable.setScrollDimensions({ width, height });\n    }\n    getHeightInLines() {\n        return Math.min(17, this._lines);\n    }\n    getAriaLabel(marker) {\n        let severityLabel = '';\n        switch (marker.severity) {\n            case MarkerSeverity.Error:\n                severityLabel = nls.localize('Error', \"Error\");\n                break;\n            case MarkerSeverity.Warning:\n                severityLabel = nls.localize('Warning', \"Warning\");\n                break;\n            case MarkerSeverity.Info:\n                severityLabel = nls.localize('Info', \"Info\");\n                break;\n            case MarkerSeverity.Hint:\n                severityLabel = nls.localize('Hint', \"Hint\");\n                break;\n        }\n        let ariaLabel = nls.localize('marker aria', \"{0} at {1}. \", severityLabel, marker.startLineNumber + ':' + marker.startColumn);\n        const model = this._editor.getModel();\n        if (model && (marker.startLineNumber <= model.getLineCount()) && (marker.startLineNumber >= 1)) {\n            const lineContent = model.getLineContent(marker.startLineNumber);\n            ariaLabel = `${lineContent}, ${ariaLabel}`;\n        }\n        return ariaLabel;\n    }\n}\nlet MarkerNavigationWidget = class MarkerNavigationWidget extends PeekViewWidget {\n    constructor(editor, _themeService, _openerService, _menuService, instantiationService, _contextKeyService, _labelService) {\n        super(editor, { showArrow: true, showFrame: true, isAccessible: true, frameWidth: 1 }, instantiationService);\n        this._themeService = _themeService;\n        this._openerService = _openerService;\n        this._menuService = _menuService;\n        this._contextKeyService = _contextKeyService;\n        this._labelService = _labelService;\n        this._callOnDispose = new DisposableStore();\n        this._onDidSelectRelatedInformation = new Emitter();\n        this.onDidSelectRelatedInformation = this._onDidSelectRelatedInformation.event;\n        this._severity = MarkerSeverity.Warning;\n        this._backgroundColor = Color.white;\n        this._applyTheme(_themeService.getColorTheme());\n        this._callOnDispose.add(_themeService.onDidColorThemeChange(this._applyTheme.bind(this)));\n        this.create();\n    }\n    _applyTheme(theme) {\n        this._backgroundColor = theme.getColor(editorMarkerNavigationBackground);\n        let colorId = editorMarkerNavigationError;\n        let headerBackground = editorMarkerNavigationErrorHeader;\n        if (this._severity === MarkerSeverity.Warning) {\n            colorId = editorMarkerNavigationWarning;\n            headerBackground = editorMarkerNavigationWarningHeader;\n        }\n        else if (this._severity === MarkerSeverity.Info) {\n            colorId = editorMarkerNavigationInfo;\n            headerBackground = editorMarkerNavigationInfoHeader;\n        }\n        const frameColor = theme.getColor(colorId);\n        const headerBg = theme.getColor(headerBackground);\n        this.style({\n            arrowColor: frameColor,\n            frameColor: frameColor,\n            headerBackgroundColor: headerBg,\n            primaryHeadingColor: theme.getColor(peekViewTitleForeground),\n            secondaryHeadingColor: theme.getColor(peekViewTitleInfoForeground)\n        }); // style() will trigger _applyStyles\n    }\n    _applyStyles() {\n        if (this._parentContainer) {\n            this._parentContainer.style.backgroundColor = this._backgroundColor ? this._backgroundColor.toString() : '';\n        }\n        super._applyStyles();\n    }\n    dispose() {\n        this._callOnDispose.dispose();\n        super.dispose();\n    }\n    focus() {\n        this._parentContainer.focus();\n    }\n    _fillHead(container) {\n        super._fillHead(container);\n        this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(e => this.editor.focus()));\n        const actions = [];\n        const menu = this._menuService.createMenu(MarkerNavigationWidget.TitleMenu, this._contextKeyService);\n        createAndFillInActionBarActions(menu, undefined, actions);\n        this._actionbarWidget.push(actions, { label: false, icon: true, index: 0 });\n        menu.dispose();\n    }\n    _fillTitleIcon(container) {\n        this._icon = dom.append(container, dom.$(''));\n    }\n    _fillBody(container) {\n        this._parentContainer = container;\n        container.classList.add('marker-widget');\n        this._parentContainer.tabIndex = 0;\n        this._parentContainer.setAttribute('role', 'tooltip');\n        this._container = document.createElement('div');\n        container.appendChild(this._container);\n        this._message = new MessageWidget(this._container, this.editor, related => this._onDidSelectRelatedInformation.fire(related), this._openerService, this._labelService);\n        this._disposables.add(this._message);\n    }\n    show() {\n        throw new Error('call showAtMarker');\n    }\n    showAtMarker(marker, markerIdx, markerCount) {\n        // update:\n        // * title\n        // * message\n        this._container.classList.remove('stale');\n        this._message.update(marker);\n        // update frame color (only applied on 'show')\n        this._severity = marker.severity;\n        this._applyTheme(this._themeService.getColorTheme());\n        // show\n        const range = Range.lift(marker);\n        const editorPosition = this.editor.getPosition();\n        const position = editorPosition && range.containsPosition(editorPosition) ? editorPosition : range.getStartPosition();\n        super.show(position, this.computeRequiredHeight());\n        const model = this.editor.getModel();\n        if (model) {\n            const detail = markerCount > 1\n                ? nls.localize('problems', \"{0} of {1} problems\", markerIdx, markerCount)\n                : nls.localize('change', \"{0} of {1} problem\", markerIdx, markerCount);\n            this.setTitle(basename(model.uri), detail);\n        }\n        this._icon.className = `codicon ${SeverityIcon.className(MarkerSeverity.toSeverity(this._severity))}`;\n        this.editor.revealPositionNearTop(position, 0 /* ScrollType.Smooth */);\n        this.editor.focus();\n    }\n    updateMarker(marker) {\n        this._container.classList.remove('stale');\n        this._message.update(marker);\n    }\n    showStale() {\n        this._container.classList.add('stale');\n        this._relayout();\n    }\n    _doLayoutBody(heightInPixel, widthInPixel) {\n        super._doLayoutBody(heightInPixel, widthInPixel);\n        this._heightInPixel = heightInPixel;\n        this._message.layout(heightInPixel, widthInPixel);\n        this._container.style.height = `${heightInPixel}px`;\n    }\n    _onWidth(widthInPixel) {\n        this._message.layout(this._heightInPixel, widthInPixel);\n    }\n    _relayout() {\n        super._relayout(this.computeRequiredHeight());\n    }\n    computeRequiredHeight() {\n        return 3 + this._message.getHeightInLines();\n    }\n};\nMarkerNavigationWidget.TitleMenu = new MenuId('gotoErrorTitleMenu');\nMarkerNavigationWidget = __decorate([\n    __param(1, IThemeService),\n    __param(2, IOpenerService),\n    __param(3, IMenuService),\n    __param(4, IInstantiationService),\n    __param(5, IContextKeyService),\n    __param(6, ILabelService)\n], MarkerNavigationWidget);\nexport { MarkerNavigationWidget };\n// theming\nconst errorDefault = oneOf(editorErrorForeground, editorErrorBorder);\nconst warningDefault = oneOf(editorWarningForeground, editorWarningBorder);\nconst infoDefault = oneOf(editorInfoForeground, editorInfoBorder);\nconst editorMarkerNavigationError = registerColor('editorMarkerNavigationError.background', { dark: errorDefault, light: errorDefault, hcDark: contrastBorder, hcLight: contrastBorder }, nls.localize('editorMarkerNavigationError', 'Editor marker navigation widget error color.'));\nconst editorMarkerNavigationErrorHeader = registerColor('editorMarkerNavigationError.headerBackground', { dark: transparent(editorMarkerNavigationError, .1), light: transparent(editorMarkerNavigationError, .1), hcDark: null, hcLight: null }, nls.localize('editorMarkerNavigationErrorHeaderBackground', 'Editor marker navigation widget error heading background.'));\nconst editorMarkerNavigationWarning = registerColor('editorMarkerNavigationWarning.background', { dark: warningDefault, light: warningDefault, hcDark: contrastBorder, hcLight: contrastBorder }, nls.localize('editorMarkerNavigationWarning', 'Editor marker navigation widget warning color.'));\nconst editorMarkerNavigationWarningHeader = registerColor('editorMarkerNavigationWarning.headerBackground', { dark: transparent(editorMarkerNavigationWarning, .1), light: transparent(editorMarkerNavigationWarning, .1), hcDark: '#0C141F', hcLight: transparent(editorMarkerNavigationWarning, .2) }, nls.localize('editorMarkerNavigationWarningBackground', 'Editor marker navigation widget warning heading background.'));\nconst editorMarkerNavigationInfo = registerColor('editorMarkerNavigationInfo.background', { dark: infoDefault, light: infoDefault, hcDark: contrastBorder, hcLight: contrastBorder }, nls.localize('editorMarkerNavigationInfo', 'Editor marker navigation widget info color.'));\nconst editorMarkerNavigationInfoHeader = registerColor('editorMarkerNavigationInfo.headerBackground', { dark: transparent(editorMarkerNavigationInfo, .1), light: transparent(editorMarkerNavigationInfo, .1), hcDark: null, hcLight: null }, nls.localize('editorMarkerNavigationInfoHeaderBackground', 'Editor marker navigation widget info heading background.'));\nconst editorMarkerNavigationBackground = registerColor('editorMarkerNavigation.background', { dark: editorBackground, light: editorBackground, hcDark: editorBackground, hcLight: editorBackground }, nls.localize('editorMarkerNavigationBackground', 'Editor marker navigation widget background.'));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IMarkerNavigationService } from './markerNavigationService.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { MarkerNavigationWidget } from './gotoErrorWidget.js';\nlet MarkerController = class MarkerController {\n    static get(editor) {\n        return editor.getContribution(MarkerController.ID);\n    }\n    constructor(editor, _markerNavigationService, _contextKeyService, _editorService, _instantiationService) {\n        this._markerNavigationService = _markerNavigationService;\n        this._contextKeyService = _contextKeyService;\n        this._editorService = _editorService;\n        this._instantiationService = _instantiationService;\n        this._sessionDispoables = new DisposableStore();\n        this._editor = editor;\n        this._widgetVisible = CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService);\n    }\n    dispose() {\n        this._cleanUp();\n        this._sessionDispoables.dispose();\n    }\n    _cleanUp() {\n        this._widgetVisible.reset();\n        this._sessionDispoables.clear();\n        this._widget = undefined;\n        this._model = undefined;\n    }\n    _getOrCreateModel(uri) {\n        if (this._model && this._model.matches(uri)) {\n            return this._model;\n        }\n        let reusePosition = false;\n        if (this._model) {\n            reusePosition = true;\n            this._cleanUp();\n        }\n        this._model = this._markerNavigationService.getMarkerList(uri);\n        if (reusePosition) {\n            this._model.move(true, this._editor.getModel(), this._editor.getPosition());\n        }\n        this._widget = this._instantiationService.createInstance(MarkerNavigationWidget, this._editor);\n        this._widget.onDidClose(() => this.close(), this, this._sessionDispoables);\n        this._widgetVisible.set(true);\n        this._sessionDispoables.add(this._model);\n        this._sessionDispoables.add(this._widget);\n        // follow cursor\n        this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(e => {\n            var _a, _b, _c;\n            if (!((_a = this._model) === null || _a === void 0 ? void 0 : _a.selected) || !Range.containsPosition((_b = this._model) === null || _b === void 0 ? void 0 : _b.selected.marker, e.position)) {\n                (_c = this._model) === null || _c === void 0 ? void 0 : _c.resetIndex();\n            }\n        }));\n        // update markers\n        this._sessionDispoables.add(this._model.onDidChange(() => {\n            if (!this._widget || !this._widget.position || !this._model) {\n                return;\n            }\n            const info = this._model.find(this._editor.getModel().uri, this._widget.position);\n            if (info) {\n                this._widget.updateMarker(info.marker);\n            }\n            else {\n                this._widget.showStale();\n            }\n        }));\n        // open related\n        this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(related => {\n            this._editorService.openCodeEditor({\n                resource: related.resource,\n                options: { pinned: true, revealIfOpened: true, selection: Range.lift(related).collapseToStart() }\n            }, this._editor);\n            this.close(false);\n        }));\n        this._sessionDispoables.add(this._editor.onDidChangeModel(() => this._cleanUp()));\n        return this._model;\n    }\n    close(focusEditor = true) {\n        this._cleanUp();\n        if (focusEditor) {\n            this._editor.focus();\n        }\n    }\n    showAtMarker(marker) {\n        if (this._editor.hasModel()) {\n            const model = this._getOrCreateModel(this._editor.getModel().uri);\n            model.resetIndex();\n            model.move(true, this._editor.getModel(), new Position(marker.startLineNumber, marker.startColumn));\n            if (model.selected) {\n                this._widget.showAtMarker(model.selected.marker, model.selected.index, model.selected.total);\n            }\n        }\n    }\n    nagivate(next, multiFile) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._editor.hasModel()) {\n                const model = this._getOrCreateModel(multiFile ? undefined : this._editor.getModel().uri);\n                model.move(next, this._editor.getModel(), this._editor.getPosition());\n                if (!model.selected) {\n                    return;\n                }\n                if (model.selected.marker.resource.toString() !== this._editor.getModel().uri.toString()) {\n                    // show in different editor\n                    this._cleanUp();\n                    const otherEditor = yield this._editorService.openCodeEditor({\n                        resource: model.selected.marker.resource,\n                        options: { pinned: false, revealIfOpened: true, selectionRevealType: 2 /* TextEditorSelectionRevealType.NearTop */, selection: model.selected.marker }\n                    }, this._editor);\n                    if (otherEditor) {\n                        (_a = MarkerController.get(otherEditor)) === null || _a === void 0 ? void 0 : _a.close();\n                        (_b = MarkerController.get(otherEditor)) === null || _b === void 0 ? void 0 : _b.nagivate(next, multiFile);\n                    }\n                }\n                else {\n                    // show in this editor\n                    this._widget.showAtMarker(model.selected.marker, model.selected.index, model.selected.total);\n                }\n            }\n        });\n    }\n};\nMarkerController.ID = 'editor.contrib.markerController';\nMarkerController = __decorate([\n    __param(1, IMarkerNavigationService),\n    __param(2, IContextKeyService),\n    __param(3, ICodeEditorService),\n    __param(4, IInstantiationService)\n], MarkerController);\nexport { MarkerController };\nclass MarkerNavigationAction extends EditorAction {\n    constructor(_next, _multiFile, opts) {\n        super(opts);\n        this._next = _next;\n        this._multiFile = _multiFile;\n    }\n    run(_accessor, editor) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (editor.hasModel()) {\n                (_a = MarkerController.get(editor)) === null || _a === void 0 ? void 0 : _a.nagivate(this._next, this._multiFile);\n            }\n        });\n    }\n}\nexport class NextMarkerAction extends MarkerNavigationAction {\n    constructor() {\n        super(true, false, {\n            id: NextMarkerAction.ID,\n            label: NextMarkerAction.LABEL,\n            alias: 'Go to Next Problem (Error, Warning, Info)',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 512 /* KeyMod.Alt */ | 66 /* KeyCode.F8 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MarkerNavigationWidget.TitleMenu,\n                title: NextMarkerAction.LABEL,\n                icon: registerIcon('marker-navigation-next', Codicon.arrowDown, nls.localize('nextMarkerIcon', 'Icon for goto next marker.')),\n                group: 'navigation',\n                order: 1\n            }\n        });\n    }\n}\nNextMarkerAction.ID = 'editor.action.marker.next';\nNextMarkerAction.LABEL = nls.localize('markerAction.next.label', \"Go to Next Problem (Error, Warning, Info)\");\nclass PrevMarkerAction extends MarkerNavigationAction {\n    constructor() {\n        super(false, false, {\n            id: PrevMarkerAction.ID,\n            label: PrevMarkerAction.LABEL,\n            alias: 'Go to Previous Problem (Error, Warning, Info)',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 66 /* KeyCode.F8 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MarkerNavigationWidget.TitleMenu,\n                title: PrevMarkerAction.LABEL,\n                icon: registerIcon('marker-navigation-previous', Codicon.arrowUp, nls.localize('previousMarkerIcon', 'Icon for goto previous marker.')),\n                group: 'navigation',\n                order: 2\n            }\n        });\n    }\n}\nPrevMarkerAction.ID = 'editor.action.marker.prev';\nPrevMarkerAction.LABEL = nls.localize('markerAction.previous.label', \"Go to Previous Problem (Error, Warning, Info)\");\nclass NextMarkerInFilesAction extends MarkerNavigationAction {\n    constructor() {\n        super(true, true, {\n            id: 'editor.action.marker.nextInFiles',\n            label: nls.localize('markerAction.nextInFiles.label', \"Go to Next Problem in Files (Error, Warning, Info)\"),\n            alias: 'Go to Next Problem in Files (Error, Warning, Info)',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 66 /* KeyCode.F8 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarGoMenu,\n                title: nls.localize({ key: 'miGotoNextProblem', comment: ['&& denotes a mnemonic'] }, \"Next &&Problem\"),\n                group: '6_problem_nav',\n                order: 1\n            }\n        });\n    }\n}\nclass PrevMarkerInFilesAction extends MarkerNavigationAction {\n    constructor() {\n        super(false, true, {\n            id: 'editor.action.marker.prevInFiles',\n            label: nls.localize('markerAction.previousInFiles.label', \"Go to Previous Problem in Files (Error, Warning, Info)\"),\n            alias: 'Go to Previous Problem in Files (Error, Warning, Info)',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 1024 /* KeyMod.Shift */ | 66 /* KeyCode.F8 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarGoMenu,\n                title: nls.localize({ key: 'miGotoPreviousProblem', comment: ['&& denotes a mnemonic'] }, \"Previous &&Problem\"),\n                group: '6_problem_nav',\n                order: 2\n            }\n        });\n    }\n}\nregisterEditorContribution(MarkerController.ID, MarkerController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(NextMarkerAction);\nregisterEditorAction(PrevMarkerAction);\nregisterEditorAction(NextMarkerInFilesAction);\nregisterEditorAction(PrevMarkerInFilesAction);\nconst CONTEXT_MARKERS_NAVIGATION_VISIBLE = new RawContextKey('markersNavigationVisible', false);\nconst MarkerCommand = EditorCommand.bindToContribution(MarkerController.get);\nregisterEditorCommand(new MarkerCommand({\n    id: 'closeMarkersNavigation',\n    precondition: CONTEXT_MARKERS_NAVIGATION_VISIBLE,\n    handler: x => x.close(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 50,\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* KeyCode.Escape */,\n        secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { createCancelablePromise, disposableTimeout } from '../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { IMarkerDecorationsService } from '../../../common/services/markerDecorations.js';\nimport { getCodeActions, quickFixCommandId } from '../../codeAction/browser/codeAction.js';\nimport { CodeActionController } from '../../codeAction/browser/codeActionController.js';\nimport { CodeActionKind, CodeActionTriggerSource } from '../../codeAction/common/types.js';\nimport { MarkerController, NextMarkerAction } from '../../gotoError/browser/gotoError.js';\nimport * as nls from '../../../../nls.js';\nimport { IMarkerData, MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { Progress } from '../../../../platform/progress/common/progress.js';\nconst $ = dom.$;\nexport class MarkerHover {\n    constructor(owner, range, marker) {\n        this.owner = owner;\n        this.range = range;\n        this.marker = marker;\n    }\n    isValidForHoverAnchor(anchor) {\n        return (anchor.type === 1 /* HoverAnchorType.Range */\n            && this.range.startColumn <= anchor.range.startColumn\n            && this.range.endColumn >= anchor.range.endColumn);\n    }\n}\nconst markerCodeActionTrigger = {\n    type: 1 /* CodeActionTriggerType.Invoke */,\n    filter: { include: CodeActionKind.QuickFix },\n    triggerAction: CodeActionTriggerSource.QuickFixHover\n};\nlet MarkerHoverParticipant = class MarkerHoverParticipant {\n    constructor(_editor, _markerDecorationsService, _openerService, _languageFeaturesService) {\n        this._editor = _editor;\n        this._markerDecorationsService = _markerDecorationsService;\n        this._openerService = _openerService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this.hoverOrdinal = 1;\n        this.recentMarkerCodeActionsInfo = undefined;\n    }\n    computeSync(anchor, lineDecorations) {\n        if (!this._editor.hasModel() || anchor.type !== 1 /* HoverAnchorType.Range */ && !anchor.supportsMarkerHover) {\n            return [];\n        }\n        const model = this._editor.getModel();\n        const lineNumber = anchor.range.startLineNumber;\n        const maxColumn = model.getLineMaxColumn(lineNumber);\n        const result = [];\n        for (const d of lineDecorations) {\n            const startColumn = (d.range.startLineNumber === lineNumber) ? d.range.startColumn : 1;\n            const endColumn = (d.range.endLineNumber === lineNumber) ? d.range.endColumn : maxColumn;\n            const marker = this._markerDecorationsService.getMarker(model.uri, d);\n            if (!marker) {\n                continue;\n            }\n            const range = new Range(anchor.range.startLineNumber, startColumn, anchor.range.startLineNumber, endColumn);\n            result.push(new MarkerHover(this, range, marker));\n        }\n        return result;\n    }\n    renderHoverParts(context, hoverParts) {\n        if (!hoverParts.length) {\n            return Disposable.None;\n        }\n        const disposables = new DisposableStore();\n        hoverParts.forEach(msg => context.fragment.appendChild(this.renderMarkerHover(msg, disposables)));\n        const markerHoverForStatusbar = hoverParts.length === 1 ? hoverParts[0] : hoverParts.sort((a, b) => MarkerSeverity.compare(a.marker.severity, b.marker.severity))[0];\n        this.renderMarkerStatusbar(context, markerHoverForStatusbar, disposables);\n        return disposables;\n    }\n    renderMarkerHover(markerHover, disposables) {\n        const hoverElement = $('div.hover-row');\n        const markerElement = dom.append(hoverElement, $('div.marker.hover-contents'));\n        const { source, message, code, relatedInformation } = markerHover.marker;\n        this._editor.applyFontInfo(markerElement);\n        const messageElement = dom.append(markerElement, $('span'));\n        messageElement.style.whiteSpace = 'pre-wrap';\n        messageElement.innerText = message;\n        if (source || code) {\n            // Code has link\n            if (code && typeof code !== 'string') {\n                const sourceAndCodeElement = $('span');\n                if (source) {\n                    const sourceElement = dom.append(sourceAndCodeElement, $('span'));\n                    sourceElement.innerText = source;\n                }\n                const codeLink = dom.append(sourceAndCodeElement, $('a.code-link'));\n                codeLink.setAttribute('href', code.target.toString());\n                disposables.add(dom.addDisposableListener(codeLink, 'click', (e) => {\n                    this._openerService.open(code.target, { allowCommands: true });\n                    e.preventDefault();\n                    e.stopPropagation();\n                }));\n                const codeElement = dom.append(codeLink, $('span'));\n                codeElement.innerText = code.value;\n                const detailsElement = dom.append(markerElement, sourceAndCodeElement);\n                detailsElement.style.opacity = '0.6';\n                detailsElement.style.paddingLeft = '6px';\n            }\n            else {\n                const detailsElement = dom.append(markerElement, $('span'));\n                detailsElement.style.opacity = '0.6';\n                detailsElement.style.paddingLeft = '6px';\n                detailsElement.innerText = source && code ? `${source}(${code})` : source ? source : `(${code})`;\n            }\n        }\n        if (isNonEmptyArray(relatedInformation)) {\n            for (const { message, resource, startLineNumber, startColumn } of relatedInformation) {\n                const relatedInfoContainer = dom.append(markerElement, $('div'));\n                relatedInfoContainer.style.marginTop = '8px';\n                const a = dom.append(relatedInfoContainer, $('a'));\n                a.innerText = `${basename(resource)}(${startLineNumber}, ${startColumn}): `;\n                a.style.cursor = 'pointer';\n                disposables.add(dom.addDisposableListener(a, 'click', (e) => {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    if (this._openerService) {\n                        this._openerService.open(resource, {\n                            fromUserGesture: true,\n                            editorOptions: { selection: { startLineNumber, startColumn } }\n                        }).catch(onUnexpectedError);\n                    }\n                }));\n                const messageElement = dom.append(relatedInfoContainer, $('span'));\n                messageElement.innerText = message;\n                this._editor.applyFontInfo(messageElement);\n            }\n        }\n        return hoverElement;\n    }\n    renderMarkerStatusbar(context, markerHover, disposables) {\n        if (markerHover.marker.severity === MarkerSeverity.Error || markerHover.marker.severity === MarkerSeverity.Warning || markerHover.marker.severity === MarkerSeverity.Info) {\n            context.statusBar.addAction({\n                label: nls.localize('view problem', \"View Problem\"),\n                commandId: NextMarkerAction.ID,\n                run: () => {\n                    var _a;\n                    context.hide();\n                    (_a = MarkerController.get(this._editor)) === null || _a === void 0 ? void 0 : _a.showAtMarker(markerHover.marker);\n                    this._editor.focus();\n                }\n            });\n        }\n        if (!this._editor.getOption(89 /* EditorOption.readOnly */)) {\n            const quickfixPlaceholderElement = context.statusBar.append($('div'));\n            if (this.recentMarkerCodeActionsInfo) {\n                if (IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker) === IMarkerData.makeKey(markerHover.marker)) {\n                    if (!this.recentMarkerCodeActionsInfo.hasCodeActions) {\n                        quickfixPlaceholderElement.textContent = nls.localize('noQuickFixes', \"No quick fixes available\");\n                    }\n                }\n                else {\n                    this.recentMarkerCodeActionsInfo = undefined;\n                }\n            }\n            const updatePlaceholderDisposable = this.recentMarkerCodeActionsInfo && !this.recentMarkerCodeActionsInfo.hasCodeActions ? Disposable.None : disposables.add(disposableTimeout(() => quickfixPlaceholderElement.textContent = nls.localize('checkingForQuickFixes', \"Checking for quick fixes...\"), 200));\n            if (!quickfixPlaceholderElement.textContent) {\n                // Have some content in here to avoid flickering\n                quickfixPlaceholderElement.textContent = String.fromCharCode(0xA0); // &nbsp;\n            }\n            const codeActionsPromise = this.getCodeActions(markerHover.marker);\n            disposables.add(toDisposable(() => codeActionsPromise.cancel()));\n            codeActionsPromise.then(actions => {\n                updatePlaceholderDisposable.dispose();\n                this.recentMarkerCodeActionsInfo = { marker: markerHover.marker, hasCodeActions: actions.validActions.length > 0 };\n                if (!this.recentMarkerCodeActionsInfo.hasCodeActions) {\n                    actions.dispose();\n                    quickfixPlaceholderElement.textContent = nls.localize('noQuickFixes', \"No quick fixes available\");\n                    return;\n                }\n                quickfixPlaceholderElement.style.display = 'none';\n                let showing = false;\n                disposables.add(toDisposable(() => {\n                    if (!showing) {\n                        actions.dispose();\n                    }\n                }));\n                context.statusBar.addAction({\n                    label: nls.localize('quick fixes', \"Quick Fix...\"),\n                    commandId: quickFixCommandId,\n                    run: (target) => {\n                        showing = true;\n                        const controller = CodeActionController.get(this._editor);\n                        const elementPosition = dom.getDomNodePagePosition(target);\n                        // Hide the hover pre-emptively, otherwise the editor can close the code actions\n                        // context menu as well when using keyboard navigation\n                        context.hide();\n                        controller === null || controller === void 0 ? void 0 : controller.showCodeActions(markerCodeActionTrigger, actions, {\n                            x: elementPosition.left,\n                            y: elementPosition.top,\n                            width: elementPosition.width,\n                            height: elementPosition.height\n                        });\n                    }\n                });\n            }, onUnexpectedError);\n        }\n    }\n    getCodeActions(marker) {\n        return createCancelablePromise(cancellationToken => {\n            return getCodeActions(this._languageFeaturesService.codeActionProvider, this._editor.getModel(), new Range(marker.startLineNumber, marker.startColumn, marker.endLineNumber, marker.endColumn), markerCodeActionTrigger, Progress.None, cancellationToken);\n        });\n    }\n};\nMarkerHoverParticipant = __decorate([\n    __param(1, IMarkerDecorationsService),\n    __param(2, IOpenerService),\n    __param(3, ILanguageFeaturesService)\n], MarkerHoverParticipant);\nexport { MarkerHoverParticipant };\n","\n      import API from \"!../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../css-loader/dist/cjs.js!./inlineCompletionsHintsWidget.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../css-loader/dist/cjs.js!./inlineCompletionsHintsWidget.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { h } from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { KeybindingLabel, unthemedKeybindingLabelOptions } from '../../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { Action, Separator } from '../../../../base/common/actions.js';\nimport { equals } from '../../../../base/common/arrays.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, derived, observableFromEvent } from '../../../../base/common/observable.js';\nimport { autorunWithStore2 } from '../../../../base/common/observableImpl/autorun.js';\nimport { OS } from '../../../../base/common/platform.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport './inlineCompletionsHintsWidget.css';\nimport { Position } from '../../../common/core/position.js';\nimport { InlineCompletionTriggerKind } from '../../../common/languages.js';\nimport { showPreviousInlineSuggestionActionId, showNextInlineSuggestionActionId } from './commandIds.js';\nimport { localize } from '../../../../nls.js';\nimport { createAndFillInActionBarActions, MenuEntryActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { WorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { IMenuService, MenuId, MenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nlet InlineCompletionsHintsWidget = class InlineCompletionsHintsWidget extends Disposable {\n    constructor(editor, model, instantiationService) {\n        super();\n        this.editor = editor;\n        this.model = model;\n        this.instantiationService = instantiationService;\n        this.alwaysShowToolbar = observableFromEvent(this.editor.onDidChangeConfiguration, () => this.editor.getOption(61 /* EditorOption.inlineSuggest */).showToolbar === 'always');\n        this.sessionPosition = undefined;\n        this.position = derived('position', reader => {\n            var _a, _b, _c;\n            const ghostText = (_a = this.model.read(reader)) === null || _a === void 0 ? void 0 : _a.ghostText.read(reader);\n            if (!this.alwaysShowToolbar.read(reader) || !ghostText || ghostText.parts.length === 0) {\n                this.sessionPosition = undefined;\n                return null;\n            }\n            const firstColumn = ghostText.parts[0].column;\n            if (this.sessionPosition && this.sessionPosition.lineNumber !== ghostText.lineNumber) {\n                this.sessionPosition = undefined;\n            }\n            const position = new Position(ghostText.lineNumber, Math.min(firstColumn, (_c = (_b = this.sessionPosition) === null || _b === void 0 ? void 0 : _b.column) !== null && _c !== void 0 ? _c : Number.MAX_SAFE_INTEGER));\n            this.sessionPosition = position;\n            return position;\n        });\n        this._register(autorunWithStore2('setup content widget', (reader, store) => {\n            const model = this.model.read(reader);\n            if (!model || !this.alwaysShowToolbar.read(reader)) {\n                return;\n            }\n            const contentWidget = store.add(this.instantiationService.createInstance(InlineSuggestionHintsContentWidget, this.editor, true, this.position, model.selectedInlineCompletionIndex, model.inlineCompletionsCount, model.selectedInlineCompletion.map(v => { var _a; return (_a = v === null || v === void 0 ? void 0 : v.inlineCompletion.source.inlineCompletions.commands) !== null && _a !== void 0 ? _a : []; })));\n            editor.addContentWidget(contentWidget);\n            store.add(toDisposable(() => editor.removeContentWidget(contentWidget)));\n            store.add(autorun('request explicit', reader => {\n                const position = this.position.read(reader);\n                if (!position) {\n                    return;\n                }\n                if (model.lastTriggerKind.read(reader) !== InlineCompletionTriggerKind.Explicit) {\n                    model.triggerExplicitly();\n                }\n            }));\n        }));\n    }\n};\nInlineCompletionsHintsWidget = __decorate([\n    __param(2, IInstantiationService)\n], InlineCompletionsHintsWidget);\nexport { InlineCompletionsHintsWidget };\nconst inlineSuggestionHintsNextIcon = registerIcon('inline-suggestion-hints-next', Codicon.chevronRight, localize('parameterHintsNextIcon', 'Icon for show next parameter hint.'));\nconst inlineSuggestionHintsPreviousIcon = registerIcon('inline-suggestion-hints-previous', Codicon.chevronLeft, localize('parameterHintsPreviousIcon', 'Icon for show previous parameter hint.'));\nlet InlineSuggestionHintsContentWidget = class InlineSuggestionHintsContentWidget extends Disposable {\n    static get dropDownVisible() { return this._dropDownVisible; }\n    createCommandAction(commandId, label, iconClassName) {\n        const action = new Action(commandId, label, iconClassName, true, () => this._commandService.executeCommand(commandId));\n        const kb = this.keybindingService.lookupKeybinding(commandId, this._contextKeyService);\n        let tooltip = label;\n        if (kb) {\n            tooltip = localize({ key: 'content', comment: ['A label', 'A keybinding'] }, '{0} ({1})', label, kb.getLabel());\n        }\n        action.tooltip = tooltip;\n        return action;\n    }\n    constructor(editor, withBorder, _position, _currentSuggestionIdx, _suggestionCount, _extraCommands, _commandService, instantiationService, keybindingService, _contextKeyService, _menuService) {\n        super();\n        this.editor = editor;\n        this.withBorder = withBorder;\n        this._position = _position;\n        this._currentSuggestionIdx = _currentSuggestionIdx;\n        this._suggestionCount = _suggestionCount;\n        this._extraCommands = _extraCommands;\n        this._commandService = _commandService;\n        this.keybindingService = keybindingService;\n        this._contextKeyService = _contextKeyService;\n        this._menuService = _menuService;\n        this.id = `InlineSuggestionHintsContentWidget${InlineSuggestionHintsContentWidget.id++}`;\n        this.allowEditorOverflow = true;\n        this.suppressMouseDown = false;\n        this.nodes = h('div.inlineSuggestionsHints', { className: this.withBorder ? '.withBorder' : '' }, [\n            h('div', { style: { display: 'flex' } }, [\n                h('div@actionBar', { className: 'custom-actions' }),\n                h('div@toolBar'),\n            ])\n        ]);\n        this.previousAction = this.createCommandAction(showPreviousInlineSuggestionActionId, localize('previous', 'Previous'), ThemeIcon.asClassName(inlineSuggestionHintsPreviousIcon));\n        this.availableSuggestionCountAction = new Action('inlineSuggestionHints.availableSuggestionCount', '', undefined, false);\n        this.nextAction = this.createCommandAction(showNextInlineSuggestionActionId, localize('next', 'Next'), ThemeIcon.asClassName(inlineSuggestionHintsNextIcon));\n        // TODO@hediet: deprecate MenuId.InlineCompletionsActions\n        this.inlineCompletionsActionsMenus = this._register(this._menuService.createMenu(MenuId.InlineCompletionsActions, this._contextKeyService));\n        this.clearAvailableSuggestionCountLabelDebounced = this._register(new RunOnceScheduler(() => {\n            this.availableSuggestionCountAction.label = '';\n        }, 100));\n        this.disableButtonsDebounced = this._register(new RunOnceScheduler(() => {\n            this.previousAction.enabled = this.nextAction.enabled = false;\n        }, 100));\n        this.lastCommands = [];\n        const actionBar = this._register(new ActionBar(this.nodes.actionBar));\n        actionBar.push(this.previousAction, { icon: true, label: false });\n        actionBar.push(this.availableSuggestionCountAction);\n        actionBar.push(this.nextAction, { icon: true, label: false });\n        this.toolBar = this._register(instantiationService.createInstance(CustomizedMenuWorkbenchToolBar, this.nodes.toolBar, MenuId.InlineSuggestionToolbar, {\n            menuOptions: { renderShortTitle: true },\n            toolbarOptions: { primaryGroup: g => g.startsWith('primary') },\n            actionViewItemProvider: (action, options) => {\n                return action instanceof MenuItemAction ? instantiationService.createInstance(StatusBarViewItem, action, undefined) : undefined;\n            },\n            telemetrySource: 'InlineSuggestionToolbar',\n        }));\n        this._register(this.toolBar.onDidChangeDropdownVisibility(e => {\n            InlineSuggestionHintsContentWidget._dropDownVisible = e;\n        }));\n        this._register(autorun('update position', (reader) => {\n            this._position.read(reader);\n            this.editor.layoutContentWidget(this);\n        }));\n        this._register(autorun('counts', (reader) => {\n            const suggestionCount = this._suggestionCount.read(reader);\n            const currentSuggestionIdx = this._currentSuggestionIdx.read(reader);\n            if (suggestionCount !== undefined) {\n                this.clearAvailableSuggestionCountLabelDebounced.cancel();\n                this.availableSuggestionCountAction.label = `${currentSuggestionIdx + 1}/${suggestionCount}`;\n            }\n            else {\n                this.clearAvailableSuggestionCountLabelDebounced.schedule();\n            }\n            if (suggestionCount !== undefined && suggestionCount > 1) {\n                this.disableButtonsDebounced.cancel();\n                this.previousAction.enabled = this.nextAction.enabled = true;\n            }\n            else {\n                this.disableButtonsDebounced.schedule();\n            }\n        }));\n        this._register(autorun('extra commands', (reader) => {\n            const extraCommands = this._extraCommands.read(reader);\n            if (equals(this.lastCommands, extraCommands)) {\n                // nothing to update\n                return;\n            }\n            this.lastCommands = extraCommands;\n            const extraActions = extraCommands.map(c => ({\n                class: undefined,\n                id: c.id,\n                enabled: true,\n                tooltip: c.tooltip || '',\n                label: c.title,\n                run: (event) => {\n                    return this._commandService.executeCommand(c.id);\n                },\n            }));\n            for (const [_, group] of this.inlineCompletionsActionsMenus.getActions()) {\n                for (const action of group) {\n                    if (action instanceof MenuItemAction) {\n                        extraActions.push(action);\n                    }\n                }\n            }\n            if (extraActions.length > 0) {\n                extraActions.unshift(new Separator());\n            }\n            this.toolBar.setAdditionalSecondaryActions(extraActions);\n        }));\n    }\n    getId() { return this.id; }\n    getDomNode() {\n        return this.nodes.root;\n    }\n    getPosition() {\n        return {\n            position: this._position.get(),\n            preference: [1 /* ContentWidgetPositionPreference.ABOVE */, 2 /* ContentWidgetPositionPreference.BELOW */],\n            positionAffinity: 3 /* PositionAffinity.LeftOfInjectedText */,\n        };\n    }\n};\nInlineSuggestionHintsContentWidget._dropDownVisible = false;\nInlineSuggestionHintsContentWidget.id = 0;\nInlineSuggestionHintsContentWidget = __decorate([\n    __param(6, ICommandService),\n    __param(7, IInstantiationService),\n    __param(8, IKeybindingService),\n    __param(9, IContextKeyService),\n    __param(10, IMenuService)\n], InlineSuggestionHintsContentWidget);\nexport { InlineSuggestionHintsContentWidget };\nclass StatusBarViewItem extends MenuEntryActionViewItem {\n    updateLabel() {\n        const kb = this._keybindingService.lookupKeybinding(this._action.id, this._contextKeyService);\n        if (!kb) {\n            return super.updateLabel();\n        }\n        if (this.label) {\n            const div = h('div.keybinding').root;\n            const k = new KeybindingLabel(div, OS, Object.assign({ disableTitle: true }, unthemedKeybindingLabelOptions));\n            k.set(kb);\n            this.label.textContent = this._action.label;\n            this.label.appendChild(div);\n            this.label.classList.add('inlineSuggestionStatusBarItemLabel');\n        }\n    }\n}\nlet CustomizedMenuWorkbenchToolBar = class CustomizedMenuWorkbenchToolBar extends WorkbenchToolBar {\n    constructor(container, menuId, options2, menuService, contextKeyService, contextMenuService, keybindingService, telemetryService) {\n        super(container, Object.assign({ resetMenu: menuId }, options2), menuService, contextKeyService, contextMenuService, keybindingService, telemetryService);\n        this.menuId = menuId;\n        this.options2 = options2;\n        this.menuService = menuService;\n        this.contextKeyService = contextKeyService;\n        this.menu = this._store.add(this.menuService.createMenu(this.menuId, this.contextKeyService, { emitEventsForSubmenuChanges: true }));\n        this.additionalActions = [];\n        this._store.add(this.menu.onDidChange(() => this.updateToolbar()));\n        this.updateToolbar();\n    }\n    updateToolbar() {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const primary = [];\n        const secondary = [];\n        createAndFillInActionBarActions(this.menu, (_a = this.options2) === null || _a === void 0 ? void 0 : _a.menuOptions, { primary, secondary }, (_c = (_b = this.options2) === null || _b === void 0 ? void 0 : _b.toolbarOptions) === null || _c === void 0 ? void 0 : _c.primaryGroup, (_e = (_d = this.options2) === null || _d === void 0 ? void 0 : _d.toolbarOptions) === null || _e === void 0 ? void 0 : _e.shouldInlineSubmenu, (_g = (_f = this.options2) === null || _f === void 0 ? void 0 : _f.toolbarOptions) === null || _g === void 0 ? void 0 : _g.useSeparatorsInPrimaryActions);\n        secondary.push(...this.additionalActions);\n        this.setActions(primary, secondary);\n    }\n    setAdditionalSecondaryActions(actions) {\n        if (equals(this.additionalActions, actions, (a, b) => a === b)) {\n            // don't update if the actions are the same\n            return;\n        }\n        this.additionalActions = actions;\n        this.updateToolbar();\n    }\n};\nCustomizedMenuWorkbenchToolBar = __decorate([\n    __param(3, IMenuService),\n    __param(4, IContextKeyService),\n    __param(5, IContextMenuService),\n    __param(6, IKeybindingService),\n    __param(7, ITelemetryService)\n], CustomizedMenuWorkbenchToolBar);\nexport { CustomizedMenuWorkbenchToolBar };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport const inlineSuggestCommitId = 'editor.action.inlineSuggest.commit';\nexport const showPreviousInlineSuggestionActionId = 'editor.action.inlineSuggest.showPrevious';\nexport const showNextInlineSuggestionActionId = 'editor.action.inlineSuggest.showNext';\n","\n      import API from \"!../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../css-loader/dist/cjs.js!./hover.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../css-loader/dist/cjs.js!./hover.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { GotoDefinitionAtPositionEditorContribution } from '../../gotoSymbol/browser/link/goToDefinitionAtPosition.js';\nimport { ContentHoverWidget, ContentHoverController } from './contentHover.js';\nimport { MarginHoverWidget } from './marginHover.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { editorHoverBorder } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { HoverParticipantRegistry } from './hoverTypes.js';\nimport { MarkdownHoverParticipant } from './markdownHoverParticipant.js';\nimport { MarkerHoverParticipant } from './markerHoverParticipant.js';\nimport { InlineSuggestionHintsContentWidget } from '../../inlineCompletions/browser/inlineCompletionsHintsWidget.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport * as nls from '../../../../nls.js';\nimport './hover.css';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { status } from '../../../../base/browser/ui/aria/aria.js';\n// sticky hover widget which doesn't disappear on focus out and such\nconst _sticky = false;\nlet ModesHoverController = class ModesHoverController {\n    getWidgetContent() { var _a; return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.getWidgetContent(); }\n    static get(editor) {\n        return editor.getContribution(ModesHoverController.ID);\n    }\n    constructor(_editor, _instantiationService, _openerService, _languageService, _keybindingService) {\n        this._editor = _editor;\n        this._instantiationService = _instantiationService;\n        this._openerService = _openerService;\n        this._languageService = _languageService;\n        this._keybindingService = _keybindingService;\n        this._toUnhook = new DisposableStore();\n        this._hoverActivatedByColorDecoratorClick = false;\n        this._isMouseDown = false;\n        this._hoverClicked = false;\n        this._contentWidget = null;\n        this._glyphWidget = null;\n        this._hookEvents();\n        this._didChangeConfigurationHandler = this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(59 /* EditorOption.hover */)) {\n                this._unhookEvents();\n                this._hookEvents();\n            }\n        });\n    }\n    _hookEvents() {\n        const hideWidgetsEventHandler = () => this._hideWidgets();\n        const hoverOpts = this._editor.getOption(59 /* EditorOption.hover */);\n        this._isHoverEnabled = hoverOpts.enabled;\n        this._isHoverSticky = hoverOpts.sticky;\n        if (this._isHoverEnabled) {\n            this._toUnhook.add(this._editor.onMouseDown((e) => this._onEditorMouseDown(e)));\n            this._toUnhook.add(this._editor.onMouseUp((e) => this._onEditorMouseUp(e)));\n            this._toUnhook.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\n            this._toUnhook.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\n        }\n        else {\n            this._toUnhook.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\n            this._toUnhook.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\n        }\n        this._toUnhook.add(this._editor.onMouseLeave((e) => this._onEditorMouseLeave(e)));\n        this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler));\n        this._toUnhook.add(this._editor.onDidScrollChange((e) => this._onEditorScrollChanged(e)));\n    }\n    _unhookEvents() {\n        this._toUnhook.clear();\n    }\n    _onEditorScrollChanged(e) {\n        if (e.scrollTopChanged || e.scrollLeftChanged) {\n            this._hideWidgets();\n        }\n    }\n    _onEditorMouseDown(mouseEvent) {\n        var _a;\n        this._isMouseDown = true;\n        const target = mouseEvent.target;\n        if (target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID) {\n            this._hoverClicked = true;\n            // mouse down on top of content hover widget\n            return;\n        }\n        if (target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID) {\n            // mouse down on top of overlay hover widget\n            return;\n        }\n        if (target.type !== 12 /* MouseTargetType.OVERLAY_WIDGET */) {\n            this._hoverClicked = false;\n        }\n        if (!((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing)) {\n            this._hideWidgets();\n        }\n    }\n    _onEditorMouseUp(mouseEvent) {\n        this._isMouseDown = false;\n    }\n    _onEditorMouseLeave(mouseEvent) {\n        var _a, _b;\n        const targetEm = (mouseEvent.event.browserEvent.relatedTarget);\n        if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.containsNode(targetEm))) {\n            // When the content widget is resizing\n            // when the mouse is inside hover widget\n            return;\n        }\n        if (!_sticky) {\n            this._hideWidgets();\n        }\n    }\n    _onEditorMouseMove(mouseEvent) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n        const target = mouseEvent.target;\n        if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isFocused) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.isResizing)) {\n            return;\n        }\n        if (this._isMouseDown && this._hoverClicked) {\n            return;\n        }\n        if (this._isHoverSticky && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID) {\n            // mouse moved on top of content hover widget\n            return;\n        }\n        if (this._isHoverSticky && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.containsNode((_d = mouseEvent.event.browserEvent.view) === null || _d === void 0 ? void 0 : _d.document.activeElement)) && !((_f = (_e = mouseEvent.event.browserEvent.view) === null || _e === void 0 ? void 0 : _e.getSelection()) === null || _f === void 0 ? void 0 : _f.isCollapsed)) {\n            // selected text within content hover widget\n            return;\n        }\n        if (!this._isHoverSticky && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID\n            && ((_g = this._contentWidget) === null || _g === void 0 ? void 0 : _g.isColorPickerVisible)) {\n            // though the hover is not sticky, the color picker needs to.\n            return;\n        }\n        if (this._isHoverSticky && target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID) {\n            // mouse moved on top of overlay hover widget\n            return;\n        }\n        if (this._isHoverSticky && ((_h = this._contentWidget) === null || _h === void 0 ? void 0 : _h.isVisibleFromKeyboard)) {\n            // Sticky mode is on and the hover has been shown via keyboard\n            // so moving the mouse has no effect\n            return;\n        }\n        const mouseOnDecorator = (_j = target.element) === null || _j === void 0 ? void 0 : _j.classList.contains('colorpicker-color-decoration');\n        const decoratorActivatedOn = this._editor.getOption(145 /* EditorOption.colorDecoratorsActivatedOn */);\n        if ((mouseOnDecorator && ((decoratorActivatedOn === 'click' && !this._hoverActivatedByColorDecoratorClick) ||\n            (decoratorActivatedOn === 'hover' && !this._isHoverEnabled && !_sticky) ||\n            (decoratorActivatedOn === 'clickAndHover' && !this._isHoverEnabled && !this._hoverActivatedByColorDecoratorClick)))\n            || !mouseOnDecorator && !this._isHoverEnabled && !this._hoverActivatedByColorDecoratorClick) {\n            this._hideWidgets();\n            return;\n        }\n        const contentWidget = this._getOrCreateContentWidget();\n        if (contentWidget.maybeShowAt(mouseEvent)) {\n            (_k = this._glyphWidget) === null || _k === void 0 ? void 0 : _k.hide();\n            return;\n        }\n        if (target.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ && target.position) {\n            (_l = this._contentWidget) === null || _l === void 0 ? void 0 : _l.hide();\n            if (!this._glyphWidget) {\n                this._glyphWidget = new MarginHoverWidget(this._editor, this._languageService, this._openerService);\n            }\n            this._glyphWidget.startShowingAt(target.position.lineNumber);\n            return;\n        }\n        if (_sticky) {\n            return;\n        }\n        this._hideWidgets();\n    }\n    _onKeyDown(e) {\n        var _a;\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const resolvedKeyboardEvent = this._keybindingService.softDispatch(e, this._editor.getDomNode());\n        // If the beginning of a multi-chord keybinding is pressed, or the command aims to focus the hover, set the variable to true, otherwise false\n        const mightTriggerFocus = (resolvedKeyboardEvent.kind === 1 /* ResultKind.MoreChordsNeeded */ || (resolvedKeyboardEvent.kind === 2 /* ResultKind.KbFound */ && resolvedKeyboardEvent.commandId === 'editor.action.showHover' && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible)));\n        if (e.keyCode !== 5 /* KeyCode.Ctrl */ && e.keyCode !== 6 /* KeyCode.Alt */ && e.keyCode !== 57 /* KeyCode.Meta */ && e.keyCode !== 4 /* KeyCode.Shift */\n            && !mightTriggerFocus) {\n            // Do not hide hover when a modifier key is pressed\n            this._hideWidgets();\n        }\n    }\n    _hideWidgets() {\n        var _a, _b, _c;\n        if (_sticky) {\n            return;\n        }\n        if ((this._isMouseDown && this._hoverClicked && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible)) || InlineSuggestionHintsContentWidget.dropDownVisible) {\n            return;\n        }\n        this._hoverActivatedByColorDecoratorClick = false;\n        this._hoverClicked = false;\n        (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n        (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n    }\n    _getOrCreateContentWidget() {\n        if (!this._contentWidget) {\n            this._contentWidget = this._instantiationService.createInstance(ContentHoverController, this._editor);\n        }\n        return this._contentWidget;\n    }\n    showContentHover(range, mode, source, focus, activatedByColorDecoratorClick = false) {\n        this._hoverActivatedByColorDecoratorClick = activatedByColorDecoratorClick;\n        this._getOrCreateContentWidget().startShowingAtRange(range, mode, source, focus);\n    }\n    focus() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    scrollUp() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollUp();\n    }\n    scrollDown() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollDown();\n    }\n    scrollLeft() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollLeft();\n    }\n    scrollRight() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollRight();\n    }\n    pageUp() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageUp();\n    }\n    pageDown() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageDown();\n    }\n    goToTop() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToTop();\n    }\n    goToBottom() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToBottom();\n    }\n    get isColorPickerVisible() {\n        var _a;\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible;\n    }\n    get isHoverVisible() {\n        var _a;\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible;\n    }\n    dispose() {\n        var _a, _b;\n        this._unhookEvents();\n        this._toUnhook.dispose();\n        this._didChangeConfigurationHandler.dispose();\n        (_a = this._glyphWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.dispose();\n    }\n};\nModesHoverController.ID = 'editor.contrib.hover';\nModesHoverController = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IOpenerService),\n    __param(3, ILanguageService),\n    __param(4, IKeybindingService)\n], ModesHoverController);\nexport { ModesHoverController };\nclass ShowOrFocusHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.showHover',\n            label: nls.localize({\n                key: 'showOrFocusHover',\n                comment: [\n                    'Label for action that will trigger the showing/focusing of a hover in the editor.',\n                    'If the hover is not visible, it will show the hover.',\n                    'This allows for users to show the hover without using the mouse.',\n                    'If the hover is already visible, it will take focus.'\n                ]\n            }, \"Show or Focus Hover\"),\n            description: {\n                description: `Show or Focus Hover`,\n                args: [{\n                        name: 'args',\n                        schema: {\n                            type: 'object',\n                            properties: {\n                                'focus': {\n                                    description: 'Controls if when triggered with the keyboard, the hover should take focus immediately.',\n                                    type: 'boolean',\n                                    default: false\n                                }\n                            },\n                        }\n                    }]\n            },\n            alias: 'Show or Focus Hover',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 39 /* KeyCode.KeyI */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        var _a;\n        const configurationService = accessor.get(IConfigurationService);\n        const accessibilityService = accessor.get(IAccessibilityService);\n        const keybindingService = accessor.get(IKeybindingService);\n        if (!editor.hasModel()) {\n            return;\n        }\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        const position = editor.getPosition();\n        const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n        const focus = editor.getOption(2 /* EditorOption.accessibilitySupport */) === 2 /* AccessibilitySupport.Enabled */ || !!(args === null || args === void 0 ? void 0 : args.focus);\n        if (controller.isHoverVisible) {\n            controller.focus();\n        }\n        else {\n            controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, focus);\n        }\n        if (configurationService.getValue('accessibility.verbosity.hover') && accessibilityService.isScreenReaderOptimized()) {\n            const keybinding = (_a = keybindingService.lookupKeybinding('editor.action.accessibleView')) === null || _a === void 0 ? void 0 : _a.getAriaLabel();\n            const hint = keybinding ? nls.localize('chatAccessibleViewHint', \"Inspect this in the accessible view with {0}\", keybinding) : nls.localize('chatAccessibleViewHintNoKb', \"Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding\");\n            status(hint);\n        }\n    }\n}\nclass ShowDefinitionPreviewHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.showDefinitionPreviewHover',\n            label: nls.localize({\n                key: 'showDefinitionPreviewHover',\n                comment: [\n                    'Label for action that will trigger the showing of definition preview hover in the editor.',\n                    'This allows for users to show the definition preview hover without using the mouse.'\n                ]\n            }, \"Show Definition Preview Hover\"),\n            alias: 'Show Definition Preview Hover',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        const position = editor.getPosition();\n        if (!position) {\n            return;\n        }\n        const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n        const goto = GotoDefinitionAtPositionEditorContribution.get(editor);\n        if (!goto) {\n            return;\n        }\n        const promise = goto.startFindDefinitionFromCursor(position);\n        promise.then(() => {\n            controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, true);\n        });\n    }\n}\nclass ScrollUpHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollUpHover',\n            label: nls.localize({\n                key: 'scrollUpHover',\n                comment: [\n                    'Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Up Hover\"),\n            alias: 'Scroll Up Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 16 /* KeyCode.UpArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollUp();\n    }\n}\nclass ScrollDownHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollDownHover',\n            label: nls.localize({\n                key: 'scrollDownHover',\n                comment: [\n                    'Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Down Hover\"),\n            alias: 'Scroll Down Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 18 /* KeyCode.DownArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollDown();\n    }\n}\nclass ScrollLeftHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollLeftHover',\n            label: nls.localize({\n                key: 'scrollLeftHover',\n                comment: [\n                    'Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Left Hover\"),\n            alias: 'Scroll Left Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 15 /* KeyCode.LeftArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollLeft();\n    }\n}\nclass ScrollRightHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollRightHover',\n            label: nls.localize({\n                key: 'scrollRightHover',\n                comment: [\n                    'Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Right Hover\"),\n            alias: 'Scroll Right Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 17 /* KeyCode.RightArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollRight();\n    }\n}\nclass PageUpHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.pageUpHover',\n            label: nls.localize({\n                key: 'pageUpHover',\n                comment: [\n                    'Action that allows to page up in the hover widget with the page up command when the hover widget is focused.'\n                ]\n            }, \"Page Up Hover\"),\n            alias: 'Page Up Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 11 /* KeyCode.PageUp */,\n                secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.pageUp();\n    }\n}\nclass PageDownHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.pageDownHover',\n            label: nls.localize({\n                key: 'pageDownHover',\n                comment: [\n                    'Action that allows to page down in the hover widget with the page down command when the hover widget is focused.'\n                ]\n            }, \"Page Down Hover\"),\n            alias: 'Page Down Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 12 /* KeyCode.PageDown */,\n                secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.pageDown();\n    }\n}\nclass GoToTopHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.goToTopHover',\n            label: nls.localize({\n                key: 'goToTopHover',\n                comment: [\n                    'Action that allows to go to the top of the hover widget with the home command when the hover widget is focused.'\n                ]\n            }, \"Go To Top Hover\"),\n            alias: 'Go To Bottom Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 14 /* KeyCode.Home */,\n                secondary: [2048 /* KeyMod.CtrlCmd */ | 16 /* KeyCode.UpArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.goToTop();\n    }\n}\nclass GoToBottomHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.goToBottomHover',\n            label: nls.localize({\n                key: 'goToBottomHover',\n                comment: [\n                    'Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused.'\n                ]\n            }, \"Go To Bottom Hover\"),\n            alias: 'Go To Bottom Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 13 /* KeyCode.End */,\n                secondary: [2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.goToBottom();\n    }\n}\nregisterEditorContribution(ModesHoverController.ID, ModesHoverController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(ShowOrFocusHoverAction);\nregisterEditorAction(ShowDefinitionPreviewHoverAction);\nregisterEditorAction(ScrollUpHoverAction);\nregisterEditorAction(ScrollDownHoverAction);\nregisterEditorAction(ScrollLeftHoverAction);\nregisterEditorAction(ScrollRightHoverAction);\nregisterEditorAction(PageUpHoverAction);\nregisterEditorAction(PageDownHoverAction);\nregisterEditorAction(GoToTopHoverAction);\nregisterEditorAction(GoToBottomHoverAction);\nHoverParticipantRegistry.register(MarkdownHoverParticipant);\nHoverParticipantRegistry.register(MarkerHoverParticipant);\n// theming\nregisterThemingParticipant((theme, collector) => {\n    const hoverBorder = theme.getColor(editorHoverBorder);\n    if (hoverBorder) {\n        collector.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n        collector.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n        collector.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${hoverBorder.transparent(0.5)}; }`);\n    }\n});\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","$","dom","HoverWidget","constructor","super","this","containerDomNode","document","createElement","className","tabIndex","setAttribute","contentsDomNode","scrollbar","_register","consumeMouseWheelIfScrollbarIsNeeded","appendChild","getDomNode","onContentsChanged","scanDomNode","HoverAction","render","parent","actionOptions","keybindingLabel","actionContainer","action","iconClass","textContent","label","CLICK","e","stopPropagation","preventDefault","run","KEY_DOWN","event","equals","setEnabled","enabled","classList","remove","removeAttribute","add","hasModifier","modifier","ClickLinkMouseEvent","source","opts","target","isLeftClick","leftButton","isMiddleClick","middleButton","isRightClick","rightButton","hasTriggerModifier","triggerModifier","hasSideBySideModifier","triggerSideBySideModifier","isNoneOrSingleMouseDown","detail","ClickLinkKeyboardEvent","keyCodeIsTriggerKey","keyCode","triggerKey","keyCodeIsSideBySideKey","triggerSideBySideKey","ClickLinkOptions","other","createOptions","multiCursorModifier","platform","ClickLinkGesture","editor","alwaysFireOnMouseUp","_onMouseMoveOrRelevantKeyDown","onMouseMoveOrRelevantKeyDown","_onExecute","onExecute","_onCancel","onCancel","_editor","_alwaysFireExecuteOnMouseUp","_opts","getOption","_lastMouseMoveEvent","_hasTriggerKeyOnMouseDown","_lineNumberOnMouseDown","onDidChangeConfiguration","hasChanged","newOpts","fire","onMouseMove","_onEditorMouseMove","onMouseDown","_onEditorMouseDown","onMouseUp","_onEditorMouseUp","onKeyDown","_onEditorKeyDown","onKeyUp","_onEditorKeyUp","onMouseDrag","_resetHandler","onDidChangeCursorSelection","_onDidChangeCursorSelection","onDidChangeModel","onDidChangeModelContent","onDidScrollChange","scrollTopChanged","scrollLeftChanged","selection","startColumn","endColumn","mouseEvent","position","lineNumber","currentLineNumber","__decorate","decorators","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","ctxHasSymbols","ISymbolNavigationService","SymbolNavigationService","contextKeyService","_editorService","_notificationService","_keybindingService","_currentModel","undefined","_currentIdx","_ignoreEditorChange","_ctxHasSymbols","bindTo","reset","_a","_b","_currentState","dispose","_currentMessage","put","anchor","refModel","references","indexOf","set","_showMessage","editorState","EditorState","listener","onDidChange","_","getActiveCodeEditor","model","getModel","getPosition","seenUri","seenPosition","reference","uri","containsPosition","range","revealNext","Promise","resolve","openCodeEditor","resource","collapseToStart","selectionRevealType","finally","kb","lookupKeybinding","message","getLabel","status","precondition","kbOpts","weight","primary","runEditorCommand","accessor","get","registerCommandAndKeybindingRule","when","handler","editorService","_listener","Map","_disposables","_onDidChange","onCodeEditorRemove","_onDidRemoveEditor","onCodeEditorAdd","_onDidAddEditor","listCodeEditors","forEach","values","onDidChangeCursorPosition","delete","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","value","step","next","rejected","result","done","then","apply","getLocationLinks","registry","provide","promises","ordered","map","provider","err","all","flat","getDefinitionsAtPosition","token","provideDefinition","getDeclarationsAtPosition","provideDeclaration","getImplementationsAtPosition","provideImplementation","getTypeDefinitionsAtPosition","provideTypeDefinition","getReferencesAtPosition","compact","provideReferences","includeDeclaration","resultWithoutDeclaration","_sortedAndDeduped","callback","rawLinks","modelLinks","ref","link","promise","definitionProvider","None","typeDefinitionProvider","declarationProvider","referenceProvider","implementationProvider","_c","_d","_e","_f","_g","_h","appendMenuItem","EditorContext","submenu","EditorContextPeek","title","nls","group","order","SymbolNavigationAnchor","is","thing","isIPosition","SymbolNavigationAction","_allSymbolNavigationCommands","_patchConfig","assign","f1","menu","item","wrap","and","configuration","arg","hasModel","notificationService","progressService","symbolNavService","languageFeaturesService","instaService","cts","_getLocationModel","_j","isCancellationRequested","altAction","ariaMessage","referenceAt","altActionId","_getAlternativeCommand","_activeAlternativeCommands","has","referenceCount","muteMessage","info","getWordAtPosition","showMessage","_getNoResultFoundMessage","_onResult","invokeFunction","error","showWhile","gotoLocation","_getGoToPreference","openInPeek","firstReference","peek","targetEditor","_openReference","openToSide","_openInPeek","sideBySide","highlight","targetSelectionRange","selectionSource","modelNow","decorations","createDecorationsCollection","description","setTimeout","clear","controller","toggleWidget","getSelection","Set","DefinitionAction","word","alternativeDefinitionCommand","multipleDefinitions","GoToDefinitionAction","original","mnemonicTitle","comment","hasDefinitionProvider","isInWalkThroughSnippet","toNegated","keybinding","editorTextFocus","MenubarGoMenu","registerCommandAlias","OpenDefinitionToSideAction","PeekDefinitionAction","notInPeekEditor","linux","DeclarationAction","alternativeDeclarationCommand","multipleDeclarations","GoToDeclarationAction","hasDeclarationProvider","TypeDefinitionAction","alternativeTypeDefinitionCommand","multipleTypeDefinitions","GoToTypeDefinitionAction","ID","hasTypeDefinitionProvider","PeekTypeDefinitionAction","ImplementationAction","alternativeImplementationCommand","multipleImplementations","GoToImplementationAction","hasImplementationProvider","PeekImplementationAction","ReferencesAction","alternativeReferenceCommand","multipleReferences","hasReferenceProvider","GenericGoToLocationAction","config","_references","_gotoMultipleBehaviour","_model","_position","_token","registerCommand","args","name","constraint","Array","multiple","noResultsMessage","isUri","isArray","getFocusedCodeEditor","setPosition","revealPositionInCenterIfOutsideViewport","invokeWithinContext","command","Boolean","bind","executeCommand","codeEditorService","control","lift","column","GotoDefinitionAtPositionEditorContribution","textModelResolverService","languageService","toUnhook","toUnhookForKeyboard","currentWordAtPosition","previousPromise","linkDecorations","linkGesture","keyboardEvent","startFindDefinitionFromMouse","isEnabled","gotoDefinition","catch","removeLinkDecorations","getContribution","startFindDefinitionFromCursor","startFindDefinition","withKey","type","state","results","cancel","findDefinition","validate","linkRange","originSelectionRange","combinedRange","plusRange","addDecoration","appendText","createModelReference","object","textEditorModel","startLineNumber","getLineCount","previewValue","getPreviewValue","languageId","guessLanguageIdByFilepathOrFirstLine","appendCodeblock","rangeToUse","endLineNumber","MAX_SOURCE_PREVIEW_LINES","getPreviewRangeBasedOnIndentation","stripIndentationFromPreviewRange","previewRange","minIndent","getLineFirstNonWhitespaceColumn","endIndent","Math","min","getValueInRange","replace","RegExp","trim","startIndent","maxLineNumber","hoverMessage","newDecorations","inlineClassName","injectedText","canPeek","isInPeekEditor","inPeekEditor","getValue","HoverResult","isComplete","hasLoadingMessage","HoverOperation","_computer","onResult","_firstWaitScheduler","_triggerAsyncComputation","_secondWaitScheduler","_triggerSyncComputation","_loadingMessageScheduler","_triggerLoadingMessage","_state","_asyncIterable","_asyncIterableDone","_result","_hoverTime","delay","_firstWaitTime","_secondWaitTime","_loadingMessageTime","_setState","fireResult","_fireResult","schedule","computeAsync","e_1","o","Symbol","asyncIterator","TypeError","m","call","__values","iterator","verb","n","v","settle","__asyncValues","e_1_1","return","computeSync","concat","slice","start","mode","HoverRangeAnchor","priority","initialMousePosX","initialMousePosY","equalsRange","canAdoptVisibleHover","lastAnchor","showAtPosition","HoverParticipantRegistry","_participants","register","ctor","getAll","ResizableContentWidget","minimumSize","allowEditorOverflow","suppressMouseDown","_resizableNode","_contentPosition","_isResizing","domNode","style","minSize","layout","height","width","enableSashes","onDidResize","_resize","dimension","onDidWillResize","isResizing","_availableVerticalSpaceAbove","editorDomNode","mouseBox","getScrolledVisiblePosition","top","_availableVerticalSpaceBelow","editorBox","bodyBox","body","mouseBottom","_findPositionPreference","widgetHeight","maxHeightBelow","Infinity","maxHeightAbove","maxHeight","max","renderingAbove","above","ContentHoverController","getWidgetContent","node","_widget","_instantiationService","_currentResult","minimumHeight","minimumWidth","createInstance","ContentHoverWidget","participant","sort","p1","p2","hoverOrdinal","ContentHoverComputer","_hoverOperation","messages","_addLoadingMessage","_withResult","hide","_setCurrentResult","widget","maybeShowAt","anchorCandidates","suggestHoverAnchor","posx","posy","epsilon","typicalHalfwidthCharacterWidth","isAfterLines","horizontalDistanceToText","_startShowingOrUpdateHover","a","b","startShowingAtRange","focus","sticky","isMouseGettingCloser","_startHoverOperationIfNecessary","filter","insistOnKeepingHoverVisible","shouldFocus","hoverResult","_renderMessages","isColorPickerVisible","isVisibleFromKeyboard","isVisible","isFocused","containsNode","contains","createLoadingMessage","loadingMessage","showAtSecondaryPosition","highlightRange","computeHoverRanges","disposables","statusBar","EditorHoverStatusBar","fragment","createDocumentFragment","colorPicker","context","setColorPicker","setMinimumDimensions","dimensions","hoverParts","msg","owner","renderHoverParts","isBeforeContent","some","hasContent","hoverElement","hasChildNodes","highlightDecoration","_DECORATION_OPTIONS","showAt","ContentHoverVisibleData","anchorRange","startColumnBoundary","viewModel","_getViewModel","coordinatesConverter","anchorViewRange","convertModelRangeToViewRange","anchorViewRangeStart","getLineMinColumn","convertViewPositionToModelPosition","anchorLineNumber","renderStartColumn","forceShowAtRange","getStartPosition","scrollUp","scrollDown","scrollLeft","scrollRight","pageUp","pageDown","goToTop","goToBottom","filteredMessages","isValidForHoverAnchor","FilteredHoverResult","preferAbove","stoleFocus","closestMouseDistance","_visibleData","_hoverVisibleKey","_hoverFocusedKey","_hover","hoverVisible","hoverFocused","zIndex","onDidLayoutChange","_layout","_updateFont","focusTracker","onDidFocus","onDidBlur","_setHoverData","addContentWidget","removeContentWidget","getId","_applyDimensions","container","transformedWidth","transformedHeight","_setContentsDomNodeDimensions","_setContainerDomNodeDimensions","_setHoverWidgetDimensions","_layoutContentWidget","_applyMaxDimensions","maxWidth","_setHoverWidgetMaxDimensions","setProperty","_hasHorizontalScrollbar","scrollDimensions","getScrollDimensions","scrollWidth","_adjustContentsBottomPadding","extraBottomPadding","horizontalScrollbarSize","paddingBottom","_setAdjustedHoverWidgetDimensions","size","_setResizableNodeMaxDimensions","maxRenderingWidth","_findMaximumRenderingWidth","maxRenderingHeight","_findMaximumRenderingHeight","maxSize","_lastDimensions","layoutContentWidget","_findAvailableSpaceVertically","_positionPreference","availableSpace","maximumHeight","from","children","hoverPart","clientHeight","widgetRect","computeDistanceFromPointToRectangle","left","distance","hoverData","toggle","fontSize","lineHeight","_updateMaxDimensions","prototype","getElementsByClassName","applyFontInfo","_updateContent","getLayoutInfo","_render","secondaryPosition","positionAffinity","preference","widgetPosition","clearSashHoverState","_removeConstraintsRenderNormally","layoutInfo","_adjustHoverHeightForScrollbar","scrollTop","getScrollPosition","fontInfo","setScrollPosition","scrollHeight","_hasContent","actionsElement","addAction","commandId","append","element","_anchor","_shouldFocus","_source","_insistOnKeepingHoverVisible","_getLineDecorations","supportsMarkerHover","maxColumn","getLineMaxColumn","getLineDecorations","isWholeLine","showIfCollapsed","EMPTY","lineDecorations","merge","pointX","pointY","x","y","dx","abs","dy","sqrt","MarginHoverWidget","openerService","_renderDisposeables","_isVisible","_messages","_markdownRenderer","MarginHoverComputer","onDidChangeModelDecorations","_onModelDecorationsChanged","addOverlayWidget","removeOverlayWidget","startShowingAt","markdownHoverElement","hoverContentsElement","renderedContents","_updateContents","_showAt","editorLayout","topForLineNumber","getTopForLineNumber","editorScrollTop","getScrollTop","glyphMarginLeft","glyphMarginWidth","round","_lineNumber","toHoverMessage","contents","glyphMarginClassName","glyphMarginHoverMessage","HoverProviderResult","hover","ordinal","getHover","index","provideHover","hasRange","hasHtmlContent","isValid","executeProvider","fromPromises","coalesce","toPromise","getHoverPromise","hoverProvider","MarkdownHover","MarkdownHoverParticipant","_languageService","_openerService","_configurationService","_languageFeaturesService","lineLength","getLineLength","getLanguageIdAtPosition","stopRenderingLineAfter","maxTokenizationLineLength","overrideIdentifier","stopRenderingMessage","beforeContentClassName","rng","renderer","onDidRenderAsync","renderMarkdownHovers","MarkerCoordinate","marker","total","MarkerList","resourceFilter","_markerService","_configService","_dispoables","_markers","_nextIdx","_resourceFilter","toString","compareOrder","compareMarker","res","compareRangesUsingStarts","compare","severity","updateMarker","read","severities","Error","Warning","Info","onMarkerChanged","uris","matches","selected","_initIdx","fwd","found","idx","findIndex","isEmpty","isBeforeOrEqual","resetIndex","move","oldIdx","find","IMarkerNavigationService","MarkerNavigationService","_provider","registerProvider","unshift","getMarkerList","MessageWidget","onRelatedInformation","_labelService","_lines","_longestLineLength","_relatedDiagnostics","WeakMap","_messageBlock","_relatedBlock","related","_scrollable","horizontal","vertical","useShadows","verticalScrollbarSize","onScroll","update","relatedInformation","code","sourceAndCodeLength","lines","line","getAriaLabel","lastLineElement","innerText","detailsElement","sourceElement","codeElement","_codeLink","onclick","open","allowCommands","relatedInformationNode","paddingTop","floor","relatedResource","getUriBasenameLabel","getUriLabel","relatedMessage","ceil","typicalFullwidthCharacterWidth","setScrollDimensions","getHeightInLines","severityLabel","Hint","ariaLabel","getLineContent","MarkerNavigationWidget","_themeService","_menuService","instantiationService","_contextKeyService","showArrow","showFrame","isAccessible","frameWidth","_callOnDispose","_onDidSelectRelatedInformation","onDidSelectRelatedInformation","_severity","_backgroundColor","white","_applyTheme","getColorTheme","onDidColorThemeChange","create","theme","getColor","editorMarkerNavigationBackground","colorId","editorMarkerNavigationError","headerBackground","editorMarkerNavigationErrorHeader","editorMarkerNavigationWarning","editorMarkerNavigationWarningHeader","editorMarkerNavigationInfo","editorMarkerNavigationInfoHeader","frameColor","headerBg","arrowColor","headerBackgroundColor","primaryHeadingColor","peekView","secondaryHeadingColor","_applyStyles","_parentContainer","backgroundColor","_fillHead","_actionbarWidget","actionRunner","onWillRun","actions","createMenu","TitleMenu","icon","_fillTitleIcon","_icon","_fillBody","_container","_message","show","showAtMarker","markerIdx","markerCount","editorPosition","computeRequiredHeight","setTitle","toSeverity","revealPositionNearTop","showStale","_relayout","_doLayoutBody","heightInPixel","widthInPixel","_heightInPixel","_onWidth","errorDefault","warningDefault","infoDefault","dark","light","hcDark","hcLight","MarkerController","_markerNavigationService","_sessionDispoables","_widgetVisible","CONTEXT_MARKERS_NAVIGATION_VISIBLE","_cleanUp","_getOrCreateModel","reusePosition","onDidClose","close","pinned","revealIfOpened","focusEditor","nagivate","multiFile","otherEditor","MarkerNavigationAction","_next","_multiFile","_accessor","NextMarkerAction","LABEL","alias","kbExpr","menuOpts","menuId","arrowDown","PrevMarkerAction","arrowUp","MarkerCommand","bindToContribution","secondary","MarkerHover","markerCodeActionTrigger","include","QuickFix","triggerAction","QuickFixHover","MarkerHoverParticipant","_markerDecorationsService","recentMarkerCodeActionsInfo","getMarker","renderMarkerHover","markerHoverForStatusbar","renderMarkerStatusbar","markerHover","markerElement","messageElement","whiteSpace","sourceAndCodeElement","codeLink","opacity","paddingLeft","relatedInfoContainer","marginTop","cursor","fromUserGesture","editorOptions","quickfixPlaceholderElement","makeKey","hasCodeActions","updatePlaceholderDisposable","String","fromCharCode","codeActionsPromise","getCodeActions","validActions","display","showing","elementPosition","showCodeActions","cancellationToken","codeActionProvider","InlineCompletionsHintsWidget","alwaysShowToolbar","observable","showToolbar","sessionPosition","reader","ghostText","parts","firstColumn","Number","MAX_SAFE_INTEGER","autorun","store","contentWidget","InlineSuggestionHintsContentWidget","selectedInlineCompletionIndex","inlineCompletionsCount","selectedInlineCompletion","inlineCompletion","inlineCompletions","commands","lastTriggerKind","Explicit","triggerExplicitly","inlineSuggestionHintsNextIcon","chevronRight","inlineSuggestionHintsPreviousIcon","chevronLeft","dropDownVisible","_dropDownVisible","createCommandAction","iconClassName","_commandService","keybindingService","tooltip","withBorder","_currentSuggestionIdx","_suggestionCount","_extraCommands","nodes","h","previousAction","asClassName","availableSuggestionCountAction","nextAction","inlineCompletionsActionsMenus","InlineCompletionsActions","clearAvailableSuggestionCountLabelDebounced","disableButtonsDebounced","lastCommands","actionBar","toolBar","CustomizedMenuWorkbenchToolBar","InlineSuggestionToolbar","menuOptions","renderShortTitle","toolbarOptions","primaryGroup","g","startsWith","actionViewItemProvider","StatusBarViewItem","telemetrySource","onDidChangeDropdownVisibility","suggestionCount","currentSuggestionIdx","extraCommands","extraActions","class","getActions","setAdditionalSecondaryActions","root","updateLabel","_action","div","OS","disableTitle","options2","menuService","contextMenuService","telemetryService","resetMenu","_store","emitEventsForSubmenuChanges","additionalActions","updateToolbar","shouldInlineSubmenu","useSeparatorsInPrimaryActions","setActions","ModesHoverController","_contentWidget","_toUnhook","_hoverActivatedByColorDecoratorClick","_isMouseDown","_hoverClicked","_glyphWidget","_hookEvents","_didChangeConfigurationHandler","_unhookEvents","hoverOpts","_isHoverEnabled","_isHoverSticky","_onKeyDown","onMouseLeave","_onEditorMouseLeave","_hideWidgets","_onEditorScrollChanged","targetEm","browserEvent","_k","_l","view","activeElement","isCollapsed","mouseOnDecorator","decoratorActivatedOn","_getOrCreateContentWidget","resolvedKeyboardEvent","softDispatch","mightTriggerFocus","kind","showContentHover","activatedByColorDecoratorClick","isHoverVisible","ShowOrFocusHoverAction","schema","properties","default","configurationService","accessibilityService","isScreenReaderOptimized","hint","ShowDefinitionPreviewHoverAction","goto","ScrollUpHoverAction","ScrollDownHoverAction","ScrollLeftHoverAction","ScrollRightHoverAction","PageUpHoverAction","PageDownHoverAction","GoToTopHoverAction","GoToBottomHoverAction","collector","hoverBorder","addRule","transparent"],"sourceRoot":""}