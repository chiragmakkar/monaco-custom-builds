{"version":3,"file":"434.bundle.js","mappings":"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","sources":["webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget.css","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/media/severityIcon.css","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget.css?4434","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesTree.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesController.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/referencesModel.js","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/media/severityIcon.css?2284","webpack://monaco-custom-bundle/./node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/severityIcon.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;+FAG+F;;AAE/F,mBAAmB;AACnB;CACC,qBAAqB;CACrB,wBAAwB;AACzB;;AAEA;CACC,qBAAqB;CACrB,mBAAmB;AACpB;;AAEA;CACC,YAAY;CACZ,WAAW;CACX,kBAAkB;CAClB,cAAc;AACf;;AAEA;CACC,iBAAiB;CACjB,yDAAyD;CACzD,kDAAkD;AACnD;;AAEA;CACC,uBAAuB;CACvB,gBAAgB;AACjB;;AAEA;CACC,oBAAoB;CACpB,WAAW;CACX,YAAY;CACZ,kDAAkD;AACnD;;AAEA;CACC,yBAAyB;AAC1B;;AAEA;CACC,kEAAkE;CAClE,kEAAkE;AACnE;;AAEA;CACC,kBAAkB;CAClB,iBAAiB;AAClB;;AAEA;CACC,uEAAuE;AACxE;;AAEA;CACC,uEAAuE;CACvE,mEAAmE;CACnE,sBAAsB;AACvB;;AAEA;;CAEC,yDAAyD;AAC1D;;AAEA;CACC,+DAA+D;AAChE;;AAEA,0BAA0B;;AAE1B;;CAEC,iBAAiB;AAClB;;AAEA;;CAEC,kEAAkE;CAClE,sBAAsB;AACvB\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\n *--------------------------------------------------------------------------------------------*/\\n\\n/* -- zone widget */\\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\\n\\tborder-top-width: 1px;\\n\\tborder-bottom-width: 1px;\\n}\\n\\n.monaco-editor .reference-zone-widget .inline {\\n\\tdisplay: inline-block;\\n\\tvertical-align: top;\\n}\\n\\n.monaco-editor .reference-zone-widget .messages {\\n\\theight: 100%;\\n\\twidth: 100%;\\n\\ttext-align: center;\\n\\tpadding: 3em 0;\\n}\\n\\n.monaco-editor .reference-zone-widget .ref-tree {\\n\\tline-height: 23px;\\n\\tbackground-color: var(--vscode-peekViewResult-background);\\n\\tcolor: var(--vscode-peekViewResult-lineForeground);\\n}\\n\\n.monaco-editor .reference-zone-widget .ref-tree .reference {\\n\\ttext-overflow: ellipsis;\\n\\toverflow: hidden;\\n}\\n\\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\\n\\tdisplay: inline-flex;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tcolor: var(--vscode-peekViewResult-fileForeground);\\n}\\n\\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\\n\\tcolor: inherit !important;\\n}\\n\\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\\n\\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\\n\\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\\n}\\n\\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\\n\\tmargin-right: 12px;\\n\\tmargin-left: auto;\\n}\\n\\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\\n\\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\\n}\\n\\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\\n\\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\\n\\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\\n\\tbox-sizing: border-box;\\n}\\n\\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\\n\\tbackground-color: var(--vscode-peekViewEditor-background);\\n}\\n\\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\\n\\tbackground-color: var(--vscode-peekViewEditorGutter-background);\\n}\\n\\n/* High Contrast Theming */\\n\\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,\\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file {\\n\\tfont-weight: bold;\\n}\\n\\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,\\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight {\\n\\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\\n\\tbox-sizing: border-box;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .zone-widget .codicon.codicon-error,\n.markers-panel .marker-icon.error, .markers-panel .marker-icon .codicon.codicon-error,\n.text-search-provider-messages .providerMessage .codicon.codicon-error,\n.extensions-viewlet > .extensions .codicon.codicon-error,\n.extension-editor .codicon.codicon-error,\n.preferences-editor .codicon.codicon-error {\n\tcolor: var(--vscode-problemsErrorIcon-foreground);\n}\n\n.monaco-editor .zone-widget .codicon.codicon-warning,\n.markers-panel .marker-icon.warning, .markers-panel .marker-icon .codicon.codicon-warning,\n.text-search-provider-messages .providerMessage .codicon.codicon-warning,\n.extensions-viewlet > .extensions .codicon.codicon-warning,\n.extension-editor .codicon.codicon-warning,\n.preferences-editor .codicon.codicon-warning {\n\tcolor: var(--vscode-problemsWarningIcon-foreground);\n}\n\n.monaco-editor .zone-widget .codicon.codicon-info,\n.markers-panel .marker-icon.info, .markers-panel .marker-icon .codicon.codicon-info,\n.text-search-provider-messages .providerMessage .codicon.codicon-info,\n.extensions-viewlet > .extensions .codicon.codicon-info,\n.extension-editor .codicon.codicon-info,\n.preferences-editor .codicon.codicon-info {\n\tcolor: var(--vscode-problemsInfoIcon-foreground);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/media/severityIcon.css\"],\"names\":[],\"mappings\":\"AAAA;;;+FAG+F;;AAE/F;;;;;;CAMC,iDAAiD;AAClD;;AAEA;;;;;;CAMC,mDAAmD;AACpD;;AAEA;;;;;;CAMC,gDAAgD;AACjD\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\n *--------------------------------------------------------------------------------------------*/\\n\\n.monaco-editor .zone-widget .codicon.codicon-error,\\n.markers-panel .marker-icon.error, .markers-panel .marker-icon .codicon.codicon-error,\\n.text-search-provider-messages .providerMessage .codicon.codicon-error,\\n.extensions-viewlet > .extensions .codicon.codicon-error,\\n.extension-editor .codicon.codicon-error,\\n.preferences-editor .codicon.codicon-error {\\n\\tcolor: var(--vscode-problemsErrorIcon-foreground);\\n}\\n\\n.monaco-editor .zone-widget .codicon.codicon-warning,\\n.markers-panel .marker-icon.warning, .markers-panel .marker-icon .codicon.codicon-warning,\\n.text-search-provider-messages .providerMessage .codicon.codicon-warning,\\n.extensions-viewlet > .extensions .codicon.codicon-warning,\\n.extension-editor .codicon.codicon-warning,\\n.preferences-editor .codicon.codicon-warning {\\n\\tcolor: var(--vscode-problemsWarningIcon-foreground);\\n}\\n\\n.monaco-editor .zone-widget .codicon.codicon-info,\\n.markers-panel .marker-icon.info, .markers-panel .marker-icon .codicon.codicon-info,\\n.text-search-provider-messages .providerMessage .codicon.codicon-info,\\n.extensions-viewlet > .extensions .codicon.codicon-info,\\n.extension-editor .codicon.codicon-info,\\n.preferences-editor .codicon.codicon-info {\\n\\tcolor: var(--vscode-problemsInfoIcon-foreground);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../css-loader/dist/cjs.js!./referencesWidget.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../css-loader/dist/cjs.js!./referencesWidget.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { CountBadge } from '../../../../../base/browser/ui/countBadge/countBadge.js';\nimport { HighlightedLabel } from '../../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { IconLabel } from '../../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { createMatches, FuzzyScore } from '../../../../../base/common/filters.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { basename, dirname } from '../../../../../base/common/resources.js';\nimport { ITextModelService } from '../../../../common/services/resolverService.js';\nimport { localize } from '../../../../../nls.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { defaultCountBadgeStyles } from '../../../../../platform/theme/browser/defaultStyles.js';\nimport { FileReferences, OneReference, ReferencesModel } from '../referencesModel.js';\nlet DataSource = class DataSource {\n    constructor(_resolverService) {\n        this._resolverService = _resolverService;\n    }\n    hasChildren(element) {\n        if (element instanceof ReferencesModel) {\n            return true;\n        }\n        if (element instanceof FileReferences) {\n            return true;\n        }\n        return false;\n    }\n    getChildren(element) {\n        if (element instanceof ReferencesModel) {\n            return element.groups;\n        }\n        if (element instanceof FileReferences) {\n            return element.resolve(this._resolverService).then(val => {\n                // if (element.failure) {\n                // \t// refresh the element on failure so that\n                // \t// we can update its rendering\n                // \treturn tree.refresh(element).then(() => val.children);\n                // }\n                return val.children;\n            });\n        }\n        throw new Error('bad tree');\n    }\n};\nDataSource = __decorate([\n    __param(0, ITextModelService)\n], DataSource);\nexport { DataSource };\n//#endregion\nexport class Delegate {\n    getHeight() {\n        return 23;\n    }\n    getTemplateId(element) {\n        if (element instanceof FileReferences) {\n            return FileReferencesRenderer.id;\n        }\n        else {\n            return OneReferenceRenderer.id;\n        }\n    }\n}\nlet StringRepresentationProvider = class StringRepresentationProvider {\n    constructor(_keybindingService) {\n        this._keybindingService = _keybindingService;\n    }\n    getKeyboardNavigationLabel(element) {\n        var _a;\n        if (element instanceof OneReference) {\n            const parts = (_a = element.parent.getPreview(element)) === null || _a === void 0 ? void 0 : _a.preview(element.range);\n            if (parts) {\n                return parts.value;\n            }\n        }\n        // FileReferences or unresolved OneReference\n        return basename(element.uri);\n    }\n    mightProducePrintableCharacter(event) {\n        return this._keybindingService.mightProducePrintableCharacter(event);\n    }\n};\nStringRepresentationProvider = __decorate([\n    __param(0, IKeybindingService)\n], StringRepresentationProvider);\nexport { StringRepresentationProvider };\nexport class IdentityProvider {\n    getId(element) {\n        return element instanceof OneReference ? element.id : element.uri;\n    }\n}\n//#region render: File\nlet FileReferencesTemplate = class FileReferencesTemplate extends Disposable {\n    constructor(container, _labelService) {\n        super();\n        this._labelService = _labelService;\n        const parent = document.createElement('div');\n        parent.classList.add('reference-file');\n        this.file = this._register(new IconLabel(parent, { supportHighlights: true }));\n        this.badge = new CountBadge(dom.append(parent, dom.$('.count')), {}, defaultCountBadgeStyles);\n        container.appendChild(parent);\n    }\n    set(element, matches) {\n        const parent = dirname(element.uri);\n        this.file.setLabel(this._labelService.getUriBasenameLabel(element.uri), this._labelService.getUriLabel(parent, { relative: true }), { title: this._labelService.getUriLabel(element.uri), matches });\n        const len = element.children.length;\n        this.badge.setCount(len);\n        if (len > 1) {\n            this.badge.setTitleFormat(localize('referencesCount', \"{0} references\", len));\n        }\n        else {\n            this.badge.setTitleFormat(localize('referenceCount', \"{0} reference\", len));\n        }\n    }\n};\nFileReferencesTemplate = __decorate([\n    __param(1, ILabelService)\n], FileReferencesTemplate);\nlet FileReferencesRenderer = class FileReferencesRenderer {\n    constructor(_instantiationService) {\n        this._instantiationService = _instantiationService;\n        this.templateId = FileReferencesRenderer.id;\n    }\n    renderTemplate(container) {\n        return this._instantiationService.createInstance(FileReferencesTemplate, container);\n    }\n    renderElement(node, index, template) {\n        template.set(node.element, createMatches(node.filterData));\n    }\n    disposeTemplate(templateData) {\n        templateData.dispose();\n    }\n};\nFileReferencesRenderer.id = 'FileReferencesRenderer';\nFileReferencesRenderer = __decorate([\n    __param(0, IInstantiationService)\n], FileReferencesRenderer);\nexport { FileReferencesRenderer };\n//#endregion\n//#region render: Reference\nclass OneReferenceTemplate {\n    constructor(container) {\n        this.label = new HighlightedLabel(container);\n    }\n    set(element, score) {\n        var _a;\n        const preview = (_a = element.parent.getPreview(element)) === null || _a === void 0 ? void 0 : _a.preview(element.range);\n        if (!preview || !preview.value) {\n            // this means we FAILED to resolve the document or the value is the empty string\n            this.label.set(`${basename(element.uri)}:${element.range.startLineNumber + 1}:${element.range.startColumn + 1}`);\n        }\n        else {\n            // render search match as highlight unless\n            // we have score, then render the score\n            const { value, highlight } = preview;\n            if (score && !FuzzyScore.isDefault(score)) {\n                this.label.element.classList.toggle('referenceMatch', false);\n                this.label.set(value, createMatches(score));\n            }\n            else {\n                this.label.element.classList.toggle('referenceMatch', true);\n                this.label.set(value, [highlight]);\n            }\n        }\n    }\n}\nexport class OneReferenceRenderer {\n    constructor() {\n        this.templateId = OneReferenceRenderer.id;\n    }\n    renderTemplate(container) {\n        return new OneReferenceTemplate(container);\n    }\n    renderElement(node, index, templateData) {\n        templateData.set(node.element, node.filterData);\n    }\n    disposeTemplate() {\n    }\n}\nOneReferenceRenderer.id = 'OneReferenceRenderer';\n//#endregion\nexport class AccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('treeAriaLabel', \"References\");\n    }\n    getAriaLabel(element) {\n        return element.ariaMessage;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Sizing, SplitView } from '../../../../../base/browser/ui/splitview/splitview.js';\nimport { Color } from '../../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { DisposableStore, dispose } from '../../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { basenameOrAuthority, dirname } from '../../../../../base/common/resources.js';\nimport './referencesWidget.css';\nimport { EmbeddedCodeEditorWidget } from '../../../../browser/widget/embeddedCodeEditorWidget.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { ModelDecorationOptions, TextModel } from '../../../../common/model/textModel.js';\nimport { ILanguageConfigurationService } from '../../../../common/languages/languageConfigurationRegistry.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../../../common/languages/modesRegistry.js';\nimport { ILanguageService } from '../../../../common/languages/language.js';\nimport { ITextModelService } from '../../../../common/services/resolverService.js';\nimport { AccessibilityProvider, DataSource, Delegate, FileReferencesRenderer, IdentityProvider, OneReferenceRenderer, StringRepresentationProvider } from './referencesTree.js';\nimport * as peekView from '../../../peekView/browser/peekView.js';\nimport * as nls from '../../../../../nls.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { WorkbenchAsyncDataTree } from '../../../../../platform/list/browser/listService.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { IUndoRedoService } from '../../../../../platform/undoRedo/common/undoRedo.js';\nimport { FileReferences, OneReference } from '../referencesModel.js';\nclass DecorationsManager {\n    constructor(_editor, _model) {\n        this._editor = _editor;\n        this._model = _model;\n        this._decorations = new Map();\n        this._decorationIgnoreSet = new Set();\n        this._callOnDispose = new DisposableStore();\n        this._callOnModelChange = new DisposableStore();\n        this._callOnDispose.add(this._editor.onDidChangeModel(() => this._onModelChanged()));\n        this._onModelChanged();\n    }\n    dispose() {\n        this._callOnModelChange.dispose();\n        this._callOnDispose.dispose();\n        this.removeDecorations();\n    }\n    _onModelChanged() {\n        this._callOnModelChange.clear();\n        const model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        for (const ref of this._model.references) {\n            if (ref.uri.toString() === model.uri.toString()) {\n                this._addDecorations(ref.parent);\n                return;\n            }\n        }\n    }\n    _addDecorations(reference) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(() => this._onDecorationChanged()));\n        const newDecorations = [];\n        const newDecorationsActualIndex = [];\n        for (let i = 0, len = reference.children.length; i < len; i++) {\n            const oneReference = reference.children[i];\n            if (this._decorationIgnoreSet.has(oneReference.id)) {\n                continue;\n            }\n            if (oneReference.uri.toString() !== this._editor.getModel().uri.toString()) {\n                continue;\n            }\n            newDecorations.push({\n                range: oneReference.range,\n                options: DecorationsManager.DecorationOptions\n            });\n            newDecorationsActualIndex.push(i);\n        }\n        this._editor.changeDecorations((changeAccessor) => {\n            const decorations = changeAccessor.deltaDecorations([], newDecorations);\n            for (let i = 0; i < decorations.length; i++) {\n                this._decorations.set(decorations[i], reference.children[newDecorationsActualIndex[i]]);\n            }\n        });\n    }\n    _onDecorationChanged() {\n        const toRemove = [];\n        const model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        for (const [decorationId, reference] of this._decorations) {\n            const newRange = model.getDecorationRange(decorationId);\n            if (!newRange) {\n                continue;\n            }\n            let ignore = false;\n            if (Range.equalsRange(newRange, reference.range)) {\n                continue;\n            }\n            if (Range.spansMultipleLines(newRange)) {\n                ignore = true;\n            }\n            else {\n                const lineLength = reference.range.endColumn - reference.range.startColumn;\n                const newLineLength = newRange.endColumn - newRange.startColumn;\n                if (lineLength !== newLineLength) {\n                    ignore = true;\n                }\n            }\n            if (ignore) {\n                this._decorationIgnoreSet.add(reference.id);\n                toRemove.push(decorationId);\n            }\n            else {\n                reference.range = newRange;\n            }\n        }\n        for (let i = 0, len = toRemove.length; i < len; i++) {\n            this._decorations.delete(toRemove[i]);\n        }\n        this._editor.removeDecorations(toRemove);\n    }\n    removeDecorations() {\n        this._editor.removeDecorations([...this._decorations.keys()]);\n        this._decorations.clear();\n    }\n}\nDecorationsManager.DecorationOptions = ModelDecorationOptions.register({\n    description: 'reference-decoration',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'reference-decoration'\n});\nexport class LayoutData {\n    constructor() {\n        this.ratio = 0.7;\n        this.heightInLines = 18;\n    }\n    static fromJSON(raw) {\n        let ratio;\n        let heightInLines;\n        try {\n            const data = JSON.parse(raw);\n            ratio = data.ratio;\n            heightInLines = data.heightInLines;\n        }\n        catch (_a) {\n            //\n        }\n        return {\n            ratio: ratio || 0.7,\n            heightInLines: heightInLines || 18\n        };\n    }\n}\nclass ReferencesTree extends WorkbenchAsyncDataTree {\n}\n/**\n * ZoneWidget that is shown inside the editor\n */\nlet ReferenceWidget = class ReferenceWidget extends peekView.PeekViewWidget {\n    constructor(editor, _defaultTreeKeyboardSupport, layoutData, themeService, _textModelResolverService, _instantiationService, _peekViewService, _uriLabel, _undoRedoService, _keybindingService, _languageService, _languageConfigurationService) {\n        super(editor, { showFrame: false, showArrow: true, isResizeable: true, isAccessible: true, supportOnTitleClick: true }, _instantiationService);\n        this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\n        this.layoutData = layoutData;\n        this._textModelResolverService = _textModelResolverService;\n        this._instantiationService = _instantiationService;\n        this._peekViewService = _peekViewService;\n        this._uriLabel = _uriLabel;\n        this._undoRedoService = _undoRedoService;\n        this._keybindingService = _keybindingService;\n        this._languageService = _languageService;\n        this._languageConfigurationService = _languageConfigurationService;\n        this._disposeOnNewModel = new DisposableStore();\n        this._callOnDispose = new DisposableStore();\n        this._onDidSelectReference = new Emitter();\n        this.onDidSelectReference = this._onDidSelectReference.event;\n        this._dim = new dom.Dimension(0, 0);\n        this._applyTheme(themeService.getColorTheme());\n        this._callOnDispose.add(themeService.onDidColorThemeChange(this._applyTheme.bind(this)));\n        this._peekViewService.addExclusiveWidget(editor, this);\n        this.create();\n    }\n    dispose() {\n        this.setModel(undefined);\n        this._callOnDispose.dispose();\n        this._disposeOnNewModel.dispose();\n        dispose(this._preview);\n        dispose(this._previewNotAvailableMessage);\n        dispose(this._tree);\n        dispose(this._previewModelReference);\n        this._splitView.dispose();\n        super.dispose();\n    }\n    _applyTheme(theme) {\n        const borderColor = theme.getColor(peekView.peekViewBorder) || Color.transparent;\n        this.style({\n            arrowColor: borderColor,\n            frameColor: borderColor,\n            headerBackgroundColor: theme.getColor(peekView.peekViewTitleBackground) || Color.transparent,\n            primaryHeadingColor: theme.getColor(peekView.peekViewTitleForeground),\n            secondaryHeadingColor: theme.getColor(peekView.peekViewTitleInfoForeground)\n        });\n    }\n    show(where) {\n        super.show(where, this.layoutData.heightInLines || 18);\n    }\n    focusOnReferenceTree() {\n        this._tree.domFocus();\n    }\n    focusOnPreviewEditor() {\n        this._preview.focus();\n    }\n    isPreviewEditorFocused() {\n        return this._preview.hasTextFocus();\n    }\n    _onTitleClick(e) {\n        if (this._preview && this._preview.getModel()) {\n            this._onDidSelectReference.fire({\n                element: this._getFocusedReference(),\n                kind: e.ctrlKey || e.metaKey || e.altKey ? 'side' : 'open',\n                source: 'title'\n            });\n        }\n    }\n    _fillBody(containerElement) {\n        this.setCssClass('reference-zone-widget');\n        // message pane\n        this._messageContainer = dom.append(containerElement, dom.$('div.messages'));\n        dom.hide(this._messageContainer);\n        this._splitView = new SplitView(containerElement, { orientation: 1 /* Orientation.HORIZONTAL */ });\n        // editor\n        this._previewContainer = dom.append(containerElement, dom.$('div.preview.inline'));\n        const options = {\n            scrollBeyondLastLine: false,\n            scrollbar: {\n                verticalScrollbarSize: 14,\n                horizontal: 'auto',\n                useShadows: true,\n                verticalHasArrows: false,\n                horizontalHasArrows: false,\n                alwaysConsumeMouseWheel: false\n            },\n            overviewRulerLanes: 2,\n            fixedOverflowWidgets: true,\n            minimap: {\n                enabled: false\n            }\n        };\n        this._preview = this._instantiationService.createInstance(EmbeddedCodeEditorWidget, this._previewContainer, options, {}, this.editor);\n        dom.hide(this._previewContainer);\n        this._previewNotAvailableMessage = new TextModel(nls.localize('missingPreviewMessage', \"no preview available\"), PLAINTEXT_LANGUAGE_ID, TextModel.DEFAULT_CREATION_OPTIONS, null, this._undoRedoService, this._languageService, this._languageConfigurationService);\n        // tree\n        this._treeContainer = dom.append(containerElement, dom.$('div.ref-tree.inline'));\n        const treeOptions = {\n            keyboardSupport: this._defaultTreeKeyboardSupport,\n            accessibilityProvider: new AccessibilityProvider(),\n            keyboardNavigationLabelProvider: this._instantiationService.createInstance(StringRepresentationProvider),\n            identityProvider: new IdentityProvider(),\n            openOnSingleClick: true,\n            selectionNavigation: true,\n            overrideStyles: {\n                listBackground: peekView.peekViewResultsBackground\n            }\n        };\n        if (this._defaultTreeKeyboardSupport) {\n            // the tree will consume `Escape` and prevent the widget from closing\n            this._callOnDispose.add(dom.addStandardDisposableListener(this._treeContainer, 'keydown', (e) => {\n                if (e.equals(9 /* KeyCode.Escape */)) {\n                    this._keybindingService.dispatchEvent(e, e.target);\n                    e.stopPropagation();\n                }\n            }, true));\n        }\n        this._tree = this._instantiationService.createInstance(ReferencesTree, 'ReferencesWidget', this._treeContainer, new Delegate(), [\n            this._instantiationService.createInstance(FileReferencesRenderer),\n            this._instantiationService.createInstance(OneReferenceRenderer),\n        ], this._instantiationService.createInstance(DataSource), treeOptions);\n        // split stuff\n        this._splitView.addView({\n            onDidChange: Event.None,\n            element: this._previewContainer,\n            minimumSize: 200,\n            maximumSize: Number.MAX_VALUE,\n            layout: (width) => {\n                this._preview.layout({ height: this._dim.height, width });\n            }\n        }, Sizing.Distribute);\n        this._splitView.addView({\n            onDidChange: Event.None,\n            element: this._treeContainer,\n            minimumSize: 100,\n            maximumSize: Number.MAX_VALUE,\n            layout: (width) => {\n                this._treeContainer.style.height = `${this._dim.height}px`;\n                this._treeContainer.style.width = `${width}px`;\n                this._tree.layout(this._dim.height, width);\n            }\n        }, Sizing.Distribute);\n        this._disposables.add(this._splitView.onDidSashChange(() => {\n            if (this._dim.width) {\n                this.layoutData.ratio = this._splitView.getViewSize(0) / this._dim.width;\n            }\n        }, undefined));\n        // listen on selection and focus\n        const onEvent = (element, kind) => {\n            if (element instanceof OneReference) {\n                if (kind === 'show') {\n                    this._revealReference(element, false);\n                }\n                this._onDidSelectReference.fire({ element, kind, source: 'tree' });\n            }\n        };\n        this._tree.onDidOpen(e => {\n            if (e.sideBySide) {\n                onEvent(e.element, 'side');\n            }\n            else if (e.editorOptions.pinned) {\n                onEvent(e.element, 'goto');\n            }\n            else {\n                onEvent(e.element, 'show');\n            }\n        });\n        dom.hide(this._treeContainer);\n    }\n    _onWidth(width) {\n        if (this._dim) {\n            this._doLayoutBody(this._dim.height, width);\n        }\n    }\n    _doLayoutBody(heightInPixel, widthInPixel) {\n        super._doLayoutBody(heightInPixel, widthInPixel);\n        this._dim = new dom.Dimension(widthInPixel, heightInPixel);\n        this.layoutData.heightInLines = this._viewZone ? this._viewZone.heightInLines : this.layoutData.heightInLines;\n        this._splitView.layout(widthInPixel);\n        this._splitView.resizeView(0, widthInPixel * this.layoutData.ratio);\n    }\n    setSelection(selection) {\n        return this._revealReference(selection, true).then(() => {\n            if (!this._model) {\n                // disposed\n                return;\n            }\n            // show in tree\n            this._tree.setSelection([selection]);\n            this._tree.setFocus([selection]);\n        });\n    }\n    setModel(newModel) {\n        // clean up\n        this._disposeOnNewModel.clear();\n        this._model = newModel;\n        if (this._model) {\n            return this._onNewModel();\n        }\n        return Promise.resolve();\n    }\n    _onNewModel() {\n        if (!this._model) {\n            return Promise.resolve(undefined);\n        }\n        if (this._model.isEmpty) {\n            this.setTitle('');\n            this._messageContainer.innerText = nls.localize('noResults', \"No results\");\n            dom.show(this._messageContainer);\n            return Promise.resolve(undefined);\n        }\n        dom.hide(this._messageContainer);\n        this._decorationsManager = new DecorationsManager(this._preview, this._model);\n        this._disposeOnNewModel.add(this._decorationsManager);\n        // listen on model changes\n        this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(reference => this._tree.rerender(reference)));\n        // listen on editor\n        this._disposeOnNewModel.add(this._preview.onMouseDown(e => {\n            const { event, target } = e;\n            if (event.detail !== 2) {\n                return;\n            }\n            const element = this._getFocusedReference();\n            if (!element) {\n                return;\n            }\n            this._onDidSelectReference.fire({\n                element: { uri: element.uri, range: target.range },\n                kind: (event.ctrlKey || event.metaKey || event.altKey) ? 'side' : 'open',\n                source: 'editor'\n            });\n        }));\n        // make sure things are rendered\n        this.container.classList.add('results-loaded');\n        dom.show(this._treeContainer);\n        dom.show(this._previewContainer);\n        this._splitView.layout(this._dim.width);\n        this.focusOnReferenceTree();\n        // pick input and a reference to begin with\n        return this._tree.setInput(this._model.groups.length === 1 ? this._model.groups[0] : this._model);\n    }\n    _getFocusedReference() {\n        const [element] = this._tree.getFocus();\n        if (element instanceof OneReference) {\n            return element;\n        }\n        else if (element instanceof FileReferences) {\n            if (element.children.length > 0) {\n                return element.children[0];\n            }\n        }\n        return undefined;\n    }\n    revealReference(reference) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._revealReference(reference, false);\n            this._onDidSelectReference.fire({ element: reference, kind: 'goto', source: 'tree' });\n        });\n    }\n    _revealReference(reference, revealParent) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // check if there is anything to do...\n            if (this._revealedReference === reference) {\n                return;\n            }\n            this._revealedReference = reference;\n            // Update widget header\n            if (reference.uri.scheme !== Schemas.inMemory) {\n                this.setTitle(basenameOrAuthority(reference.uri), this._uriLabel.getUriLabel(dirname(reference.uri)));\n            }\n            else {\n                this.setTitle(nls.localize('peekView.alternateTitle', \"References\"));\n            }\n            const promise = this._textModelResolverService.createModelReference(reference.uri);\n            if (this._tree.getInput() === reference.parent) {\n                this._tree.reveal(reference);\n            }\n            else {\n                if (revealParent) {\n                    this._tree.reveal(reference.parent);\n                }\n                yield this._tree.expand(reference.parent);\n                this._tree.reveal(reference);\n            }\n            const ref = yield promise;\n            if (!this._model) {\n                // disposed\n                ref.dispose();\n                return;\n            }\n            dispose(this._previewModelReference);\n            // show in editor\n            const model = ref.object;\n            if (model) {\n                const scrollType = this._preview.getModel() === model.textEditorModel ? 0 /* ScrollType.Smooth */ : 1 /* ScrollType.Immediate */;\n                const sel = Range.lift(reference.range).collapseToStart();\n                this._previewModelReference = ref;\n                this._preview.setModel(model.textEditorModel);\n                this._preview.setSelection(sel);\n                this._preview.revealRangeInCenter(sel, scrollType);\n            }\n            else {\n                this._preview.setModel(this._previewNotAvailableMessage);\n                ref.dispose();\n            }\n        });\n    }\n};\nReferenceWidget = __decorate([\n    __param(3, IThemeService),\n    __param(4, ITextModelService),\n    __param(5, IInstantiationService),\n    __param(6, peekView.IPeekViewService),\n    __param(7, ILabelService),\n    __param(8, IUndoRedoService),\n    __param(9, IKeybindingService),\n    __param(10, ILanguageService),\n    __param(11, ILanguageConfigurationService)\n], ReferenceWidget);\nexport { ReferenceWidget };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { createCancelablePromise } from '../../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../../base/common/errors.js';\nimport { KeyChord } from '../../../../../base/common/keyCodes.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditorService } from '../../../../browser/services/codeEditorService.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { getOuterEditor, PeekContext } from '../../../peekView/browser/peekView.js';\nimport * as nls from '../../../../../nls.js';\nimport { CommandsRegistry } from '../../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingsRegistry } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IListService, WorkbenchListFocusContextKey, WorkbenchTreeElementCanCollapse, WorkbenchTreeElementCanExpand } from '../../../../../platform/list/browser/listService.js';\nimport { INotificationService } from '../../../../../platform/notification/common/notification.js';\nimport { IStorageService } from '../../../../../platform/storage/common/storage.js';\nimport { OneReference } from '../referencesModel.js';\nimport { LayoutData, ReferenceWidget } from './referencesWidget.js';\nexport const ctxReferenceSearchVisible = new RawContextKey('referenceSearchVisible', false, nls.localize('referenceSearchVisible', \"Whether reference peek is visible, like 'Peek References' or 'Peek Definition'\"));\nlet ReferencesController = class ReferencesController {\n    static get(editor) {\n        return editor.getContribution(ReferencesController.ID);\n    }\n    constructor(_defaultTreeKeyboardSupport, _editor, contextKeyService, _editorService, _notificationService, _instantiationService, _storageService, _configurationService) {\n        this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\n        this._editor = _editor;\n        this._editorService = _editorService;\n        this._notificationService = _notificationService;\n        this._instantiationService = _instantiationService;\n        this._storageService = _storageService;\n        this._configurationService = _configurationService;\n        this._disposables = new DisposableStore();\n        this._requestIdPool = 0;\n        this._ignoreModelChangeEvent = false;\n        this._referenceSearchVisible = ctxReferenceSearchVisible.bindTo(contextKeyService);\n    }\n    dispose() {\n        var _a, _b;\n        this._referenceSearchVisible.reset();\n        this._disposables.dispose();\n        (_a = this._widget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._model) === null || _b === void 0 ? void 0 : _b.dispose();\n        this._widget = undefined;\n        this._model = undefined;\n    }\n    toggleWidget(range, modelPromise, peekMode) {\n        // close current widget and return early is position didn't change\n        let widgetPosition;\n        if (this._widget) {\n            widgetPosition = this._widget.position;\n        }\n        this.closeWidget();\n        if (!!widgetPosition && range.containsPosition(widgetPosition)) {\n            return;\n        }\n        this._peekMode = peekMode;\n        this._referenceSearchVisible.set(true);\n        // close the widget on model/mode changes\n        this._disposables.add(this._editor.onDidChangeModelLanguage(() => { this.closeWidget(); }));\n        this._disposables.add(this._editor.onDidChangeModel(() => {\n            if (!this._ignoreModelChangeEvent) {\n                this.closeWidget();\n            }\n        }));\n        const storageKey = 'peekViewLayout';\n        const data = LayoutData.fromJSON(this._storageService.get(storageKey, 0 /* StorageScope.PROFILE */, '{}'));\n        this._widget = this._instantiationService.createInstance(ReferenceWidget, this._editor, this._defaultTreeKeyboardSupport, data);\n        this._widget.setTitle(nls.localize('labelLoading', \"Loading...\"));\n        this._widget.show(range);\n        this._disposables.add(this._widget.onDidClose(() => {\n            modelPromise.cancel();\n            if (this._widget) {\n                this._storageService.store(storageKey, JSON.stringify(this._widget.layoutData), 0 /* StorageScope.PROFILE */, 1 /* StorageTarget.MACHINE */);\n                this._widget = undefined;\n            }\n            this.closeWidget();\n        }));\n        this._disposables.add(this._widget.onDidSelectReference(event => {\n            const { element, kind } = event;\n            if (!element) {\n                return;\n            }\n            switch (kind) {\n                case 'open':\n                    if (event.source !== 'editor' || !this._configurationService.getValue('editor.stablePeek')) {\n                        // when stable peek is configured we don't close\n                        // the peek window on selecting the editor\n                        this.openReference(element, false, false);\n                    }\n                    break;\n                case 'side':\n                    this.openReference(element, true, false);\n                    break;\n                case 'goto':\n                    if (peekMode) {\n                        this._gotoReference(element, true);\n                    }\n                    else {\n                        this.openReference(element, false, true);\n                    }\n                    break;\n            }\n        }));\n        const requestId = ++this._requestIdPool;\n        modelPromise.then(model => {\n            var _a;\n            // still current request? widget still open?\n            if (requestId !== this._requestIdPool || !this._widget) {\n                model.dispose();\n                return undefined;\n            }\n            (_a = this._model) === null || _a === void 0 ? void 0 : _a.dispose();\n            this._model = model;\n            // show widget\n            return this._widget.setModel(this._model).then(() => {\n                if (this._widget && this._model && this._editor.hasModel()) { // might have been closed\n                    // set title\n                    if (!this._model.isEmpty) {\n                        this._widget.setMetaTitle(nls.localize('metaTitle.N', \"{0} ({1})\", this._model.title, this._model.references.length));\n                    }\n                    else {\n                        this._widget.setMetaTitle('');\n                    }\n                    // set 'best' selection\n                    const uri = this._editor.getModel().uri;\n                    const pos = new Position(range.startLineNumber, range.startColumn);\n                    const selection = this._model.nearestReference(uri, pos);\n                    if (selection) {\n                        return this._widget.setSelection(selection).then(() => {\n                            if (this._widget && this._editor.getOption(85 /* EditorOption.peekWidgetDefaultFocus */) === 'editor') {\n                                this._widget.focusOnPreviewEditor();\n                            }\n                        });\n                    }\n                }\n                return undefined;\n            });\n        }, error => {\n            this._notificationService.error(error);\n        });\n    }\n    changeFocusBetweenPreviewAndReferences() {\n        if (!this._widget) {\n            // can be called while still resolving...\n            return;\n        }\n        if (this._widget.isPreviewEditorFocused()) {\n            this._widget.focusOnReferenceTree();\n        }\n        else {\n            this._widget.focusOnPreviewEditor();\n        }\n    }\n    goToNextOrPreviousReference(fwd) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._editor.hasModel() || !this._model || !this._widget) {\n                // can be called while still resolving...\n                return;\n            }\n            const currentPosition = this._widget.position;\n            if (!currentPosition) {\n                return;\n            }\n            const source = this._model.nearestReference(this._editor.getModel().uri, currentPosition);\n            if (!source) {\n                return;\n            }\n            const target = this._model.nextOrPreviousReference(source, fwd);\n            const editorFocus = this._editor.hasTextFocus();\n            const previewEditorFocus = this._widget.isPreviewEditorFocused();\n            yield this._widget.setSelection(target);\n            yield this._gotoReference(target, false);\n            if (editorFocus) {\n                this._editor.focus();\n            }\n            else if (this._widget && previewEditorFocus) {\n                this._widget.focusOnPreviewEditor();\n            }\n        });\n    }\n    revealReference(reference) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._editor.hasModel() || !this._model || !this._widget) {\n                // can be called while still resolving...\n                return;\n            }\n            yield this._widget.revealReference(reference);\n        });\n    }\n    closeWidget(focusEditor = true) {\n        var _a, _b;\n        (_a = this._widget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._model) === null || _b === void 0 ? void 0 : _b.dispose();\n        this._referenceSearchVisible.reset();\n        this._disposables.clear();\n        this._widget = undefined;\n        this._model = undefined;\n        if (focusEditor) {\n            this._editor.focus();\n        }\n        this._requestIdPool += 1; // Cancel pending requests\n    }\n    _gotoReference(ref, pinned) {\n        var _a;\n        (_a = this._widget) === null || _a === void 0 ? void 0 : _a.hide();\n        this._ignoreModelChangeEvent = true;\n        const range = Range.lift(ref.range).collapseToStart();\n        return this._editorService.openCodeEditor({\n            resource: ref.uri,\n            options: { selection: range, selectionSource: \"code.jump\" /* TextEditorSelectionSource.JUMP */, pinned }\n        }, this._editor).then(openedEditor => {\n            var _a;\n            this._ignoreModelChangeEvent = false;\n            if (!openedEditor || !this._widget) {\n                // something went wrong...\n                this.closeWidget();\n                return;\n            }\n            if (this._editor === openedEditor) {\n                //\n                this._widget.show(range);\n                this._widget.focusOnReferenceTree();\n            }\n            else {\n                // we opened a different editor instance which means a different controller instance.\n                // therefore we stop with this controller and continue with the other\n                const other = ReferencesController.get(openedEditor);\n                const model = this._model.clone();\n                this.closeWidget();\n                openedEditor.focus();\n                other === null || other === void 0 ? void 0 : other.toggleWidget(range, createCancelablePromise(_ => Promise.resolve(model)), (_a = this._peekMode) !== null && _a !== void 0 ? _a : false);\n            }\n        }, (err) => {\n            this._ignoreModelChangeEvent = false;\n            onUnexpectedError(err);\n        });\n    }\n    openReference(ref, sideBySide, pinned) {\n        // clear stage\n        if (!sideBySide) {\n            this.closeWidget();\n        }\n        const { uri, range } = ref;\n        this._editorService.openCodeEditor({\n            resource: uri,\n            options: { selection: range, selectionSource: \"code.jump\" /* TextEditorSelectionSource.JUMP */, pinned }\n        }, this._editor, sideBySide);\n    }\n};\nReferencesController.ID = 'editor.contrib.referencesController';\nReferencesController = __decorate([\n    __param(2, IContextKeyService),\n    __param(3, ICodeEditorService),\n    __param(4, INotificationService),\n    __param(5, IInstantiationService),\n    __param(6, IStorageService),\n    __param(7, IConfigurationService)\n], ReferencesController);\nexport { ReferencesController };\nfunction withController(accessor, fn) {\n    const outerEditor = getOuterEditor(accessor);\n    if (!outerEditor) {\n        return;\n    }\n    const controller = ReferencesController.get(outerEditor);\n    if (controller) {\n        fn(controller);\n    }\n}\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'togglePeekWidgetFocus',\n    weight: 100 /* KeybindingWeight.EditorContrib */,\n    primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 60 /* KeyCode.F2 */),\n    when: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\n    handler(accessor) {\n        withController(accessor, controller => {\n            controller.changeFocusBetweenPreviewAndReferences();\n        });\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'goToNextReference',\n    weight: 100 /* KeybindingWeight.EditorContrib */ - 10,\n    primary: 62 /* KeyCode.F4 */,\n    secondary: [70 /* KeyCode.F12 */],\n    when: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\n    handler(accessor) {\n        withController(accessor, controller => {\n            controller.goToNextOrPreviousReference(true);\n        });\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'goToPreviousReference',\n    weight: 100 /* KeybindingWeight.EditorContrib */ - 10,\n    primary: 1024 /* KeyMod.Shift */ | 62 /* KeyCode.F4 */,\n    secondary: [1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */],\n    when: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\n    handler(accessor) {\n        withController(accessor, controller => {\n            controller.goToNextOrPreviousReference(false);\n        });\n    }\n});\n// commands that aren't needed anymore because there is now ContextKeyExpr.OR\nCommandsRegistry.registerCommandAlias('goToNextReferenceFromEmbeddedEditor', 'goToNextReference');\nCommandsRegistry.registerCommandAlias('goToPreviousReferenceFromEmbeddedEditor', 'goToPreviousReference');\n// close\nCommandsRegistry.registerCommandAlias('closeReferenceSearchEditor', 'closeReferenceSearch');\nCommandsRegistry.registerCommand('closeReferenceSearch', accessor => withController(accessor, controller => controller.closeWidget()));\nKeybindingsRegistry.registerKeybindingRule({\n    id: 'closeReferenceSearch',\n    weight: 100 /* KeybindingWeight.EditorContrib */ - 101,\n    primary: 9 /* KeyCode.Escape */,\n    secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */],\n    when: ContextKeyExpr.and(PeekContext.inPeekEditor, ContextKeyExpr.not('config.editor.stablePeek'))\n});\nKeybindingsRegistry.registerKeybindingRule({\n    id: 'closeReferenceSearch',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */ + 50,\n    primary: 9 /* KeyCode.Escape */,\n    secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */],\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, ContextKeyExpr.not('config.editor.stablePeek'))\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'revealReference',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    primary: 3 /* KeyCode.Enter */,\n    mac: {\n        primary: 3 /* KeyCode.Enter */,\n        secondary: [2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */]\n    },\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, WorkbenchListFocusContextKey, WorkbenchTreeElementCanCollapse.negate(), WorkbenchTreeElementCanExpand.negate()),\n    handler(accessor) {\n        var _a;\n        const listService = accessor.get(IListService);\n        const focus = (_a = listService.lastFocusedList) === null || _a === void 0 ? void 0 : _a.getFocus();\n        if (Array.isArray(focus) && focus[0] instanceof OneReference) {\n            withController(accessor, controller => controller.revealReference(focus[0]));\n        }\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'openReferenceToSide',\n    weight: 100 /* KeybindingWeight.EditorContrib */,\n    primary: 2048 /* KeyMod.CtrlCmd */ | 3 /* KeyCode.Enter */,\n    mac: {\n        primary: 256 /* KeyMod.WinCtrl */ | 3 /* KeyCode.Enter */\n    },\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, WorkbenchListFocusContextKey, WorkbenchTreeElementCanCollapse.negate(), WorkbenchTreeElementCanExpand.negate()),\n    handler(accessor) {\n        var _a;\n        const listService = accessor.get(IListService);\n        const focus = (_a = listService.lastFocusedList) === null || _a === void 0 ? void 0 : _a.getFocus();\n        if (Array.isArray(focus) && focus[0] instanceof OneReference) {\n            withController(accessor, controller => controller.openReference(focus[0], true, true));\n        }\n    }\n});\nCommandsRegistry.registerCommand('openReference', (accessor) => {\n    var _a;\n    const listService = accessor.get(IListService);\n    const focus = (_a = listService.lastFocusedList) === null || _a === void 0 ? void 0 : _a.getFocus();\n    if (Array.isArray(focus) && focus[0] instanceof OneReference) {\n        withController(accessor, controller => controller.openReference(focus[0], false, true));\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { defaultGenerator } from '../../../../base/common/idGenerator.js';\nimport { dispose } from '../../../../base/common/lifecycle.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { basename, extUri } from '../../../../base/common/resources.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { Range } from '../../../common/core/range.js';\nimport { localize } from '../../../../nls.js';\nexport class OneReference {\n    constructor(isProviderFirst, parent, link, _rangeCallback) {\n        this.isProviderFirst = isProviderFirst;\n        this.parent = parent;\n        this.link = link;\n        this._rangeCallback = _rangeCallback;\n        this.id = defaultGenerator.nextId();\n    }\n    get uri() {\n        return this.link.uri;\n    }\n    get range() {\n        var _a, _b;\n        return (_b = (_a = this._range) !== null && _a !== void 0 ? _a : this.link.targetSelectionRange) !== null && _b !== void 0 ? _b : this.link.range;\n    }\n    set range(value) {\n        this._range = value;\n        this._rangeCallback(this);\n    }\n    get ariaMessage() {\n        var _a;\n        const preview = (_a = this.parent.getPreview(this)) === null || _a === void 0 ? void 0 : _a.preview(this.range);\n        if (!preview) {\n            return localize('aria.oneReference', \"in {0} on line {1} at column {2}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn);\n        }\n        else {\n            return localize({ key: 'aria.oneReference.preview', comment: ['Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code'] }, \"{0} in {1} on line {2} at column {3}\", preview.value, basename(this.uri), this.range.startLineNumber, this.range.startColumn);\n        }\n    }\n}\nexport class FilePreview {\n    constructor(_modelReference) {\n        this._modelReference = _modelReference;\n    }\n    dispose() {\n        this._modelReference.dispose();\n    }\n    preview(range, n = 8) {\n        const model = this._modelReference.object.textEditorModel;\n        if (!model) {\n            return undefined;\n        }\n        const { startLineNumber, startColumn, endLineNumber, endColumn } = range;\n        const word = model.getWordUntilPosition({ lineNumber: startLineNumber, column: startColumn - n });\n        const beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\n        const afterRange = new Range(endLineNumber, endColumn, endLineNumber, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n        const before = model.getValueInRange(beforeRange).replace(/^\\s+/, '');\n        const inside = model.getValueInRange(range);\n        const after = model.getValueInRange(afterRange).replace(/\\s+$/, '');\n        return {\n            value: before + inside + after,\n            highlight: { start: before.length, end: before.length + inside.length }\n        };\n    }\n}\nexport class FileReferences {\n    constructor(parent, uri) {\n        this.parent = parent;\n        this.uri = uri;\n        this.children = [];\n        this._previews = new ResourceMap();\n    }\n    dispose() {\n        dispose(this._previews.values());\n        this._previews.clear();\n    }\n    getPreview(child) {\n        return this._previews.get(child.uri);\n    }\n    get ariaMessage() {\n        const len = this.children.length;\n        if (len === 1) {\n            return localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri), this.uri.fsPath);\n        }\n        else {\n            return localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri), this.uri.fsPath);\n        }\n    }\n    resolve(textModelResolverService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._previews.size !== 0) {\n                return this;\n            }\n            for (const child of this.children) {\n                if (this._previews.has(child.uri)) {\n                    continue;\n                }\n                try {\n                    const ref = yield textModelResolverService.createModelReference(child.uri);\n                    this._previews.set(child.uri, new FilePreview(ref));\n                }\n                catch (err) {\n                    onUnexpectedError(err);\n                }\n            }\n            return this;\n        });\n    }\n}\nexport class ReferencesModel {\n    constructor(links, title) {\n        this.groups = [];\n        this.references = [];\n        this._onDidChangeReferenceRange = new Emitter();\n        this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;\n        this._links = links;\n        this._title = title;\n        // grouping and sorting\n        const [providersFirst] = links;\n        links.sort(ReferencesModel._compareReferences);\n        let current;\n        for (const link of links) {\n            if (!current || !extUri.isEqual(current.uri, link.uri, true)) {\n                // new group\n                current = new FileReferences(this, link.uri);\n                this.groups.push(current);\n            }\n            // append, check for equality first!\n            if (current.children.length === 0 || ReferencesModel._compareReferences(link, current.children[current.children.length - 1]) !== 0) {\n                const oneRef = new OneReference(providersFirst === link, current, link, ref => this._onDidChangeReferenceRange.fire(ref));\n                this.references.push(oneRef);\n                current.children.push(oneRef);\n            }\n        }\n    }\n    dispose() {\n        dispose(this.groups);\n        this._onDidChangeReferenceRange.dispose();\n        this.groups.length = 0;\n    }\n    clone() {\n        return new ReferencesModel(this._links, this._title);\n    }\n    get title() {\n        return this._title;\n    }\n    get isEmpty() {\n        return this.groups.length === 0;\n    }\n    get ariaMessage() {\n        if (this.isEmpty) {\n            return localize('aria.result.0', \"No results found\");\n        }\n        else if (this.references.length === 1) {\n            return localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\n        }\n        else if (this.groups.length === 1) {\n            return localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\n        }\n        else {\n            return localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\n        }\n    }\n    nextOrPreviousReference(reference, next) {\n        const { parent } = reference;\n        let idx = parent.children.indexOf(reference);\n        const childCount = parent.children.length;\n        const groupCount = parent.parent.groups.length;\n        if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\n            // cycling within one file\n            if (next) {\n                idx = (idx + 1) % childCount;\n            }\n            else {\n                idx = (idx + childCount - 1) % childCount;\n            }\n            return parent.children[idx];\n        }\n        idx = parent.parent.groups.indexOf(parent);\n        if (next) {\n            idx = (idx + 1) % groupCount;\n            return parent.parent.groups[idx].children[0];\n        }\n        else {\n            idx = (idx + groupCount - 1) % groupCount;\n            return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\n        }\n    }\n    nearestReference(resource, position) {\n        const nearest = this.references.map((ref, idx) => {\n            return {\n                idx,\n                prefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\n                offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\n            };\n        }).sort((a, b) => {\n            if (a.prefixLen > b.prefixLen) {\n                return -1;\n            }\n            else if (a.prefixLen < b.prefixLen) {\n                return 1;\n            }\n            else if (a.offsetDist < b.offsetDist) {\n                return -1;\n            }\n            else if (a.offsetDist > b.offsetDist) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        })[0];\n        if (nearest) {\n            return this.references[nearest.idx];\n        }\n        return undefined;\n    }\n    referenceAt(resource, position) {\n        for (const ref of this.references) {\n            if (ref.uri.toString() === resource.toString()) {\n                if (Range.containsPosition(ref.range, position)) {\n                    return ref;\n                }\n            }\n        }\n        return undefined;\n    }\n    firstReference() {\n        for (const ref of this.references) {\n            if (ref.isProviderFirst) {\n                return ref;\n            }\n        }\n        return this.references[0];\n    }\n    static _compareReferences(a, b) {\n        return extUri.compare(a.uri, b.uri) || Range.compareRangesUsingStarts(a.range, b.range);\n    }\n}\n","\n      import API from \"!../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../css-loader/dist/cjs.js!./severityIcon.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../css-loader/dist/cjs.js!./severityIcon.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './media/severityIcon.css';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport Severity from '../../../base/common/severity.js';\nexport var SeverityIcon;\n(function (SeverityIcon) {\n    function className(severity) {\n        switch (severity) {\n            case Severity.Ignore:\n                return 'severity-ignore ' + ThemeIcon.asClassName(Codicon.info);\n            case Severity.Info:\n                return ThemeIcon.asClassName(Codicon.info);\n            case Severity.Warning:\n                return ThemeIcon.asClassName(Codicon.warning);\n            case Severity.Error:\n                return ThemeIcon.asClassName(Codicon.error);\n            default:\n                return '';\n        }\n    }\n    SeverityIcon.className = className;\n})(SeverityIcon || (SeverityIcon = {}));\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","DataSource","constructor","_resolverService","this","hasChildren","element","getChildren","groups","resolve","then","val","children","Error","Delegate","getHeight","getTemplateId","FileReferencesRenderer","OneReferenceRenderer","StringRepresentationProvider","_keybindingService","getKeyboardNavigationLabel","_a","parts","parent","getPreview","preview","range","value","uri","mightProducePrintableCharacter","event","IdentityProvider","getId","FileReferencesTemplate","container","_labelService","super","document","createElement","classList","add","file","_register","supportHighlights","badge","dom","$","appendChild","set","matches","setLabel","getUriBasenameLabel","getUriLabel","relative","title","len","setCount","setTitleFormat","_instantiationService","templateId","renderTemplate","createInstance","renderElement","node","index","template","filterData","disposeTemplate","templateData","dispose","OneReferenceTemplate","label","score","highlight","isDefault","toggle","startLineNumber","startColumn","AccessibilityProvider","getWidgetAriaLabel","getAriaLabel","ariaMessage","__awaiter","thisArg","_arguments","P","generator","Promise","reject","fulfilled","step","next","e","rejected","result","done","apply","DecorationsManager","_editor","_model","_decorations","Map","_decorationIgnoreSet","Set","_callOnDispose","_callOnModelChange","onDidChangeModel","_onModelChanged","removeDecorations","clear","model","getModel","ref","references","toString","_addDecorations","reference","hasModel","onDidChangeDecorations","_onDecorationChanged","newDecorations","newDecorationsActualIndex","oneReference","has","DecorationOptions","changeDecorations","changeAccessor","decorations","deltaDecorations","toRemove","decorationId","newRange","getDecorationRange","ignore","equalsRange","spansMultipleLines","endColumn","delete","keys","register","description","stickiness","className","LayoutData","ratio","heightInLines","fromJSON","raw","data","JSON","parse","ReferencesTree","ReferenceWidget","peekView","editor","_defaultTreeKeyboardSupport","layoutData","themeService","_textModelResolverService","_peekViewService","_uriLabel","_undoRedoService","_languageService","_languageConfigurationService","showFrame","showArrow","isResizeable","isAccessible","supportOnTitleClick","_disposeOnNewModel","_onDidSelectReference","onDidSelectReference","_dim","_applyTheme","getColorTheme","onDidColorThemeChange","bind","addExclusiveWidget","create","setModel","undefined","_preview","_previewNotAvailableMessage","_tree","_previewModelReference","_splitView","theme","borderColor","getColor","transparent","style","arrowColor","frameColor","headerBackgroundColor","primaryHeadingColor","secondaryHeadingColor","show","where","focusOnReferenceTree","domFocus","focusOnPreviewEditor","focus","isPreviewEditorFocused","hasTextFocus","_onTitleClick","fire","_getFocusedReference","kind","ctrlKey","metaKey","altKey","source","_fillBody","containerElement","setCssClass","_messageContainer","orientation","_previewContainer","scrollBeyondLastLine","scrollbar","verticalScrollbarSize","horizontal","useShadows","verticalHasArrows","horizontalHasArrows","alwaysConsumeMouseWheel","overviewRulerLanes","fixedOverflowWidgets","minimap","enabled","nls","DEFAULT_CREATION_OPTIONS","_treeContainer","treeOptions","keyboardSupport","accessibilityProvider","keyboardNavigationLabelProvider","identityProvider","openOnSingleClick","selectionNavigation","overrideStyles","listBackground","equals","dispatchEvent","stopPropagation","addView","onDidChange","None","minimumSize","maximumSize","Number","MAX_VALUE","layout","width","height","Distribute","_disposables","onDidSashChange","getViewSize","onEvent","_revealReference","onDidOpen","sideBySide","editorOptions","pinned","_onWidth","_doLayoutBody","heightInPixel","widthInPixel","_viewZone","resizeView","setSelection","selection","setFocus","newModel","_onNewModel","isEmpty","setTitle","innerText","_decorationsManager","onDidChangeReferenceRange","rerender","onMouseDown","detail","setInput","getFocus","revealReference","revealParent","_revealedReference","scheme","inMemory","promise","createModelReference","getInput","reveal","expand","object","scrollType","textEditorModel","sel","lift","collapseToStart","revealRangeInCenter","ctxReferenceSearchVisible","ReferencesController","get","getContribution","ID","contextKeyService","_editorService","_notificationService","_storageService","_configurationService","_requestIdPool","_ignoreModelChangeEvent","_referenceSearchVisible","bindTo","_b","reset","_widget","toggleWidget","modelPromise","peekMode","widgetPosition","position","closeWidget","containsPosition","_peekMode","onDidChangeModelLanguage","storageKey","onDidClose","cancel","store","stringify","getValue","openReference","_gotoReference","requestId","setMetaTitle","pos","nearestReference","getOption","error","changeFocusBetweenPreviewAndReferences","goToNextOrPreviousReference","fwd","currentPosition","nextOrPreviousReference","editorFocus","previewEditorFocus","focusEditor","hide","openCodeEditor","resource","selectionSource","openedEditor","other","clone","_","err","withController","accessor","fn","outerEditor","controller","registerCommandAndKeybindingRule","weight","primary","when","or","inPeekEditor","handler","secondary","registerCommandAlias","registerCommand","registerKeybindingRule","and","not","mac","negate","lastFocusedList","Array","isArray","OneReference","isProviderFirst","link","_rangeCallback","nextId","_range","targetSelectionRange","comment","FilePreview","_modelReference","n","endLineNumber","word","getWordUntilPosition","lineNumber","column","beforeRange","afterRange","before","getValueInRange","replace","inside","start","end","FileReferences","_previews","values","child","fsPath","textModelResolverService","size","ReferencesModel","links","_onDidChangeReferenceRange","_links","_title","providersFirst","current","sort","_compareReferences","isEqual","oneRef","idx","indexOf","childCount","groupCount","nearest","map","prefixLen","offsetDist","Math","abs","a","b","referenceAt","firstReference","compare","compareRangesUsingStarts","SeverityIcon","severity","Ignore","asClassName","info","Info","Warning","warning"],"sourceRoot":""}