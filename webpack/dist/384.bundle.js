"use strict";(self.webpackChunkmonaco_custom_bundle=self.webpackChunkmonaco_custom_bundle||[]).push([[384],{2384:(i,t,e)=>{e.d(t,{$K:()=>x,CS:()=>w,HB:()=>T,HU:()=>F,OA:()=>I,X4:()=>L,gT:()=>R,k8:()=>P,w6:()=>O});var s=e(80855),n=e(94565),o=e(93983),r=e(49989),a=e(75909),h=e(84144),c=e(63580),d=e(32414),g=e(10829),l=e(25042),u=e(88813),f=e(59422),_=e(72065),m=e(74741),p=e(89954),y=e(9488);const C="notifications.showList",w="notifications.hideList",v="notifications.toggleList",D="notifications.hideToasts",N="notifications.focusToasts",b="notifications.focusNextToast",A="notifications.focusPreviousToast",M="notifications.focusFirstToast",S="notifications.focusLastToast",T="notification.collapse",x="notification.expand",k="notification.acceptPrimaryAction",E="notification.toggle",L="notification.clear",P="notifications.clearAll",R="notifications.toggleDoNotDisturbMode";function I(i,t){if((0,a.YX)(t))return t;const e=i.lastFocusedList;if(e instanceof d.ev){const i=e.getFocusedElements()[0];if((0,a.YX)(i))return i}}function O(i,t,e){n.P.registerCommand(C,(()=>{t.hide(),i.show()})),r.W.registerCommandAndKeybindingRule({id:w,weight:250,when:u.di,primary:9,handler:t=>{const s=t.get(g.bU);for(const i of e.notifications)i.visible&&s.publicLog2("notification:hide",(0,l.P)(i.message.original,i.sourceId,i.priority===f.RX.SILENT));i.hide()}}),n.P.registerCommand(v,(()=>{i.isVisible?i.hide():(t.hide(),i.show())})),r.W.registerCommandAndKeybindingRule({id:L,weight:200,when:u.Mc,primary:20,mac:{primary:2049},handler:(i,t)=>{const e=I(i.get(d.Lw),t);e&&!e.hasProgress&&e.close()}}),r.W.registerCommandAndKeybindingRule({id:x,weight:200,when:u.Mc,primary:17,handler:(i,t)=>{const e=I(i.get(d.Lw),t);e?.expand()}}),r.W.registerCommandAndKeybindingRule({id:k,weight:200,when:o.Ao.and(u.Bm),primary:3103,handler:i=>{const t=i.get(_.TG).createInstance(F),s=(0,y.Xh)(e.notifications);if(!s)return;const n=s.actions?.primary?(0,y.Xh)(s.actions.primary):void 0;n&&(t.run(n,s),s.close())}}),r.W.registerCommandAndKeybindingRule({id:T,weight:200,when:u.Mc,primary:15,handler:(i,t)=>{const e=I(i.get(d.Lw),t);e?.collapse()}}),r.W.registerCommandAndKeybindingRule({id:E,weight:200,when:u.Mc,primary:10,secondary:[3],handler:i=>{const t=I(i.get(d.Lw));t?.toggle()}}),n.P.registerCommand(D,(i=>{const s=i.get(g.bU);for(const i of e.notifications)i.visible&&s.publicLog2("notification:hide",(0,l.P)(i.message.original,i.sourceId,i.priority===f.RX.SILENT));t.hide()})),r.W.registerKeybindingRule({id:D,weight:150,when:u.Bm,primary:9}),r.W.registerKeybindingRule({id:D,weight:300,when:o.Ao.and(u.Bm,u.Mc),primary:9}),n.P.registerCommand(N,(()=>t.focus())),r.W.registerCommandAndKeybindingRule({id:b,weight:200,when:o.Ao.and(u.Mc,u.Bm),primary:18,handler:()=>{t.focusNext()}}),r.W.registerCommandAndKeybindingRule({id:A,weight:200,when:o.Ao.and(u.Mc,u.Bm),primary:16,handler:()=>{t.focusPrevious()}}),r.W.registerCommandAndKeybindingRule({id:M,weight:200,when:o.Ao.and(u.Mc,u.Bm),primary:11,secondary:[14],handler:()=>{t.focusFirst()}}),r.W.registerCommandAndKeybindingRule({id:S,weight:200,when:o.Ao.and(u.Mc,u.Bm),primary:12,secondary:[13],handler:()=>{t.focusLast()}}),n.P.registerCommand(P,(()=>i.clearAll())),n.P.registerCommand(R,(i=>{const t=i.get(f.lT);t.doNotDisturbMode=!t.doNotDisturbMode}));const s={value:(0,c.NC)("notifications","Notifications"),original:"Notifications"};h.BH.appendMenuItem(h.eH.CommandPalette,{command:{id:C,title:{value:(0,c.NC)("showNotifications","Show Notifications"),original:"Show Notifications"},category:s}}),h.BH.appendMenuItem(h.eH.CommandPalette,{command:{id:w,title:{value:(0,c.NC)("hideNotifications","Hide Notifications"),original:"Hide Notifications"},category:s},when:u.di}),h.BH.appendMenuItem(h.eH.CommandPalette,{command:{id:P,title:{value:(0,c.NC)("clearAllNotifications","Clear All Notifications"),original:"Clear All Notifications"},category:s}}),h.BH.appendMenuItem(h.eH.CommandPalette,{command:{id:k,title:{value:(0,c.NC)("acceptNotificationPrimaryAction","Accept Notification Primary Action"),original:"Accept Notification Primary Action"},category:s}}),h.BH.appendMenuItem(h.eH.CommandPalette,{command:{id:R,title:{value:(0,c.NC)("toggleDoNotDisturbMode","Toggle Do Not Disturb Mode"),original:"Toggle Do Not Disturb Mode"},category:s}}),h.BH.appendMenuItem(h.eH.CommandPalette,{command:{id:N,title:{value:(0,c.NC)("focusNotificationToasts","Focus Notification Toast"),original:"Focus Notification Toast"},category:s},when:u.Bm})}let F=class extends m.Wi{constructor(i,t){super(),this.telemetryService=i,this.notificationService=t}async runAction(i,t){this.telemetryService.publicLog2("workbenchActionExecuted",{id:i.id,from:"message"}),(0,a.YX)(t)&&this.telemetryService.publicLog2("notification:actionExecuted",{id:(0,p.vp)(t.message.original.toString()).toString(),actionLabel:i.label,source:t.sourceId||"core",silent:t.priority===f.RX.SILENT});try{await super.runAction(i,t)}catch(i){this.notificationService.error(i)}}};F=(0,s.g)([(0,s.f)(0,g.bU),(0,s.f)(1,f.lT)],F)},25042:(i,t,e)=>{e.d(t,{P:()=>h,R:()=>c});var s=e(80855),n=e(5976),o=e(59422),r=e(10829),a=e(89954);function h(i,t,e){return{id:(0,a.vp)(i.toString()).toString(),silent:e,source:t||"core"}}let c=class extends n.JT{constructor(i,t){super(),this.telemetryService=i,this.notificationService=t,this.registerListeners()}registerListeners(){this._register(this.notificationService.onDidAddNotification((i=>{const t=i.source&&"string"!=typeof i.source?i.source.id:i.source;this.telemetryService.publicLog2("notification:show",h(i.message,t,i.priority===o.RX.SILENT))}))),this._register(this.notificationService.onDidRemoveNotification((i=>{const t=i.source&&"string"!=typeof i.source?i.source.id:i.source;this.telemetryService.publicLog2("notification:close",h(i.message,t,i.priority===o.RX.SILENT))})))}};c=(0,s.g)([(0,s.f)(0,r.bU),(0,s.f)(1,o.lT)],c)},75909:(i,t,e)=>{e.d(t,{O_:()=>m,Px:()=>l,VJ:()=>_,YX:()=>u});var s=e(59422),n=e(59523),o=e(4669),r=e(5976),a=e(17301),h=e(74741),c=e(9488),d=e(17676);class g extends r.JT{constructor(i,t){super(),this.item=i,this.onClose=t,this._onDidClose=this._register(new o.Q5),this.onDidClose=this._onDidClose.event,this._onDidChangeVisibility=this._register(new o.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.registerListeners()}registerListeners(){this._register(this.item.onDidChangeVisibility((i=>this._onDidChangeVisibility.fire(i)))),o.ju.once(this.item.onDidClose)((()=>{this._onDidClose.fire(),this.dispose()}))}get progress(){return this.item.progress}updateSeverity(i){this.item.updateSeverity(i)}updateMessage(i){this.item.updateMessage(i)}updateActions(i){this.item.updateActions(i)}close(){this.onClose(this.item),this.dispose()}}class l extends r.JT{constructor(){super(...arguments),this._onDidChangeNotification=this._register(new o.Q5),this.onDidChangeNotification=this._onDidChangeNotification.event,this._onDidChangeStatusMessage=this._register(new o.Q5),this.onDidChangeStatusMessage=this._onDidChangeStatusMessage.event,this._onDidChangeFilter=this._register(new o.Q5),this.onDidChangeFilter=this._onDidChangeFilter.event,this._notifications=[],this.filter=s.NG.OFF}static{this.NO_OP_NOTIFICATION=new s.EO}get notifications(){return this._notifications}get statusMessage(){return this._statusMessage}setFilter(i){this.filter=i,this._onDidChangeFilter.fire(i)}addNotification(i){const t=this.createViewItem(i);if(!t)return l.NO_OP_NOTIFICATION;const e=this.findNotification(t);return e?.close(),this._notifications.splice(0,0,t),this._onDidChangeNotification.fire({item:t,index:0,kind:0}),new g(t,(i=>this.onClose(i)))}onClose(i){const t=this.findNotification(i);t&&t!==i?t.close():i.close()}findNotification(i){return this._notifications.find((t=>t.equals(i)))}createViewItem(i){const t=_.create(i,this.filter);if(!t)return;const e=(i,e)=>{const s=this._notifications.indexOf(t);s>=0&&this._onDidChangeNotification.fire({item:t,index:s,kind:i,detail:e})},s=t.onDidChangeExpansion((()=>e(2))),n=t.onDidChangeContent((i=>e(1,i.kind)));return o.ju.once(t.onDidClose)((()=>{s.dispose(),n.dispose();const i=this._notifications.indexOf(t);i>=0&&(this._notifications.splice(i,1),this._onDidChangeNotification.fire({item:t,index:i,kind:3}))})),t}showStatusMessage(i,t){const e=p.create(i,t);return e?(this._statusMessage=e,this._onDidChangeStatusMessage.fire({kind:0,item:e}),(0,r.OF)((()=>{this._statusMessage===e&&(this._statusMessage=void 0,this._onDidChangeStatusMessage.fire({kind:1,item:e}))}))):r.JT.None}}function u(i){return i instanceof _}class f extends r.JT{constructor(){super(),this._onDidChange=this._register(new o.Q5),this.onDidChange=this._onDidChange.event,this._state=Object.create(null)}get state(){return this._state}infinite(){this._state.infinite||(this._state.infinite=!0,this._state.total=void 0,this._state.worked=void 0,this._state.done=void 0,this._onDidChange.fire())}done(){this._state.done||(this._state.done=!0,this._state.infinite=void 0,this._state.total=void 0,this._state.worked=void 0,this._onDidChange.fire())}total(i){this._state.total!==i&&(this._state.total=i,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire())}worked(i){"number"==typeof this._state.worked?this._state.worked+=i:this._state.worked=i,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire()}}class _ extends r.JT{static{this.MAX_MESSAGE_LENGTH=1e3}static create(i,t=s.NG.OFF){if(!i||!i.message||(0,a.n2)(i.message))return;let e;e="number"==typeof i.severity?i.severity:s.zb.Info;const o=_.parseNotificationMessage(i.message);if(!o)return;let r;i.actions?r=i.actions:(0,n.TF)(i.message)&&(r={primary:i.message.actions});let h=i.priority??s.RX.DEFAULT;return h===s.RX.DEFAULT&&(t===s.NG.SILENT||t===s.NG.ERROR&&i.severity!==s.zb.Error)&&(h=s.RX.SILENT),new _(i.id,e,i.sticky,h,o,i.source,i.progress,r)}static parseNotificationMessage(i){let t;if(i instanceof Error?t=(0,n.yJ)(i,!1):"string"==typeof i&&(t=i),!t)return;const e=t;return t.length>_.MAX_MESSAGE_LENGTH&&(t=`${t.substr(0,_.MAX_MESSAGE_LENGTH)}...`),t=t.replace(/(\r\n|\n|\r)/gm," ").trim(),{raw:e,linkedText:(0,d.J)(t),original:i}}constructor(i,t,e,s,n,r,a,h){super(),this.id=i,this._severity=t,this._sticky=e,this._priority=s,this._message=n,this._source=r,this._visible=!1,this._onDidChangeExpansion=this._register(new o.Q5),this.onDidChangeExpansion=this._onDidChangeExpansion.event,this._onDidClose=this._register(new o.Q5),this.onDidClose=this._onDidClose.event,this._onDidChangeContent=this._register(new o.Q5),this.onDidChangeContent=this._onDidChangeContent.event,this._onDidChangeVisibility=this._register(new o.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,a&&this.setProgress(a),this.setActions(h)}setProgress(i){i.infinite?this.progress.infinite():i.total&&(this.progress.total(i.total),i.worked&&this.progress.worked(i.worked))}setActions(i={primary:[],secondary:[]}){this._actions={primary:Array.isArray(i.primary)?i.primary:[],secondary:Array.isArray(i.secondary)?i.secondary:[]},this._expanded=i.primary&&i.primary.length>0}get canCollapse(){return!this.hasActions}get expanded(){return!!this._expanded}get severity(){return this._severity}get sticky(){if(this._sticky)return!0;const i=this.hasActions;return!!(i&&this._severity===s.zb.Error||!i&&this._expanded||this._progress&&!this._progress.state.done)}get priority(){return this._priority}get hasActions(){return!!this._actions&&!!this._actions.primary&&this._actions.primary.length>0}get hasProgress(){return!!this._progress}get progress(){return this._progress||(this._progress=this._register(new f),this._register(this._progress.onDidChange((()=>this._onDidChangeContent.fire({kind:3}))))),this._progress}get message(){return this._message}get source(){return"string"==typeof this._source?this._source:this._source?this._source.label:void 0}get sourceId(){return this._source&&"string"!=typeof this._source&&"id"in this._source?this._source.id:void 0}get actions(){return this._actions}get visible(){return this._visible}updateSeverity(i){i!==this._severity&&(this._severity=i,this._onDidChangeContent.fire({kind:0}))}updateMessage(i){const t=_.parseNotificationMessage(i);t&&t.raw!==this._message.raw&&(this._message=t,this._onDidChangeContent.fire({kind:1}))}updateActions(i){this.setActions(i),this._onDidChangeContent.fire({kind:2})}updateVisibility(i){this._visible!==i&&(this._visible=i,this._onDidChangeVisibility.fire(i))}expand(){!this._expanded&&this.canCollapse&&(this._expanded=!0,this._onDidChangeExpansion.fire())}collapse(i){this._expanded&&this.canCollapse&&(this._expanded=!1,i||this._onDidChangeExpansion.fire())}toggle(){this._expanded?this.collapse():this.expand()}close(){this._onDidClose.fire(),this.dispose()}equals(i){if(this.hasProgress||i.hasProgress)return!1;if("string"==typeof this.id||"string"==typeof i.id)return this.id===i.id;if("object"==typeof this._source){if(this._source.label!==i.source||this._source.id!==i.sourceId)return!1}else if(this._source!==i.source)return!1;if(this._message.raw!==i.message.raw)return!1;const t=this._actions&&this._actions.primary||[],e=i.actions&&i.actions.primary||[];return(0,c.fS)(t,e,((i,t)=>i.id+i.label===t.id+t.label))}}class m extends h.aU{constructor(i,t){super(i,t.label,void 0,!0,(async()=>{t.run(),this._onDidRun.fire()})),this._onDidRun=this._register(new o.Q5),this.onDidRun=this._onDidRun.event,this._keepOpen=!!t.keepOpen,this._menu=!t.isSecondary&&t.menu?t.menu.map(((t,e)=>new m(`${i}.${e}`,t))):void 0}get menu(){return this._menu}get keepOpen(){return this._keepOpen}}class p{static create(i,t){if(!i||(0,a.n2)(i))return;let e;return i instanceof Error?e=(0,n.yJ)(i,!1):"string"==typeof i&&(e=i),e?{message:e,options:t}:void 0}}}}]);
//# sourceMappingURL=384.bundle.js.map